(this["webpackJsonpDelivery Pay - admin"]=this["webpackJsonpDelivery Pay - admin"]||[]).push([[0],{108:function(e,t,c){},109:function(e,t,c){},110:function(e,t,c){},111:function(e,t,c){},112:function(e,t,c){"use strict";c.r(t);var n=c(72),s=c(73),a=c(76),r=c(75),i=c(1),l=c.n(i),o=c(24),j=c.n(o),d=(c(81),c(2)),b=c(0),u=Object(i.createContext)(),h=function(e){var t=e.children,c=Object(i.useState)(null),n=Object(d.a)(c,2),s=n[0],a=n[1],r=Object(i.useState)(!1),l=Object(d.a)(r,2),o=l[0],j=l[1];return Object(b.jsx)(u.Provider,{value:{user:s,setUser:a,isAuthenticated:o,setIsAuthenticated:j},children:t})},O=c(9),x=c(7),m=c(43),f=c(12),p=c.p+"static/media/tick.71f1b4df.svg",g=c.p+"static/media/tick_border.30a56233.svg",v=c(11),N=function(e){var t=e.containerClass,c=e.open,n=e.setOpen,s=e.children,a=e.className,r=e.onBackdropClick,l=e.backdropClass,j=e.style,d=e.head,u=e.label;return Object(i.useEffect)((function(){if(t){var e=document.querySelector("#portal");return e.classList.add(t),function(){return e.classList.remove(t)}}})),c?Object(o.createPortal)(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"modalBackdrop ".concat(l),onClick:function(){null===r||void 0===r||r()}}),Object(b.jsxs)("div",{style:Object(v.a)({},j),className:"modal ".concat(a||""),children:[d&&Object(b.jsxs)("div",{className:"head",children:[Object(b.jsx)("p",{className:"modalName",children:u}),Object(b.jsx)("button",{onClick:function(){return null===n||void 0===n?void 0:n(!1)},children:Object(b.jsx)(k,{})})]}),s]})]}),document.querySelector("#portal")):null},C=function(e){var t=e.className,c=e.label,n=e.question,s=e.callback,a=function(){return j.a.render(Object(b.jsx)(b.Fragment,{}),document.querySelector("#confirm"))},r=function(){return a()};j.a.render(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"modalBackdrop"}),Object(b.jsxs)("div",{className:"modal confirm ".concat(t||""),children:[Object(b.jsxs)("div",{className:"head",children:[Object(b.jsx)("p",{className:"modalName",children:c}),Object(b.jsx)("button",{onClick:r,children:Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(b.jsx)("defs",{children:Object(b.jsx)("clipPath",{id:"clip-path",children:Object(b.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(b.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(b.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})})]}),Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)("p",{className:"question",children:n}),Object(b.jsxs)("div",{className:"actions",children:[Object(b.jsx)("button",{className:"yes",onClick:function(){s(),a()},children:"Confirm"}),Object(b.jsx)("button",{className:"no",onClick:r,children:"Decline"})]})]})]})]}),document.querySelector("#confirm"))};c(83);var y=function(){return Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"158",height:"158",viewBox:"0 0 158 158",children:[Object(b.jsx)("defs",{children:Object(b.jsxs)("linearGradient",{id:"linear-gradient-red",x1:"-0.298",y1:"-0.669",x2:"1.224",y2:"1.588",gradientUnits:"objectBoundingBox",children:[Object(b.jsx)("stop",{offset:"0",stopColor:"#f93389"}),Object(b.jsx)("stop",{offset:"1",stopColor:"#e3003e"})]})}),Object(b.jsx)("rect",{id:"Rectangle_1104","data-name":"Rectangle 1104",width:"158",height:"158",rx:"79",fill:"url(#linear-gradient-red)"}),Object(b.jsx)("g",{id:"Component_85_8","data-name":"Component 85 \u2013 8",transform:"translate(49.472 49.472)",children:Object(b.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M29.527,34.9,5.368,59.057,0,53.686,24.158,29.527,0,5.368,5.368,0l24.16,24.158L53.686,0l5.371,5.368L34.9,29.527l24.16,24.158-5.371,5.371Z",fill:"#fff"})})]})},w=function(){return Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"158",height:"158",viewBox:"0 0 158 158",children:[Object(b.jsxs)("defs",{children:[Object(b.jsxs)("linearGradient",{id:"linear-gradient",x1:"-0.298",y1:"-0.669",x2:"1.224",y2:"1.588",gradientUnits:"objectBoundingBox",children:[Object(b.jsx)("stop",{offset:"0",stopColor:"#336cf9"}),Object(b.jsx)("stop",{offset:"1",stopColor:"#1be6d6"})]}),Object(b.jsx)("clipPath",{id:"clip-path",children:Object(b.jsx)("rect",{width:"64",height:"64",fill:"none"})})]}),Object(b.jsxs)("g",{id:"Group_163","data-name":"Group 163",transform:"translate(-0.426 -0.384)",children:[Object(b.jsx)("g",{id:"Group_103","data-name":"Group 103",transform:"translate(0 0)",children:Object(b.jsx)("rect",{id:"Rectangle_1104","data-name":"Rectangle 1104",width:"158",height:"158",rx:"79",transform:"translate(0.426 0.384)",fill:"url(#linear-gradient)"})}),Object(b.jsxs)("g",{id:"Component_148_2","data-name":"Component 148 \u2013 2",transform:"translate(47.426 58.384)",clipPath:"url(#clip-path)",children:[Object(b.jsx)("rect",{id:"Rectangle_460","data-name":"Rectangle 460",width:"64",height:"64",transform:"translate(0 0)",fill:"none"}),Object(b.jsx)("path",{id:"Checkbox",d:"M25.35,44.087,0,18.737l5.143-5.143L25.35,33.432,58.782,0l5.143,5.143Z",transform:"translate(0 1.728)",fill:"#fff"})]})]})]})},k=function(){return Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(b.jsx)("defs",{children:Object(b.jsx)("clipPath",{id:"clip-path",children:Object(b.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(b.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(b.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})},D=function(){return Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:[Object(b.jsx)("line",{id:"Line_29","data-name":"Line 29",y2:"20",transform:"translate(10)",fill:"none",stroke:"#006dff",strokeWidth:"2"}),Object(b.jsx)("line",{id:"Line_30","data-name":"Line 30",x2:"20",transform:"translate(0 10)",fill:"none",stroke:"#006dff",strokeWidth:"2"})]})},M=function(){return Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",children:Object(b.jsx)("path",{id:"Path_10","data-name":"Path 10",d:"M8,0,6.545,1.455l5.506,5.506H0V9.039H12.052L6.545,14.545,8,16l8-8Z",transform:"translate(16 16) rotate(180)",fill:"#2699fb"})})},S=function(){return Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23.616",height:"13.503",viewBox:"0 0 23.616 13.503",children:Object(b.jsx)("path",{id:"Icon_ionic-ios-arrow-down","data-name":"Icon ionic-ios-arrow-down",d:"M18,20.679l8.93-8.937a1.681,1.681,0,0,1,2.384,0,1.7,1.7,0,0,1,0,2.391L19.2,24.258a1.685,1.685,0,0,1-2.327.049L6.68,14.14a1.688,1.688,0,0,1,2.384-2.391Z",transform:"translate(-6.188 -11.246)",fill:"#53aefc"})})},Y=function(e){var t=e.defaultValue,c=e.required,n=e.onChange,s=Object(i.useState)(t),a=Object(d.a)(s,2),r=a[0],l=a[1];return Object(b.jsx)("section",{className:"checkbox",children:Object(b.jsxs)("div",{className:"ticks",onClick:function(){return l(!r)},children:[Object(b.jsx)("input",{type:"checkbox",value:r,required:c,onChange:function(e){l(!r),null===n||void 0===n||n(e)}}),Object(b.jsx)("img",{src:g}),r&&Object(b.jsx)("img",{src:p})]})})},P=function(e){var t=e.options,c=e.defaultValue,n=e.onChange,s=e.maxHeight,a=e.required,r=(e.disabled,e.dataId,e.validationMessage,e.className,e.placeholder),l=Object(i.useState)((function(){return c>-1&&t[c]?t[c].label:"object"===typeof c?c:""})),o=Object(d.a)(l,2),j=o[0],u=o[1],h=Object(i.useState)(!1),O=Object(d.a)(h,2),x=O[0],m=O[1],f=Object(i.useState)(""),p=Object(d.a)(f,2),g=p[0],v=p[1],C=Object(i.useState)({}),y=Object(d.a)(C,2),w=y[0],k=y[1],D=Object(i.useRef)(),M=Object(i.useRef)(),S=Object(i.useRef)();return Object(i.useLayoutEffect)((function(){var e,c=M.current.getBoundingClientRect(),n=c.width,s=c.height,a=c.x,r=c.y;k({position:"absolute",left:a,top:r+s,width:n,height:(null===(e=S.current)||void 0===e?void 0:e.clientHeight)*t.length||41,maxHeight:window.innerHeight-(r+s)-16})}),[x]),Object(b.jsxs)("section",{className:"combobox ".concat(x?"open":""),ref:M,onClick:function(){return m(!x)},children:[r&&!j&&Object(b.jsx)("label",{children:r}),Object(b.jsx)("input",{ref:D,required:a,data:g,value:j,onFocus:function(e){return e.target.blur()},onChange:function(){}}),Object(b.jsx)("button",{type:"button",children:Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"8.872",viewBox:"0 0 13 8.872",children:[Object(b.jsx)("defs",{children:Object(b.jsx)("clipPath",{id:"clip-path",children:Object(b.jsx)("rect",{width:"8.872",height:"13",fill:"none"})})}),Object(b.jsx)("g",{id:"Component_47_7","data-name":"Component 47 \u2013 7",transform:"translate(0 8.872) rotate(-90)",clipPath:"url(#clip-path)",children:Object(b.jsx)("path",{id:"Path_36","data-name":"Path 36",d:"M6.5,8.872,0,2.036,1.936,0,6.5,4.8,11.064,0,13,2.036Z",transform:"translate(8.872) rotate(90)",fill:"#336cf9"})})]})}),Object(b.jsx)(N,{className:"sectionOptions",open:x,setOpen:m,backdropClass:"selectionOptionBack",onBackdropClick:function(){return m(!1)},style:w,children:Object(b.jsx)("ul",{style:{width:"100%",maxHeight:x?s:0,zIndex:100},className:"options",children:t.map((function(e){return Object(b.jsx)("li",{ref:S,onClick:function(t){v(e.value),u(e.label),n&&n(e),m(!1),D.current.setCustomValidity("")},className:"option".concat(" ",j===e.label?"selected":""),children:e.label},e.label)}))})})]})},A=function(e){var t=e.required,c=e.onChange,n=e.prefill,s=(e.label,e.multiple),a=e.accept,r=Object(i.useState)(n||[]),l=Object(d.a)(r,2),o=l[0],j=l[1];return Object(i.useEffect)((function(){c(o)}),[o]),Object(b.jsxs)("section",{className:"fileInput",children:[o.map((function(e,t){var c="string"===typeof e?{type:"url",url:e}:{type:e.type,name:e.name,url:URL.createObjectURL(e)},n=c.type.startsWith("image")||c.url.match(/(\.gif|\.png|\.jpg|\.jpeg|\.webp)$/);return Object(b.jsxs)("div",{className:"file ".concat(n?"thumb":"any"),children:[Object(b.jsx)("button",{className:"close",type:"button",onClick:function(){return j((function(e){return e.filter((function(e,c){return c!==t}))}))},children:Object(b.jsx)(k,{})}),Object(b.jsx)("img",{className:n?"thumb":"",src:n?c.url:"/file_icon.png"}),!n&&Object(b.jsx)("p",{className:"filename",children:e.name})]},t)})),Object(b.jsxs)("div",{className:"uploadBtn",children:[Object(b.jsx)(D,{}),Object(b.jsx)("input",{type:"file",multiple:s,required:t,accept:a,onChange:function(e){j((function(t){return[].concat(Object(f.a)(t),Object(f.a)(Object(f.a)(e.target.files).filter((function(e){return!o.some((function(t){return t.name===e.name}))}))))}))}})]})]})},F=function(e){var t=e.total,c=e.btns,n=e.perPage,s=e.currentPage,a=(e.setCurrentPage,e.setPage),r=Object(i.useState)([]),l=Object(d.a)(r,2),o=l[0],j=l[1],u=Object(i.useState)([]),h=Object(d.a)(u,2),O=h[0],x=h[1];return Object(i.useEffect)((function(){j(Object(f.a)(Array(Math.ceil(t/n)).keys()).map((function(e){return e+1}))),x(Object(f.a)(Array(c).keys()).map((function(e){return e+1})))}),[t,n]),t<=n?Object(b.jsx)(b.Fragment,{}):Object(b.jsxs)("div",{className:"paginaiton",children:[Object(b.jsx)("button",{disabled:s<=1,onClick:function(){return a((function(e){return e-1}))},children:"<"}),Object(b.jsxs)("ul",{className:"pages",children:[o.length<=c&&o.map((function(e){return Object(b.jsx)("li",{className:e===s?"active":"",children:Object(b.jsx)("button",{onClick:function(){return a(e)},children:e})},e)})),o.length>c&&O.map((function(e){var t=o.length-c,n=Math.ceil(c/2),r=0;s>n&&(r=s-n+c<=o.length?s-n:t);var i=e+r;return Object(b.jsx)("li",{className:i===s?"active":"",children:Object(b.jsx)("button",{onClick:function(){return a(e)},children:i})},i)}))]}),Object(b.jsx)("button",{disabled:s>=o.length,onClick:function(){return a((function(e){return e+1}))},children:">"})]})},_=function(){var e=Object(i.useContext)(u);e.user,e.setUser,Object(O.g)();return Object(b.jsxs)("header",{children:[Object(b.jsx)(x.b,{className:"logoLink",to:"/",children:Object(b.jsx)("img",{className:"logo",src:"/logo_land.jpg",alt:"Delivery pay logo"})}),Object(b.jsx)("div",{className:"clas"})]})},q=function(){return Object(b.jsx)("footer",{children:Object(b.jsxs)("div",{className:"links",children:[Object(b.jsx)("a",{href:"https://deliverypay.in/aboutUs",children:"About us"}),Object(b.jsx)("a",{href:"https://deliverypay.in/privacyPolicy",children:"Privacy Policy"}),Object(b.jsx)("a",{href:"https://deliverypay.in/codeOfConduct",children:"Code of Conduct"}),Object(b.jsx)("a",{href:"https://deliverypay.in/copyrightPolicy",children:"Copyright Policy"}),Object(b.jsx)("a",{href:"https://deliverypay.in/fees&Charges",children:"Fees & Charges"}),Object(b.jsx)("a",{href:"https://deliverypay.in/terms",children:"User Agreement"}),Object(b.jsx)("a",{href:"https://deliverypay.in/howItWorks",children:"How it works"}),Object(b.jsx)("a",{href:"https://deliverypay.in/contactUs",children:"Contact us"}),Object(b.jsx)("a",{href:"https://deliverypay.in/refundCancellationPolicy",children:"Refund & Cancellation Policy"}),Object(b.jsx)("a",{href:"https://deliverypay.in/shippingDeliveryPolicy",children:"Shipping & Delivery Policy"})]})})},R=function(e){var t,c=e.files,n=e.setMsg,s="https://cdn.deliverypay.in",a=new FormData,r=[],i=Object(m.a)(c);try{for(i.s();!(t=i.n()).done;){var l=t.value;"string"===typeof l?r.push(l):a.append("file",l)}}catch(o){i.e(o)}finally{i.f()}return fetch("".concat(s,"/upload"),{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){if("ok"===e.code)return[].concat(r,Object(f.a)(e.files.map((function(e){return s+"/"+e}))));n(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return n(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"File upload failed"})]})]}))})).catch((function(e){console.log(e),n(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return n(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"File upload failed. Make sure you're online."})]})]}))}))},V=function(e){var t=e.links,c=Object(i.useState)(!1),n=Object(d.a)(c,2),s=n[0],a=n[1],r=Object(i.useState)(null),l=Object(d.a)(r,2),o=l[0],j=l[1],u=Object(i.useState)(0),h=Object(d.a)(u,2),O=h[0],x=h[1],m=t.map((function(e,t){var c=null,n=null,s=function(e){a(!0),j(n),x(t)};return e.match(/(\.gif|\.png|\.jpg|\.jpeg|\.webp)$/)?(c=Object(b.jsx)("img",{className:O===t?"active":"",src:e,onClick:s},t),n=Object(b.jsx)("img",{src:e},t)):e.match(/(\.mp3|\.ogg|\.amr|\.m4a|\.flac|\.wav|\.aac)$/)?(c=Object(b.jsx)("div",{className:"audioThumb ".concat(O===t?"active":""),onClick:s,children:Object(b.jsx)("img",{src:"/play_btn.png"})},t),n=Object(b.jsx)("audio",{src:e,controls:"on",autoPlay:"on"},t)):e.match(/(\.mp4|\.mov|\.avi|\.flv|\.wmv|\.webm)$/)?(c=Object(b.jsxs)("div",{className:"videoThumb ".concat(O===t?"active":""),children:[Object(b.jsx)("video",{src:e,onClick:s}),Object(b.jsx)("img",{src:"/play_btn.png"})]},t),n=Object(b.jsx)("video",{src:e,controls:"on",autoPlay:"on"},t)):c=Object(b.jsx)("a",{href:t,children:e},t),c}));return Object(b.jsxs)(b.Fragment,{children:[m,Object(b.jsxs)(N,{className:"mediaModal",open:s,backdropClass:"disputeMediaViewBack",children:[Object(b.jsx)("button",{className:"close",onClick:function(){return a(!1)},children:Object(b.jsx)(k,{})}),Object(b.jsx)("div",{className:"view",children:o}),Object(b.jsx)("div",{className:"thumbs",children:m})]})]})},T=c(29),H=c.n(T);c(92);var B=function(){var e=Object(i.useContext)(u),t=e.user,c=e.setUser,n=Object(O.g)(),s=Object(i.useState)(""),a=Object(d.a)(s,2),r=a[0],l=a[1],o=Object(i.useState)(""),j=Object(d.a)(o,2),h=j[0],m=(j[1],Object(i.useState)("+91")),f=Object(d.a)(m,2),p=f[0],g=f[1],v=Object(i.useState)(""),N=Object(d.a)(v,2),C=N[0],y=N[1],w=Object(i.useState)(""),k=Object(d.a)(w,2),D=k[0],M=k[1],S=Object(i.useState)(null),P=Object(d.a)(S,2),A=P[0],F=P[1];return Object(i.useEffect)((function(){F(null)}),[D]),Object(b.jsxs)("div",{className:"formWrapper",children:[Object(b.jsx)("img",{className:"logo",onClick:function(){return n.push("")},src:"/logo_benner.jpg",alt:"Delivery pay logo"}),Object(b.jsx)("p",{className:"title",children:"Register as Admin"}),Object(b.jsxs)("p",{className:"links",children:["Already have an account? ",Object(b.jsx)(x.b,{to:"/login",children:"Login"})]}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),C===D?p.match(/^\+91\d{10}$/)?A||fetch("/api/registerAdmin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,phone:p,email:h,password:C})}).then((function(e){return e.json()})).then((function(e){e.user?(c(t),n.push("/dashboard/home")):11e3===e.code&&F("Email/Phone already exists.")})):F("Enter valid phone number"):F("Password did not match.")},children:[Object(b.jsx)("input",{type:"text",name:"firstName",required:!0,placeholder:"Full Name",value:r,onChange:function(e){return l(e.target.value)}}),Object(b.jsx)("input",{type:"tel",name:"phone",required:!0,placeholder:"Phone number",value:p,onChange:function(e){F(null),e.target.value.match(/^\+91\d{0,10}$/)&&g(e.target.value)}}),Object(b.jsx)("section",{className:"pass",children:Object(b.jsx)("input",{type:"password",name:"password",required:!0,placeholder:"Password","aria-autocomplete":"list",autoComplete:"new-password",onChange:function(e){return y(e.target.value)}})}),Object(b.jsx)("section",{className:"repeatPass",children:Object(b.jsx)("input",{type:"password",name:"confirm_password",id:"confirm_password",required:!0,placeholder:"Confirm Password","aria-autocomplete":"list",autoComplete:"new-password",onChange:function(e){return M(e.target.value)}})}),Object(b.jsxs)("section",{className:"checkbox",children:[Object(b.jsx)(Y,{required:!0}),Object(b.jsx)("label",{children:"I accept the Terms and Conditions and Privacy Policy"})]}),Object(b.jsx)("button",{disabled:A,type:"submit",children:"Register"})]}),A&&Object(b.jsx)("p",{className:"errMsg",children:A})]})},I=function(){var e=Object(i.useContext)(u),t=e.user,c=e.setUser,n=Object(O.g)(),s=Object(i.useState)(""),a=Object(d.a)(s,2),r=a[0],l=a[1],o=Object(i.useState)(""),j=Object(d.a)(o,2),h=j[0],m=j[1],f=Object(i.useState)(!1),p=Object(d.a)(f,2),g=p[0],v=p[1],N=function(e){e.tokenId&&fetch("/api/adminLoginUsingSocial",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({googleToken:e.tokenId})}).then((function(e){return e.json()})).then((function(e){e.user?(c(t),n.push("/dashboard/home")):401===e.code&&(v("No account is associated with this Google account."),setTimeout((function(){return v(null)}),2e3))}))};return Object(b.jsxs)("div",{className:"formWrapper login",children:[Object(b.jsx)("img",{className:"logo",onClick:function(){return n.push("")},src:"/logo_benner.jpg",alt:"Delivery pay logo"}),Object(b.jsx)("p",{className:"title",children:"Login as Admin"}),Object(b.jsxs)("p",{className:"links",children:["Don't have an account? ",Object(b.jsx)(x.b,{to:"/join",children:"Register"})]}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g||fetch("/api/adminLogin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:h})}).then((function(e){return e.json()})).then((function(e){e.user?(c(e.user),console.log(t),n.push("/dashboard/home")):401===e.code&&v("Invalid credential!")}))},children:[Object(b.jsx)("input",{type:"text",name:"username",required:!0,placeholder:"Email  or Phone Number",value:r,onChange:function(e){v(!1),l(e.target.value)}}),Object(b.jsxs)("section",{className:"pass",children:[Object(b.jsx)("input",{type:"password",name:"password",required:!0,placeholder:"Password",value:h,onChange:function(e){v(!1),m(e.target.value)}}),Object(b.jsx)(x.b,{className:"passReset",to:"/resetPassword",children:"Forgot password?"})]}),Object(b.jsx)("button",{disabled:g,type:"submit",children:"Login"})]}),Object(b.jsx)("section",{className:"socials",children:Object(b.jsx)(T.GoogleLogin,{className:"google",clientId:"978249749020-kjq65au1n373ur5oap7n4ebo2fq1jdhq.apps.googleusercontent.com",buttonText:"Continue with Google",onSuccess:N,onFailure:N,cookiePolicy:"single_host_origin"})}),g&&Object(b.jsx)("p",{className:"errMsg",children:g})]})},L=function(){var e=Object(i.useContext)(u),t=e.user,c=e.setUser,n=Object(i.useState)(!1),s=Object(d.a)(n,2),a=s[0],r=s[1],l=Object(O.g)(),o=Object(i.useState)(1),j=Object(d.a)(o,2),h=j[0],m=j[1],p=Object(i.useState)(""),g=Object(d.a)(p,2),v=g[0],N=g[1],C=Object(i.useState)(!1),y=Object(d.a)(C,2),w=(y[0],y[1],Object(i.useState)(["","","","","",""])),k=Object(d.a)(w,2),D=k[0],M=k[1],S=Object(i.useState)(""),Y=Object(d.a)(S,2),P=Y[0],A=Y[1],F=Object(i.useState)(""),_=Object(d.a)(F,2),q=_[0],R=_[1],V=Object(i.useState)(!1),T=Object(d.a)(V,2),H=T[0],B=T[1],I=Object(i.useRef)(null),L=Object(i.useRef)(null),W=Object(i.useRef)(null),E=Object(i.useRef)(null),Z=Object(i.useRef)(null),U=Object(i.useRef)(null),G=function(e){var n=null,s=null;e.preventDefault();var a=new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),i=new RegExp(/((\+*)((0[ -]+)*|(91 )*)(\d{12}|\d{10}))|\d{5}([- ]*)\d{6}/);if(a.test(v.toLowerCase())?s=v.toLowerCase():i.test(v.toLowerCase())&&(n="+91"+v.replace(/^\+?9?1?/,"")),1===h){if(H)return;n||s?(r(!0),fetch("/api/sendAdminForgotPassOTP",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:n,email:s})}).then((function(e){r(!1),200===e.status?m(2):B("User does does not exists.")}))):B("Enter a valid phone number or email.")}else if(2===h)r(!0),fetch("/api/submitAdminForgotPassOTP",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:n,code:D.join("")})}).then((function(e){r(!1),200===e.status?m(3):400===e.status?(M(["","","","","",""]),B("Wrong code!")):429===e.status?(m(1),N(""),M(["","","","","",""]),B("Too many attempts. Start again.")):404===e.status&&(m(1),N(""),M(["","","","","",""]),B("Timeout. Start again"))}));else if(3===h){if(P!==q)return void B("Password did not match");r(!0),fetch("/api/adminResetPass",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:n,code:D.join(""),newPass:P})}).then((function(e){return e.json()})).then((function(e){r(!1),e.user&&(c(t),l.push("/account/home"))})).catch((function(e){console.log(e),r(!1)}))}};return Object(i.useEffect)((function(){D.join("")&&B(null)}),[D]),Object(b.jsxs)("div",{className:"formWrapper resetPass",children:[Object(b.jsx)("img",{className:"logo",src:"/logo_benner.jpg",alt:"Delivery pay logo"}),Object(b.jsx)("p",{className:"title",children:"Password reset"}),Object(b.jsxs)("p",{className:"links",children:["Already have an account?",Object(b.jsx)(x.b,{to:"/login",children:"Login"})]}),1===h&&Object(b.jsxs)("form",{onSubmit:G,children:[Object(b.jsx)("input",{type:"text",name:"phone",required:!0,placeholder:"Phone Number or email",value:v,onChange:function(e){B(null),N(e.target.value)}}),Object(b.jsx)("button",{disabled:H||a,type:"submit",children:"Next"})]}),2===h&&Object(b.jsxs)("form",{onSubmit:G,children:[Object(b.jsx)("label",{children:"A 6 digit code has been sent to your phone. Enter the code below."}),Object(b.jsxs)("section",{className:"code",children:[Object(b.jsx)("input",{ref:I,type:"number",value:D[0],required:!0,onChange:function(e){M((function(t){var c=Object(f.a)(t);return c[0]=e.target.value[0]||"",c})),1===e.target.value.length&&L.current.focus()}}),Object(b.jsx)("input",{ref:L,type:"number",value:D[1],required:!0,onChange:function(e){M((function(t){var c=Object(f.a)(t);return c[1]=e.target.value[0]||"",c})),1===e.target.value.length&&W.current.focus()}}),Object(b.jsx)("input",{ref:W,type:"number",value:D[2],required:!0,onChange:function(e){M((function(t){var c=Object(f.a)(t);return c[2]=e.target.value[0]||"",c})),1===e.target.value.length&&E.current.focus()}}),Object(b.jsx)("input",{ref:E,type:"number",value:D[3],required:!0,onChange:function(e){M((function(t){var c=Object(f.a)(t);return c[3]=e.target.value[0]||"",c})),1===e.target.value.length&&Z.current.focus()}}),Object(b.jsx)("input",{ref:Z,type:"number",value:D[4],required:!0,onChange:function(e){M((function(t){var c=Object(f.a)(t);return c[4]=e.target.value[0]||"",c})),1===e.target.value.length&&U.current.focus()}}),Object(b.jsx)("input",{ref:U,type:"number",value:D[5],required:!0,onChange:function(e){M((function(t){var c=Object(f.a)(t);return c[5]=e.target.value[0]||"",c}))}})]}),Object(b.jsx)("button",{disabled:H||a,type:"submit",children:"Next"})]}),3===h&&Object(b.jsxs)("form",{onSubmit:G,children:[Object(b.jsx)("input",{type:"password",name:"password",required:!0,placeholder:"Password","aria-autocomplete":"list",autoComplete:"new-password",onChange:function(e){B(null),A(e.target.value)}}),Object(b.jsx)("section",{className:"pass",children:Object(b.jsx)("input",{type:"password",name:"confirm_password",id:"confirm_password",required:!0,placeholder:"Confirm Password","aria-autocomplete":"list",autoComplete:"new-password",onChange:function(e){B(null),R(e.target.value)}})}),Object(b.jsx)("button",{disabled:H||a,type:"submit",children:3===h?"Submit":"Next"})]}),H&&Object(b.jsx)("p",{className:"errMsg",children:H})]})};var W=function(){var e=Object(i.useContext)(u).setUser,t=Object(O.g)();return Object(i.useEffect)((function(){fetch("/api/authAdmin").then((function(e){return e.json()})).then((function(c){var n;c.user&&(e(c.user),t.push((null===(n=t.location.state)||void 0===n?void 0:n.from)||"/dashboard/home"))}))}),[]),Object(b.jsxs)("div",{className:"generic",children:[Object(b.jsx)(_,{}),Object(b.jsxs)("div",{className:"userStart",children:[Object(b.jsxs)("div",{className:"banner",children:[Object(b.jsxs)("div",{className:"header",children:[Object(b.jsx)("h3",{children:"This section is only for Admins"}),Object(b.jsx)("p",{children:"Make sure you know what you're doing."})]}),Object(b.jsx)("img",{className:"illustration",src:"/landingPage_illustration.png",alt:"illustration"})]}),Object(b.jsx)("div",{className:"forms",children:Object(b.jsxs)(O.d,{children:[Object(b.jsx)(O.b,{path:"/join",children:Object(b.jsx)(B,{})}),Object(b.jsx)(O.b,{path:"/resetPassword",children:Object(b.jsx)(L,{})}),Object(b.jsx)(O.b,{path:"/",children:Object(b.jsx)(I,{})})]})})]}),Object(b.jsx)(q,{})]})},E=c(6),Z=c.n(E),U=(c(52),c(53),c(17)),G=c(8),J=c.n(G);c(58);var Q=function(e){e.history,e.location,e.pathname;var t=Object(i.useRef)(),c=Object(i.useState)(null),n=Object(d.a)(c,2),s=n[0],a=n[1],r=Object(i.useState)(0),l=Object(d.a)(r,2),o=l[0],j=l[1],u=Object(i.useState)([]),h=Object(d.a)(u,2),O=h[0],x=h[1],m=Object(i.useState)({column:"createdAt",order:"dsc"}),f=Object(d.a)(m,2),p=f[0],g=f[1],v=Object(i.useState)({startDate:new Date,endDate:new Date}),C=Object(d.a)(v,2),w=C[0],D=C[1],M=Object(i.useState)(!1),Y=Object(d.a)(M,2),A=Y[0],_=Y[1],q=Object(i.useState)(1),R=Object(d.a)(q,2),V=R[0],T=R[1],H=Object(i.useState)(""),B=Object(d.a)(H,2),I=B[0],L=B[1],W=Object(i.useState)(20),E=Object(d.a)(W,2),G=E[0],Q=E[1],z=Object(i.useState)({}),$=Object(d.a)(z,2),K=$[0],X=$[1],ee=Object(i.useState)(!1),te=Object(d.a)(ee,2),ce=te[0],ne=te[1];return Object(i.useLayoutEffect)((function(){var e=t.current.getBoundingClientRect(),c=e.height,n=e.y,s=e.width,a=e.x;X({position:"fixed",top:c+n+4,right:window.innerWidth-a-s})}),[]),Object(i.useEffect)((function(){var e=J()(w.startDate).format("YYYY-MM-DD"),t=(J()(w.endDate).format("YYYY-MM-DD"),J()(new Date(w.endDate).setDate(w.endDate.getDate()+1)).format("YYYY-MM-DD"));fetch("/api/transactions?page=".concat(V,"&perPage=").concat(G,"&sort=").concat(p.column,"&order=").concat(p.order).concat(I&&"&q="+I).concat(ce?"&dateFrom="+e+"&dateTo="+t:"")).then((function(e){return e.json()})).then((function(e){var t;"ok"===e.code?(x(e.transactions.transactions),j((null===(t=e.transactions.pageInfo[0])||void 0===t?void 0:t.count)||0)):a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not get transactions."})]})]}))})).catch((function(e){console.log(e),a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not get transactions. Make sure you're online."})]})]}))}))}),[V,G,p.column,p.order,I,ce]),Object(b.jsxs)("div",{className:"table transContainer",children:[Object(b.jsx)("div",{style:{display:"none"},children:Object(b.jsx)(k,{})}),Object(b.jsxs)("div",{className:"filters",children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Total:"}),o]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Per Page:"}),Object(b.jsx)(P,{defaultValue:0,options:[{label:"20",value:20},{label:"30",value:30},{label:"50",value:50}],onChange:function(e){return Q(e.value)}})]}),Object(b.jsxs)("section",{className:"search",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23",children:Object(b.jsx)("path",{id:"Icon_ionic-ios-search","data-name":"Icon ionic-ios-search",d:"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z",transform:"translate(-4.5 -4.493)",fill:"#707070",opacity:"0.74"})}),Object(b.jsx)("input",{value:I,onChange:function(e){return L(e.target.value)},placeholder:"Search User's name, phone, Transaction ID, note"}),I&&Object(b.jsx)("button",{onClick:function(){return L("")},children:Object(b.jsx)(k,{})})]}),Object(b.jsxs)("section",{className:"date ".concat(ce?"open":""),ref:t,onClick:function(){return _(!0)},children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30.971",height:"30.971",viewBox:"0 0 30.971 30.971",children:Object(b.jsx)("path",{id:"Path_299","data-name":"Path 299",d:"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z",fill:"#336cf9"})}),ce&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"dates",children:[Object(b.jsxs)("p",{children:["From:"," ",Object(b.jsx)(Z.a,{format:"DD MMM, YYYY",children:w.startDate})]}),Object(b.jsxs)("p",{children:["To: ",Object(b.jsx)(Z.a,{format:"DD MMM, YYYY",children:w.endDate})]})]}),Object(b.jsx)("button",{className:"clearDateFilter",onClick:function(){D({startDate:new Date,endDate:new Date}),ne(!1)},children:Object(b.jsx)(k,{})})]})]})]}),Object(b.jsxs)("table",{cellSpacing:0,cellPadding:0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsxs)("th",{className:"createdAt"===p.column?"sort "+p.order:"",onClick:function(){g((function(e){return{column:"createdAt",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Date ",Object(b.jsx)(S,{})]}),Object(b.jsxs)("th",{className:"user.firstName"===p.column?"sort "+p.order:"",onClick:function(){g((function(e){return{column:"user.firstName",order:"dsc"===e.order?"asc":"dsc"}}))},children:["User ",Object(b.jsx)(S,{})]}),Object(b.jsx)("th",{children:"Transaction ID"}),Object(b.jsxs)("th",{className:"note"===p.column?"sort "+p.order:"",onClick:function(){g((function(e){return{column:"note",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Note ",Object(b.jsx)(S,{})]}),Object(b.jsxs)("th",{className:"amount"===p.column?"sort "+p.order:"",onClick:function(){g((function(e){return{column:"amount",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Amount ",Object(b.jsx)(S,{})]})]})}),Object(b.jsxs)("tbody",{children:[O.map((function(e){var t,c,n,s;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)(Z.a,{format:"DD MMM, YYYY. hh:mm a",children:e.createdAt})}),Object(b.jsxs)("td",{className:"user",children:[Object(b.jsx)("img",{src:(null===(t=e.user)||void 0===t?void 0:t.profileImg)||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[e.user?(null===(c=e.user)||void 0===c?void 0:c.firstName)+" "+(null===(n=e.user)||void 0===n?void 0:n.lastName):"Deleted user",Object(b.jsx)("span",{className:"phone",children:null===(s=e.user)||void 0===s?void 0:s.phone})]})]}),Object(b.jsx)("td",{children:e._id}),Object(b.jsx)("td",{children:e.note}),Object(b.jsxs)("td",{children:["\u20b9 ",e.amount]})]},e._id)})),0===O.length&&Object(b.jsx)("tr",{className:"placeholder",children:Object(b.jsx)("td",{children:"Nothing yet."})})]}),Object(b.jsx)("tfoot",{children:Object(b.jsx)("tr",{children:Object(b.jsx)(F,{total:o,perPage:G,currentPage:V,btns:5,setPage:T})})})]}),Object(b.jsx)(N,{open:s,className:"msg",children:s}),Object(b.jsx)(N,{open:A,onBackdropClick:function(){return _(!1)},backdropClass:"datePicker",style:K,children:Object(b.jsx)(U.DateRange,{className:"dateRange",ranges:[w],onChange:function(e){D(e.range1),e.range1.endDate!==e.range1.startDate&&(_(!1),ne(!0))}})})]})};c(58);var z=function(e){e.history,e.location,e.pathname;var t=Object(i.useRef)(),c=Object(i.useState)(null),n=Object(d.a)(c,2),s=n[0],a=n[1],r=Object(i.useState)(0),l=Object(d.a)(r,2),o=l[0],j=l[1],u=Object(i.useState)([]),h=Object(d.a)(u,2),O=h[0],x=h[1],m=Object(i.useState)({column:"createdAt",order:"dsc"}),f=Object(d.a)(m,2),p=f[0],g=f[1],v=Object(i.useState)({startDate:new Date,endDate:new Date}),C=Object(d.a)(v,2),w=C[0],D=C[1],M=Object(i.useState)(""),Y=Object(d.a)(M,2),A=Y[0],_=Y[1],q=Object(i.useState)(!1),R=Object(d.a)(q,2),V=R[0],T=R[1],H=Object(i.useState)(1),B=Object(d.a)(H,2),I=B[0],L=B[1],W=Object(i.useState)(""),E=Object(d.a)(W,2),G=E[0],Q=E[1],z=Object(i.useState)(20),$=Object(d.a)(z,2),K=$[0],X=$[1],ee=Object(i.useState)({}),te=Object(d.a)(ee,2),ce=te[0],ne=te[1],se=Object(i.useState)(!1),ae=Object(d.a)(se,2),re=ae[0],ie=ae[1];return Object(i.useLayoutEffect)((function(){var e=t.current.getBoundingClientRect(),c=e.height,n=e.y,s=e.width,a=e.x;ne({position:"fixed",top:c+n+4,right:window.innerWidth-a-s})}),[]),Object(i.useEffect)((function(){var e=J()(w.startDate).format("YYYY-MM-DD"),t=(J()(w.endDate).format("YYYY-MM-DD"),J()(new Date(w.endDate).setDate(w.endDate.getDate()+1)).format("YYYY-MM-DD"));fetch("/api/milestones?page=".concat(I,"&perPage=").concat(K,"&sort=").concat(p.column,"&order=").concat(p.order).concat(G&&"&q="+G).concat(re?"&dateFrom="+e+"&dateTo="+t:"").concat(A&&"&status="+A)).then((function(e){return e.json()})).then((function(e){var t;"ok"===e.code?(x(e.milestones.milestones),j((null===(t=e.milestones.pageInfo[0])||void 0===t?void 0:t.count)||0)):a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not get transactions."})]})]}))})).catch((function(e){console.log(e),a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not get transactions. Make sure you're online."})]})]}))}))}),[I,K,p.column,p.order,G,re,A]),Object(b.jsxs)("div",{className:"table milestoneContainer",children:[Object(b.jsx)("div",{style:{display:"none"},children:Object(b.jsx)(k,{})}),Object(b.jsxs)("div",{className:"filters",children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Total:"}),o]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Per Page:"}),Object(b.jsx)(P,{defaultValue:0,options:[{label:"20",value:20},{label:"30",value:30},{label:"50",value:50}],onChange:function(e){return X(e.value)}})]}),Object(b.jsxs)("section",{className:"search",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23",children:Object(b.jsx)("path",{id:"Icon_ionic-ios-search","data-name":"Icon ionic-ios-search",d:"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z",transform:"translate(-4.5 -4.493)",fill:"#707070",opacity:"0.74"})}),Object(b.jsx)("input",{value:G,onChange:function(e){return Q(e.target.value)},placeholder:"Search Buyer or Seller's name, phone, Milestone ID"}),G&&Object(b.jsx)("button",{onClick:function(){return Q("")},children:Object(b.jsx)(k,{})})]}),Object(b.jsxs)("section",{className:"status",children:[Object(b.jsx)("label",{children:"Status:"}),Object(b.jsx)(P,{defaultValue:0,options:[{label:"All",value:""},{label:"In Progress",value:"inProgress"},{label:"Pending",value:"pending"},{label:"Released",value:"released"},{label:"Dispute",value:"dispute"}],onChange:function(e){return _(e.value)}})]}),Object(b.jsxs)("section",{className:"date ".concat(re?"open":""),ref:t,onClick:function(){return T(!0)},children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30.971",height:"30.971",viewBox:"0 0 30.971 30.971",children:Object(b.jsx)("path",{id:"Path_299","data-name":"Path 299",d:"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z",fill:"#336cf9"})}),re&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"dates",children:[Object(b.jsxs)("p",{children:["From:"," ",Object(b.jsx)(Z.a,{format:"DD MMM, YYYY",children:w.startDate})]}),Object(b.jsxs)("p",{children:["To: ",Object(b.jsx)(Z.a,{format:"DD MMM, YYYY",children:w.endDate})]})]}),Object(b.jsx)("button",{className:"clearDateFilter",onClick:function(){D({startDate:new Date,endDate:new Date}),ie(!1)},children:Object(b.jsx)(k,{})})]})]})]}),Object(b.jsxs)("table",{cellSpacing:0,cellPadding:0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsxs)("th",{className:"createdAt"===p.column?"sort "+p.order:"",onClick:function(){g((function(e){return{column:"createdAt",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Date ",Object(b.jsx)(S,{})]}),Object(b.jsxs)("th",{className:"seller.firstName"===p.column?"sort "+p.order:"",onClick:function(){g((function(e){return{column:"seller.firstName",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Seller ",Object(b.jsx)(S,{})]}),Object(b.jsxs)("th",{className:"buyer.firstName"===p.column?"sort "+p.order:"",onClick:function(){g((function(e){return{column:"buyer.firstName",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Buyer ",Object(b.jsx)(S,{})]}),Object(b.jsx)("th",{children:"Description"}),Object(b.jsx)("th",{children:"Milestone ID"}),Object(b.jsxs)("th",{className:"status"===p.column?"sort "+p.order:"",onClick:function(){g((function(e){return{column:"status",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Status ",Object(b.jsx)(S,{})]}),Object(b.jsxs)("th",{className:"amount"===p.column?"sort "+p.order:"",onClick:function(){g((function(e){return{column:"amount",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Amount ",Object(b.jsx)(S,{})]})]})}),Object(b.jsxs)("tbody",{children:[O.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)(Z.a,{format:"DD MMM, YYYY. hh:mm a",children:e.createdAt})}),Object(b.jsxs)("td",{className:"user",children:[Object(b.jsx)("img",{src:e.buyer.profileImg||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[e.seller.firstName+" "+e.seller.lastName,Object(b.jsx)("span",{className:"phone",children:e.seller.phone})]})]}),Object(b.jsxs)("td",{className:"user",children:[Object(b.jsx)("img",{src:e.buyer.profileImg||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[e.buyer.firstName+" "+e.buyer.lastName,Object(b.jsx)("span",{className:"phone",children:e.buyer.phone})]})]}),Object(b.jsx)("td",{children:e.dscr}),Object(b.jsx)("td",{children:e._id}),Object(b.jsx)("td",{children:e.status}),Object(b.jsxs)("td",{children:["\u20b9 ",e.amount]})]},e._id)})),0===O.length&&Object(b.jsx)("tr",{className:"placeholder",children:Object(b.jsx)("td",{children:"Nothing yet."})})]}),Object(b.jsx)("tfoot",{children:Object(b.jsx)("tr",{children:Object(b.jsx)(F,{total:o,perPage:K,currentPage:I,btns:5,setPage:L})})})]}),Object(b.jsx)(N,{open:s,className:"msg",children:s}),Object(b.jsx)(N,{open:V,onBackdropClick:function(){return T(!1)},backdropClass:"datePicker",style:ce,children:Object(b.jsx)(U.DateRange,{className:"dateRange",ranges:[w],onChange:function(e){D(e.range1),e.range1.endDate!==e.range1.startDate&&(T(!1),ie(!0))}})})]})},$=c(19),K=c.n($),X=c(27);function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(X.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/editUserProfile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c(108);var ce=function(e){var t=e.label,c=e.fields,n=e.value,s=e.onError,a=Object(i.useContext)(u).setUser,r=Object(i.useState)(!1),l=Object(d.a)(r,2),o=l[0],j=l[1],h=Object(i.useState)(!1),O=Object(d.a)(h,2),x=O[0],f=O[1],p=Object(i.useRef)(null);return Object(b.jsxs)("li",{children:[Object(b.jsx)("p",{className:"label",children:t}),Object(b.jsxs)("form",{ref:p,onSubmit:function(e){e.preventDefault();var t,c={},n=Object(m.a)(new FormData(e.target).entries());try{for(n.s();!(t=n.n()).done;){var r=Object(d.a)(t.value,2),i=r[0],l=r[1];c[i]=l}}catch(o){n.e(o)}finally{n.f()}c.password&&c.password!==c.confirm_password?null===s||void 0===s||s():(c["address.city"]&&navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,n=e.coords.longitude;c["address.location"]={type:"Point",coordinates:[n,t]}})),c.phone&&(c.phone="+91"+c.phone.replace(/^\+?9?1?/,"")),j(!0),fetch("/api/editAdminProfile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){var t=e.user;j(!1),t?(a(t),f(!1)):alert("someting went wrong")})).catch((function(e){j(!1),console.log(e),alert("someting went wrong")})))},children:[x?Object(b.jsx)("div",{className:"inputs",children:c}):Object(b.jsx)("p",{className:"currentValue",children:n}),Object(b.jsx)("div",{className:"btns",children:x?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{type:"submit",disabled:o,children:"Save changes"},"submit"),Object(b.jsx)("button",{type:"button",onClick:function(){return f(!1)},children:"Cancel"},"cancel")]}):Object(b.jsx)("button",{type:"button",onClick:function(){return f(!0)},children:"Edit"},"edit")})]})]})},ne=function(e){e.history,e.match,e.location;var t,c,n,s,a=Object(i.useContext)(u),r=a.user,l=a.setUser,o=Object(i.useState)(!1),j=Object(d.a)(o,2),h=j[0],O=j[1],x=Object(i.useState)(null),m=Object(d.a)(x,2),f=m[0],p=m[1],g=function(e){e.googleId&&ee({googleId:e.googleId}).then((function(t){l((function(t){return Object(v.a)(Object(v.a)({},t),{},{googleId:e.googleId})})),p(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return p(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(w,{}),Object(b.jsx)("h4",{children:"Google account successfully connected."})]})]}))})).catch((function(e){console.log(e),p(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return p(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not connect Google account."})]})]}))}))},C=function(e){ee({googleId:null}).then((function(e){e.user?(l((function(e){return Object(v.a)(Object(v.a)({},e),{},{googleId:null})})),p(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return p(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(w,{}),Object(b.jsx)("h4",{children:"Successfully disconnected Google."})]})]}))):p(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return p(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not disconnect Google account. Please try again."})]})]}))})).catch((function(e){console.log(e),p(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return p(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not disconnect Google account."})]})]}))}))};return Object(b.jsxs)("div",{className:"settingsContainer",children:[Object(b.jsxs)("div",{className:"benner",children:[Object(b.jsxs)("div",{className:"profileImg",children:[Object(b.jsx)("img",{src:r.profileImg||"/profile-user.jpg"}),Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"91.832",height:"25.468",viewBox:"0 0 91.832 25.468",children:Object(b.jsxs)("g",{id:"Path_1937","data-name":"Path 1937",transform:"translate(15.429 -9.647)",fill:"#fff",children:[Object(b.jsx)("path",{d:"M 29.79687690734863 34.6146240234375 C 22.21588897705078 34.6146240234375 13.43720626831055 32.0111198425293 5.0779709815979 27.28368377685547 C -2.8753981590271 22.78578186035156 -9.78753662109375 16.7585563659668 -14.48426628112793 10.24203777313232 C -13.95890235900879 10.24473857879639 -13.30369663238525 10.25548648834229 -12.80753517150879 10.26361274719238 C -12.44524097442627 10.26955413818359 -12.15906429290771 10.27424812316895 -12.02891159057617 10.27424812316895 C -11.93940830230713 10.27424812316895 -11.86373233795166 10.26253128051758 -11.79978466033936 10.24241733551025 C -11.48864650726318 10.21196746826172 -10.04010391235352 10.17821311950684 -5.149840831756592 10.17821311950684 C -1.226676225662231 10.17821311950684 4.093100070953369 10.19837760925293 9.725229263305664 10.21973037719727 C 16.20444107055664 10.24428367614746 23.54814720153809 10.27211856842041 29.79687690734863 10.27211856842041 C 31.89767646789551 10.27211856842041 43.68988800048828 10.22107124328613 56.17448806762695 10.16702461242676 L 59.24650192260742 10.15374183654785 C 60.32665252685547 10.14907169342041 61.61424255371094 10.14680099487305 63.18285369873047 10.14680099487305 C 64.99295043945313 10.14680099487305 66.92156219482422 10.14978885650635 68.78666687011719 10.15269470214844 C 70.55825042724609 10.1554479598999 72.23158264160156 10.15804767608643 73.72422027587891 10.15804767608643 C 74.4501953125 10.15804767608643 75.08247375488281 10.1574182510376 75.63590240478516 10.15613842010498 C 74.24596405029297 13.15391826629639 71.95748138427734 16.1362361907959 68.82386779785156 19.03109550476074 C 65.67525482177734 21.9398250579834 61.6738166809082 24.71903610229492 57.25215911865234 27.06828308105469 C 52.91740798950195 29.37135314941406 48.15610122680664 31.27616500854492 43.48295974731445 32.57678985595703 C 38.69290161132813 33.90995407104492 33.96032333374023 34.6146240234375 29.79687690734863 34.6146240234375 Z",stroke:"none"}),Object(b.jsx)("path",{d:"M 63.18235397338867 10.64679336547852 C 61.61428070068359 10.64679336547852 60.32755279541016 10.64906692504883 59.24865341186523 10.65373229980469 L 56.18099212646484 10.6670036315918 C 43.69374084472656 10.72105407714844 31.89901733398438 10.77211761474609 29.79687881469727 10.77211761474609 C 23.54719161987305 10.77211761474609 16.2029914855957 10.74428176879883 9.723331451416016 10.71971893310547 C 4.091693878173828 10.69837951660156 -1.227619171142578 10.67821884155273 -5.149848937988281 10.67821884155273 C -9.844169616699219 10.67821884155273 -11.33226013183594 10.70873641967773 -11.7083740234375 10.73677062988281 C -11.80277252197266 10.76053237915039 -11.90915679931641 10.77424240112305 -12.0289306640625 10.77424240112305 C -12.16323089599609 10.77424240112305 -12.45131683349609 10.7695198059082 -12.81605529785156 10.76354217529297 C -13.01943206787109 10.76021194458008 -13.24966430664063 10.75643920898438 -13.48653411865234 10.75296401977539 C -8.851593017578125 16.903076171875 -2.239547729492188 22.57095718383789 5.324104309082031 26.84845542907715 C 13.60947799682617 31.53411865234375 22.30074310302734 34.11461639404297 29.79687881469727 34.11461639404297 C 33.91565704345703 34.11461639404297 38.60186767578125 33.41628265380859 43.34890747070313 32.0950927734375 C 47.98773193359375 30.80401802062988 52.71426773071289 28.91309356689453 57.0175666809082 26.62672996520996 C 61.40182876586914 24.29735565185547 65.3670654296875 21.5438175201416 68.48458099365234 18.6638298034668 C 71.32099151611328 16.04351997375488 73.45128631591797 13.35661125183105 74.83492279052734 10.65748596191406 C 74.4908447265625 10.65786743164063 74.12125396728516 10.65805435180664 73.72370147705078 10.65805435180664 C 72.23068237304688 10.65805435180664 70.55716705322266 10.65545654296875 68.78539276123047 10.65269470214844 C 66.92047119140625 10.6497917175293 64.9920654296875 10.64679336547852 63.18235397338867 10.64679336547852 M 63.18235778808594 9.646797180175781 C 66.69034576416016 9.646797180175781 70.639892578125 9.658050537109375 73.72370910644531 9.658050537109375 C 74.72272491455078 9.658050537109375 75.63052368164063 9.656867980957031 76.4033203125 9.653743743896484 C 70.7041015625 23.3221435546875 47.19384002685547 35.11461639404297 29.79687881469727 35.11461639404297 C 13.80905532836914 35.11461639404297 -5.7138671875 23.84020614624023 -15.427734375 9.772117614746094 C -15.45098876953125 9.749141693115234 -15.14891815185547 9.741405487060547 -14.71451568603516 9.741401672363281 C -13.8193359375 9.741401672363281 -12.36181640625 9.774246215820313 -12.02893829345703 9.774246215820313 C -11.98212432861328 9.774246215820313 -11.95759582519531 9.773597717285156 -11.9599609375 9.772117614746094 C -12.07225799560547 9.701694488525391 -9.402595520019531 9.678211212158203 -5.14984130859375 9.678211212158203 C 3.356430053710938 9.678211212158203 18.19854354858398 9.772117614746094 29.79687881469727 9.772117614746094 C 32.07231903076172 9.772117614746094 46.01445388793945 9.710941314697266 59.24433135986328 9.653743743896484 C 60.42824935913086 9.648624420166016 61.76977157592773 9.646797180175781 63.18235778808594 9.646797180175781 Z",stroke:"none",fill:"#336cf9"})]})}),Object(b.jsx)("input",{type:"file",accept:".jpg, .png, .jpeg",onChange:function(e){if(e.target.files[0]){var t=URL.createObjectURL(e.target.files[0]);l((function(e){return Object(v.a)(Object(v.a)({},e),{},{profileImg:t})}))}}}),Object(b.jsx)("label",{children:"Edit"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"name",children:r.name}),Object(b.jsx)("p",{className:"id",children:r.phone})]})]}),Object(b.jsxs)("div",{className:"settings",children:[Object(b.jsx)("div",{className:"head",children:"Account Settings"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)(ce,{label:"Name",fields:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{children:Object(b.jsx)("input",{placeholder:"First name",defaultValue:r.name,name:"name",required:!0})})}),value:r.name}),Object(b.jsx)(ce,{label:"Phone Number",fields:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{children:Object(b.jsx)("input",{placeholder:"Phone Number",defaultValue:r.phone,name:"phone",required:!0,pattern:"((\\+*)((0[ -]+)*|(91 )*)(\\d{12}|\\d{10}))|\\d{5}([- ]*)\\d{6}"})})}),value:r.phone}),Object(b.jsx)(ce,{label:"Email",fields:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{children:Object(b.jsx)("input",{placeholder:"Phone Number",defaultValue:r.email,name:"email",required:!0,pattern:'^(([^<>()[]\\.,;:s@"]+(.[^<>()[]\\.,;:s@"]+)*)|(".+"))@(([[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}])|(([a-zA-Z-0-9]+.)+[a-zA-Z]{2,}))$'})})}),value:r.email}),Object(b.jsx)(ce,{label:"Password",onError:function(){return O(!0)},fields:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("section",{children:Object(b.jsx)("input",{placeholder:"Password",name:"password",required:!0,type:"password",onChange:function(e){return O(!1)}})}),Object(b.jsx)("section",{children:Object(b.jsx)("input",{placeholder:"Confirm password",name:"confirm_password",required:!0,type:"password",onChange:function(e){return O(!1)}})}),h&&Object(b.jsx)("p",{className:"errMsg",children:"Password did not match."})]}),value:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),Object(b.jsx)(ce,{label:"Gender",fields:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{children:Object(b.jsx)("input",{placeholder:"Gender",defaultValue:r.gender,name:"gender",required:!0})})}),value:r.gender}),Object(b.jsx)(ce,{label:"Age",fields:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{children:Object(b.jsx)("input",{type:"number",placeholder:"Age",defaultValue:r.age,name:"age",required:!0})})}),value:r.age}),Object(b.jsx)(ce,{label:"Address",fields:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("section",{children:Object(b.jsx)("input",{type:"text",placeholder:"Address",defaultValue:r.address.street,name:"address.street",required:!0})}),Object(b.jsx)("section",{children:Object(b.jsx)("input",{type:"text",placeholder:"City",defaultValue:r.address.city,name:"address.city",required:!0})}),Object(b.jsx)("section",{children:Object(b.jsx)("input",{type:"text",placeholder:"State",defaultValue:r.address.state,name:"address.state",required:!0})}),Object(b.jsx)("section",{children:Object(b.jsx)("input",{type:"number",placeholder:"PIN Code",defaultValue:r.address.zip,name:"address.zip",required:!0})})]}),value:"".concat((null===(t=r.address)||void 0===t?void 0:t.street)||""," ").concat((null===(c=r.address)||void 0===c?void 0:c.city)||""," ").concat((null===(n=r.address)||void 0===n?void 0:n.state)||""," ").concat((null===(s=r.address)||void 0===s?void 0:s.zip)||"")})]})]}),Object(b.jsxs)("div",{className:"socials",children:[Object(b.jsx)("div",{className:"head",children:"Connect Social Accounts"}),Object(b.jsx)("ul",{className:"providers",children:r.googleId?Object(b.jsx)(H.a,{className:"google",clientId:"978249749020-kjq65au1n373ur5oap7n4ebo2fq1jdhq.apps.googleusercontent.com",buttonText:"Disconnect from Google",onSuccess:C,onFailure:C,cookiePolicy:"single_host_origin"}):Object(b.jsx)(H.a,{className:"google",clientId:"978249749020-kjq65au1n373ur5oap7n4ebo2fq1jdhq.apps.googleusercontent.com",buttonText:"Connect with Google",onSuccess:g,onFailure:g,cookiePolicy:"single_host_origin"})})]}),Object(b.jsx)(N,{className:"msg",open:f,children:f})]})};c(58);var se=function(e){e.history,e.location;var t,c,n=e.match,s=Object(i.useRef)(),a=Object(i.useState)(null),r=Object(d.a)(a,2),l=r[0],o=r[1],j=Object(i.useState)(null),u=Object(d.a)(j,2),h=u[0],O=u[1],x=Object(i.useState)(!1),m=Object(d.a)(x,2),f=m[0],p=m[1],g=Object(i.useState)([]),v=Object(d.a)(g,2),C=v[0],w=v[1];return Object(i.useEffect)((function(){fetch("/api/singleDispute?_id=".concat(n.params._id)).then((function(e){return e.json()})).then((function(e){var t;"ok"===e.code&&(o(e.dispute),w((null===(t=e.chat)||void 0===t?void 0:t.messages)||[]))})).catch((function(e){console.log(e),O(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return O(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not get Dispute. Make sure you're online."})]})]}))}))}),[]),Object(i.useEffect)((function(){var e;f&&s.current&&(null===(e=s.current)||void 0===e||e.scrollBy(0,s.current.scrollHeight))}),[f]),l?Object(b.jsxs)("div",{className:"singleDispute ".concat(l.status),children:[Object(b.jsxs)("div",{className:"disputeSummery",children:[Object(b.jsxs)("div",{className:"benner",children:["Dispute Summery"," ",Object(b.jsx)("button",{onClick:function(e){return p(!0)},children:"View Chat"})]}),Object(b.jsxs)("ul",{className:"disputeDetail",children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Dispute ID:"}),Object(b.jsx)("div",{className:"data",children:l._id})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Status:"}),Object(b.jsx)("div",{className:"data",children:l.status})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Issue:"}),Object(b.jsx)("div",{className:"data",children:l.issue})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Issued by:"}),Object(b.jsx)("div",{className:"data",children:l.plaintiff.role})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Dispute filed:"}),Object(b.jsx)("div",{className:"data",children:Object(b.jsx)(Z.a,{format:"hh:mm a, DD MMM, YYYY",children:l.createdAt})})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Milestone amount:"}),Object(b.jsxs)("div",{className:"data",children:["\u20b9 ",l.milestone.amount]})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Milestone description:"}),Object(b.jsx)("div",{className:"data",children:l.milestone.dscr})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Milestone products:"}),Object(b.jsxs)("div",{className:"data",children:[null===(t=l.milestone.products)||void 0===t?void 0:t.map((function(e,t){return Object(b.jsx)("li",{children:e.name},t)})),(null===(c=l.milestone.products)||void 0===c?void 0:c.length)?null:"No product selected"]})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Milestone created:"}),Object(b.jsx)("div",{className:"data",children:Object(b.jsx)(Z.a,{format:"hh:mm a, DD MMM, YYYY",children:l.milestone.createdAt})})]})]})]}),Object(b.jsx)(ie,{role:"plaintiff",dispute:l,setData:o}),Object(b.jsx)(ie,{role:"defendant",dispute:l,setData:o}),Object(b.jsx)(N,{open:h,className:"msg",children:h}),Object(b.jsxs)(N,{open:f,className:"disputeChat",ref:s,children:[Object(b.jsxs)("div",{className:"chatHead",children:[Object(b.jsxs)("div",{className:"user",children:[Object(b.jsx)("img",{src:l.plaintiff.profileImg}),Object(b.jsxs)("p",{className:"name",children:[l.plaintiff.firstName+" "+l.plaintiff.lastName,Object(b.jsx)("span",{className:"role",children:"Plaintiff"})]})]}),Object(b.jsx)("button",{onClick:function(){return p(!1)},children:Object(b.jsx)(k,{})}),Object(b.jsxs)("div",{className:"user def",children:[Object(b.jsx)("img",{src:l.defendant.profileImg||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[l.defendant.firstName+" "+l.defendant.lastName,Object(b.jsx)("span",{className:"role",children:"Defendant"})]})]})]}),Object(b.jsx)(ae,{chat:C,user:l.defendant._id,client:l.plaintiff._id})]})]}):Object(b.jsxs)("div",{className:"singleDispute loading",children:[Object(b.jsxs)("div",{className:"disputeSummery",children:[Object(b.jsx)("div",{className:"benner",children:"Dispute Summery"}),Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]})]})]}),Object(b.jsxs)("div",{className:"plaintiff",children:[Object(b.jsx)("div",{className:"benner",children:"Plaintiff"}),Object(b.jsxs)("div",{className:"user",children:[Object(b.jsx)("div",{className:"img"}),Object(b.jsx)("div",{className:"name"})]}),Object(b.jsxs)("ul",{className:"detail",children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]})]})]}),Object(b.jsxs)("div",{className:"defendant",children:[Object(b.jsx)("div",{className:"benner",children:"Defendant"}),Object(b.jsxs)("div",{className:"user",children:[Object(b.jsx)("div",{className:"img"}),Object(b.jsx)("div",{className:"name"})]}),Object(b.jsxs)("ul",{className:"detail",children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]})]})]})]})},ae=function(e){var t=e.chat,c=e.user;e.client;return Object(b.jsx)("ul",{className:"chats",children:t.map((function(e,n){var s,a;if(!e)return null;var r=Math.abs(new Date(e.createdAt).getTime()-new Date(null===(s=t[n+1])||void 0===s?void 0:s.createdAt).getTime())>12e4,i=J()(e.createdAt).format("YYYY-MM-DD")!==J()(null===(a=t[n-1])||void 0===a?void 0:a.createdAt).format("YYYY-MM-DD")||0===n;return Object(b.jsxs)("li",{className:"bubble ".concat(e.from===c?"user":"client"),children:[i&&Object(b.jsx)(Z.a,{className:"dateStamp",format:"MMM DD, YYYY",children:e.createdAt}),e.text&&Object(b.jsx)("p",{className:"text",children:e.text}),e.media&&Object(b.jsx)(re,{link:e.media}),(r||n===t.length-1)&&Object(b.jsx)(Z.a,{className:"timestamp",format:"hh:mm a",children:e.createdAt})]},n)}))})},re=function(e){var t=e.link,c=null,n=null,s=Object(i.useState)(!1),a=Object(d.a)(s,2),r=a[0],l=a[1];return t.match(/(\.gif|\.png|\.jpg|\.jpeg|\.webp)$/)?c=Object(b.jsx)("img",{src:t,onClick:function(){return l(!0)}}):t.match(/(\.mp3|\.ogg|\.amr|\.m4a|\.flac|\.wav|\.aac)$/)?c=Object(b.jsx)("audio",{src:t,controls:"on"}):t.match(/(\.mp4|\.mov|\.avi|\.flv|\.wmv|\.webm)$/)?(c=Object(b.jsxs)("div",{className:"videoThumb",children:[Object(b.jsx)("video",{src:t,onClick:function(){return l(!0)}}),Object(b.jsx)("img",{src:"/play_btn.png"})]}),n=Object(b.jsx)("video",{src:t,controls:"on",autoPlay:"on"})):c=Object(b.jsxs)("a",{href:t,target:"_blank",className:"link",children:[Object(b.jsx)("img",{src:"/file_icon.png"}),t]}),Object(b.jsxs)("div",{className:"file",children:[c,Object(b.jsxs)(N,{open:r,className:"chatMediaView",children:[Object(b.jsx)("button",{className:"close",onClick:function(){return l(!1)},children:Object(b.jsx)(k,{})}),n||c]})]})},ie=function(e){var t,c,n,s,a,r,l=e.role,o=e.dispute,j=e.setData,u=Object(i.useState)(null),h=Object(d.a)(u,2),O=h[0],x=h[1];return Object(b.jsxs)("div",{className:"".concat(l," ").concat(o[l].role," ").concat(o.winner===o[l]._id?"winner":""),children:[Object(b.jsxs)("div",{className:"benner",children:[l,"pendingVerdict"===o.status&&(null===(t=o.defendant.case)||void 0===t?void 0:t.dscr)&&Object(b.jsx)("button",{onClick:function(){return C({className:"disputeResolveConfirm",label:"Dispute resolve",question:Object(b.jsxs)(b.Fragment,{children:["Are you sure"," ",Object(b.jsx)("span",{className:"name",children:o[l].firstName+" "+o[l].lastName})," ",Object(b.jsxs)("span",{className:"role",children:["(",l,")"]})," is the winner of this dispute?"]}),callback:function(){return e=o[l]._id,void fetch("/api/resolveDispute",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:o._id,winner:e})}).then((function(e){return e.json()})).then((function(e){"ok"===e.code?(x(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return x(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(w,{}),Object(b.jsx)("h4",{children:"Dispute Successfully resolved."})]})]})),j((function(t){return Object(v.a)(Object(v.a)({},t),{},{winner:e.dispute.winner,status:e.dispute.status})}))):x(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return x(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:e.message})]})]}))})).catch((function(e){console.log(e),x(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return x(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Dispute Could not be resolved. Make sure you' a're online."})]})]}))}));var e}})},children:"Winner"}),o.winner===o[l]._id&&Object(b.jsx)("p",{className:"winnerTag",children:"Winner"})]}),Object(b.jsxs)("div",{className:"content",children:[Object(b.jsxs)("div",{className:"user",children:[Object(b.jsx)("img",{src:o[l].profileImg||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[o[l].firstName+" "+o[l].lastName,Object(b.jsx)("span",{className:"phone",children:o[l].phone})]})]}),(null===(c=o[l].case)||void 0===c?void 0:c.dscr)?Object(b.jsxs)("ul",{className:"detail",children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Role:"})," ",Object(b.jsx)("div",{children:o[l].role})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Current Balance:"})," ",Object(b.jsxs)("div",{children:["\u20b9 ",o[l].balance]})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Case:"})," ",Object(b.jsx)("div",{children:(null===(n=o[l].case)||void 0===n?void 0:n.dscr)||"N/A"})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Evidence:"})," ",Object(b.jsx)("div",{className:"thumbs",children:(null===(s=o[l].case)||void 0===s||null===(a=s.files)||void 0===a?void 0:a.length)?Object(b.jsx)(V,{links:null===(r=o[l].case)||void 0===r?void 0:r.files}):"N/A"})]})]}):Object(b.jsx)("p",{className:"noRes",children:"Has not responded yet."})]}),Object(b.jsx)(N,{open:O,className:"msg",children:O})]})},le=function(e){var t=e.history,c=(e.location,e.match,Object(i.useRef)()),n=Object(i.useState)(null),s=Object(d.a)(n,2),a=s[0],r=s[1],l=Object(i.useState)(0),o=Object(d.a)(l,2),j=o[0],u=o[1],h=Object(i.useState)([]),O=Object(d.a)(h,2),x=O[0],m=O[1],f=Object(i.useState)({column:"createdAt",order:"dsc"}),p=Object(d.a)(f,2),g=p[0],v=p[1],C=Object(i.useState)({startDate:new Date,endDate:new Date}),w=Object(d.a)(C,2),D=w[0],M=w[1],Y=Object(i.useState)(!1),A=Object(d.a)(Y,2),_=A[0],q=A[1],R=Object(i.useState)(""),V=Object(d.a)(R,2),T=V[0],H=V[1],B=Object(i.useState)(1),I=Object(d.a)(B,2),L=I[0],W=I[1],E=Object(i.useState)(""),G=Object(d.a)(E,2),Q=G[0],z=G[1],$=Object(i.useState)(20),K=Object(d.a)($,2),X=K[0],ee=K[1],te=Object(i.useState)({}),ce=Object(d.a)(te,2),ne=ce[0],se=ce[1],ae=Object(i.useState)(!1),re=Object(d.a)(ae,2),ie=re[0],le=re[1];return Object(i.useLayoutEffect)((function(){var e=c.current.getBoundingClientRect(),t=e.height,n=e.y,s=e.width,a=e.x;se({position:"fixed",top:t+n+4,right:window.innerWidth-a-s})}),[]),Object(i.useEffect)((function(){var e=J()(D.startDate).format("YYYY-MM-DD"),t=(J()(D.endDate).format("YYYY-MM-DD"),J()(new Date(D.endDate).setDate(D.endDate.getDate()+1)).format("YYYY-MM-DD"));fetch("/api/disputes?page=".concat(L,"&perPage=").concat(X,"&sort=").concat(g.column,"&order=").concat(g.order).concat(Q&&"&q="+Q).concat(ie?"&dateFrom="+e+"&dateTo="+t:"").concat(T&&"&status="+T)).then((function(e){return e.json()})).then((function(e){var t;"ok"===e.code?(m(e.disputes.disputes),u((null===(t=e.disputes.pageInfo[0])||void 0===t?void 0:t.count)||0)):r(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return r(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not get transactions."})]})]}))})).catch((function(e){console.log(e),r(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return r(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not get transactions. Make sure you're online."})]})]}))}))}),[L,X,g.column,g.order,Q,ie,T]),Object(b.jsxs)("div",{className:"table disputeContainer",children:[Object(b.jsx)("div",{style:{display:"none"},children:Object(b.jsx)(k,{})}),Object(b.jsxs)("div",{className:"filters",children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Total:"}),j]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Per Page:"}),Object(b.jsx)(P,{defaultValue:0,options:[{label:"20",value:20},{label:"30",value:30},{label:"50",value:50}],onChange:function(e){return ee(e.value)}})]}),Object(b.jsxs)("section",{className:"search",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23",children:Object(b.jsx)("path",{id:"Icon_ionic-ios-search","data-name":"Icon ionic-ios-search",d:"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z",transform:"translate(-4.5 -4.493)",fill:"#707070",opacity:"0.74"})}),Object(b.jsx)("input",{value:Q,onChange:function(e){return z(e.target.value)},placeholder:"Search User's name, phone, Transaction ID, note"}),Q&&Object(b.jsx)("button",{onClick:function(){return z("")},children:Object(b.jsx)(k,{})})]}),Object(b.jsxs)("section",{className:"status",children:[Object(b.jsx)("label",{children:"Status"}),Object(b.jsx)(P,{defaultValue:0,options:[{label:"All",value:""},{label:"Pending",value:"pending"},{label:"In Progress",value:"pendingVerdict"},{label:"Resolved",value:"resolved"},{label:"Closed",value:"closed"}],onChange:function(e){return H(e.value)}})]}),Object(b.jsxs)("section",{className:"date ".concat(ie?"open":""),ref:c,onClick:function(){return q(!0)},children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30.971",height:"30.971",viewBox:"0 0 30.971 30.971",children:Object(b.jsx)("path",{id:"Path_299","data-name":"Path 299",d:"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z",fill:"#336cf9"})}),ie&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"dates",children:[Object(b.jsxs)("p",{children:["From:"," ",Object(b.jsx)(Z.a,{format:"DD MMM, YYYY",children:D.startDate})]}),Object(b.jsxs)("p",{children:["To: ",Object(b.jsx)(Z.a,{format:"DD MMM, YYYY",children:D.endDate})]})]}),Object(b.jsx)("button",{className:"clearDateFilter",onClick:function(){M({startDate:new Date,endDate:new Date}),le(!1)},children:Object(b.jsx)(k,{})})]})]})]}),Object(b.jsxs)("table",{cellSpacing:0,cellPadding:0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsxs)("th",{className:"createdAt"===g.column?"sort "+g.order:"",onClick:function(){v((function(e){return{column:"createdAt",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Date ",Object(b.jsx)(S,{})]}),Object(b.jsx)("th",{children:"Issue"}),Object(b.jsxs)("th",{className:"plaintiff.firstName"===g.column?"sort "+g.order:"",onClick:function(){v((function(e){return{column:"plaintiff.firstName",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Plaintiff ",Object(b.jsx)(S,{})]}),Object(b.jsxs)("th",{className:"defendant.firstName"===g.column?"sort "+g.order:"",onClick:function(){v((function(e){return{column:"defendant.firstName",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Defendant ",Object(b.jsx)(S,{})]}),Object(b.jsxs)("th",{className:"status"===g.column?"sort "+g.order:"",onClick:function(){v((function(e){return{column:"status",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Status ",Object(b.jsx)(S,{})]})]})}),Object(b.jsxs)("tbody",{children:[x.map((function(e){return Object(b.jsxs)("tr",{onClick:function(){t.push("/dashboard/disputes/".concat(e._id))},children:[Object(b.jsx)("td",{children:Object(b.jsx)(Z.a,{format:"DD MMM, YYYY. hh:mm a",children:e.createdAt})}),Object(b.jsx)("td",{children:e.issue}),Object(b.jsxs)("td",{className:"user",children:[Object(b.jsx)("img",{src:e.plaintiff.profileImg||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[e.plaintiff.firstName+" "+e.plaintiff.lastName,Object(b.jsx)("span",{className:"phone",children:e.plaintiff.phone}),Object(b.jsxs)("span",{className:"pills",children:[Object(b.jsx)("span",{className:"pill role",children:e.plaintiff.role}),e.winner===e.plaintiff._id&&Object(b.jsx)("span",{className:"pill winner",children:"Winner"})]})]})]}),Object(b.jsxs)("td",{className:"user",children:[Object(b.jsx)("img",{src:e.defendant.profileImg||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[e.defendant.firstName+" "+e.defendant.lastName,Object(b.jsx)("span",{className:"phone",children:e.defendant.phone}),Object(b.jsxs)("span",{className:"pills",children:[Object(b.jsx)("span",{className:"pill role",children:e.defendant.role}),e.winner===e.defendant._id&&Object(b.jsx)("span",{className:"pill winner",children:"Winner"})]})]})]}),Object(b.jsx)("td",{children:e.status})]},e._id)})),0===x.length&&Object(b.jsx)("tr",{className:"placeholder",children:Object(b.jsx)("td",{children:"Nothing yet."})})]}),Object(b.jsx)("tfoot",{children:Object(b.jsx)("tr",{children:Object(b.jsx)(F,{total:j,perPage:X,currentPage:L,btns:5,setPage:W})})})]}),Object(b.jsx)(N,{open:a,className:"msg",children:a}),Object(b.jsx)(N,{open:_,onBackdropClick:function(){return q(!1)},backdropClass:"datePicker",style:ne,children:Object(b.jsx)(U.DateRange,{className:"dateRange",ranges:[D],onChange:function(e){M(e.range1),e.range1.endDate!==e.range1.startDate&&(q(!1),le(!0))}})})]})},oe=c(49);c(109),c(110);var je=function(e){e.history,e.location,e.pathname;var t=Object(i.useRef)(),c=Object(i.useState)(!1),n=Object(d.a)(c,2),s=n[0],a=n[1],r=Object(i.useState)(null),l=Object(d.a)(r,2),o=l[0],j=l[1],u=Object(i.useState)(0),h=Object(d.a)(u,2),O=h[0],x=h[1],m=Object(i.useState)([]),p=Object(d.a)(m,2),g=p[0],v=p[1],C=Object(i.useState)({column:"createdAt",order:"dsc"}),M=Object(d.a)(C,2),Y=M[0],A=M[1],_=Object(i.useState)({startDate:new Date,endDate:new Date}),q=Object(d.a)(_,2),R=q[0],V=q[1],T=Object(i.useState)(!1),H=Object(d.a)(T,2),B=H[0],I=H[1],L=Object(i.useState)(1),W=Object(d.a)(L,2),E=W[0],G=W[1],Q=Object(i.useState)(""),z=Object(d.a)(Q,2),$=z[0],K=z[1],X=Object(i.useState)(20),ee=Object(d.a)(X,2),te=ee[0],ce=ee[1],ne=Object(i.useState)({}),se=Object(d.a)(ne,2),ae=se[0],re=se[1],ie=Object(i.useState)(!1),le=Object(d.a)(ie,2),oe=le[0],je=le[1];return Object(i.useLayoutEffect)((function(){var e=t.current.getBoundingClientRect(),c=e.height,n=e.y,s=e.width,a=e.x;re({position:"fixed",top:c+n+4,right:window.innerWidth-a-s})}),[]),Object(i.useEffect)((function(){var e=J()(R.startDate).format("YYYY-MM-DD"),t=(J()(R.endDate).format("YYYY-MM-DD"),J()(new Date(R.endDate).setDate(R.endDate.getDate()+1)).format("YYYY-MM-DD"));fetch("/api/faqs?page=".concat(E,"&perPage=").concat(te,"&sort=").concat(Y.column,"&order=").concat(Y.order).concat($&&"&q="+$).concat(oe?"&dateFrom="+e+"&dateTo="+t:"")).then((function(e){return e.json()})).then((function(e){var t;"ok"===e.code?(v(e.faqs.faqs),x((null===(t=e.faqs.pageInfo[0])||void 0===t?void 0:t.count)||0)):j(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return j(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not get FAQs."})]})]}))})).catch((function(e){console.log(e),j(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return j(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not get FAQs. Make sure you're online."})]})]}))}))}),[E,te,Y.column,Y.order,$,oe]),Object(b.jsxs)("div",{className:"table faqContainer",children:[Object(b.jsx)("div",{style:{display:"none"},children:Object(b.jsx)(k,{})}),Object(b.jsxs)("div",{className:"filters",children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Total:"}),O]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Per Page:"}),Object(b.jsx)(P,{defaultValue:0,options:[{label:"20",value:20},{label:"30",value:30},{label:"50",value:50}],onChange:function(e){return ce(e.value)}})]}),Object(b.jsxs)("section",{className:"search",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23",children:Object(b.jsx)("path",{id:"Icon_ionic-ios-search","data-name":"Icon ionic-ios-search",d:"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z",transform:"translate(-4.5 -4.493)",fill:"#707070",opacity:"0.74"})}),Object(b.jsx)("input",{value:$,onChange:function(e){return K(e.target.value)},placeholder:"Search Question or Answer"}),$&&Object(b.jsx)("button",{onClick:function(){return K("")},children:Object(b.jsx)(k,{})})]}),Object(b.jsxs)("section",{className:"date ".concat(oe?"open":""),ref:t,onClick:function(){return I(!0)},children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30.971",height:"30.971",viewBox:"0 0 30.971 30.971",children:Object(b.jsx)("path",{id:"Path_299","data-name":"Path 299",d:"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z",fill:"#336cf9"})}),oe&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"dates",children:[Object(b.jsxs)("p",{children:["From:"," ",Object(b.jsx)(Z.a,{format:"DD MMM, YYYY",children:R.startDate})]}),Object(b.jsxs)("p",{children:["To: ",Object(b.jsx)(Z.a,{format:"DD MMM, YYYY",children:R.endDate})]})]}),Object(b.jsx)("button",{className:"clearDateFilter",onClick:function(){V({startDate:new Date,endDate:new Date}),je(!1)},children:Object(b.jsx)(k,{})})]})]}),Object(b.jsx)("section",{className:"addFaq",children:Object(b.jsxs)("button",{onClick:function(){return a(!0)},children:[Object(b.jsx)(D,{}),"Add FAQ"]})})]}),Object(b.jsxs)("table",{cellSpacing:0,cellPadding:0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsxs)("th",{className:"createdAt"===Y.column?"sort "+Y.order:"",onClick:function(){A((function(e){return{column:"createdAt",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Date ",Object(b.jsx)(S,{})]}),Object(b.jsxs)("th",{className:"author"===Y.column?"sort "+Y.order:"",onClick:function(){A((function(e){return{column:"author",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Author ",Object(b.jsx)(S,{})]}),Object(b.jsxs)("th",{className:"ques"===Y.column?"sort "+Y.order:"",onClick:function(){A((function(e){return{column:"ques",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Question ",Object(b.jsx)(S,{})]}),Object(b.jsxs)("th",{className:"ans"===Y.column?"sort "+Y.order:"",onClick:function(){A((function(e){return{column:"ans",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Answer ",Object(b.jsx)(S,{})]})]})}),Object(b.jsxs)("tbody",{children:[g.map((function(e){return Object(b.jsx)(be,{faq:e,setFaqs:v},e._id)})),0===g.length&&Object(b.jsx)("tr",{className:"placeholder",children:Object(b.jsx)("td",{children:"Nothing yet."})})]}),Object(b.jsx)("tfoot",{children:Object(b.jsx)("tr",{children:Object(b.jsx)(F,{total:O,perPage:te,currentPage:E,btns:5,setPage:G})})})]}),Object(b.jsx)(N,{open:o,className:"msg",children:o}),Object(b.jsx)(N,{open:B,onBackdropClick:function(){return I(!1)},backdropClass:"datePicker",style:ae,children:Object(b.jsx)(U.DateRange,{className:"dateRange",ranges:[R],onChange:function(e){V(e.range1),e.range1.endDate!==e.range1.startDate&&(I(!1),je(!0))}})}),Object(b.jsx)(N,{open:s,head:!0,label:"Add FAQ",setOpen:a,className:"formModal faqForm",children:Object(b.jsx)(de,{onSuccess:function(e){v((function(t){return[e].concat(Object(f.a)(t))})),a(!1),j(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return j(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(w,{}),Object(b.jsx)("h4",{children:"FAQ successfully added."})]})]}))}})})]})},de=function(e){var t=e.edit,c=e.onSuccess,n=(e.onCancel,Object(i.useState)(!1)),s=Object(d.a)(n,2),a=s[0],r=s[1],l=Object(i.useState)(null),o=Object(d.a)(l,2),j=o[0],u=o[1],h=Object(i.useState)((null===t||void 0===t?void 0:t.ques)||""),O=Object(d.a)(h,2),x=O[0],m=O[1],f=Object(i.useState)((null===t||void 0===t?void 0:t.ans)||""),p=Object(d.a)(f,2),g=p[0],C=p[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(!0),fetch("/api/faq",{method:t?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(v.a)({ques:x,ans:g},t&&{_id:t._id}))}).then((function(e){return e.json()})).then((function(e){r(!1),"ok"===e.code?null===c||void 0===c||c(e.faq):u(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return u(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"FAQ could not be added. Try again."})]})]}))})).catch((function(e){r(!1),console.log(e),u(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return u(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"FAQ could not be added. Make sure you're online."})]})]}))}))},children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{htmlFor:"name",children:"Question"}),Object(b.jsx)(oe.a,{value:x,onChange:function(e){return m(e.target.value)},type:"text",name:"question",required:!0})]}),Object(b.jsxs)("section",{className:"ans",children:[Object(b.jsx)("label",{htmlFor:"name",children:"Answer"}),Object(b.jsx)(oe.a,{value:g,onChange:function(e){return C(e.target.value)},type:"text",name:"answer",required:!0})]}),Object(b.jsx)("button",{className:"submit",children:"Save"}),Object(b.jsx)("section",{className:"pBtm"})]}),a&&Object(b.jsx)("div",{className:"spinnerContainer",children:Object(b.jsx)("div",{className:"spinner"})}),Object(b.jsx)(N,{open:j,className:"msg",children:j})]})},be=function(e){var t,c,n,s=e.faq,a=e.setFaqs,r=Object(i.useState)(null),l=Object(d.a)(r,2),o=l[0],j=l[1],u=Object(i.useState)(!1),h=Object(d.a)(u,2),O=h[0],x=h[1],m=Object(i.useState)(!1),f=Object(d.a)(m,2),p=f[0],g=f[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("tr",{onClick:function(){return x(!0)},children:[Object(b.jsx)("td",{children:Object(b.jsx)(Z.a,{format:"DD MMM, YYYY. hh:mm a",children:s.createdAt})}),Object(b.jsxs)("td",{className:"user",children:[Object(b.jsx)("img",{src:s.author.profileImg||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[s.author.name,Object(b.jsx)("span",{className:"phone",children:s.author.phone})]})]}),Object(b.jsx)("td",{children:s.ques}),Object(b.jsx)("td",{children:s.ans})]}),Object(b.jsx)(N,{open:O,head:!0,label:"FAQ",setOpen:x,className:"faq formModal",children:Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)("h3",{children:s.ques}),Object(b.jsx)("p",{children:s.ans}),Object(b.jsxs)("div",{className:"author",children:[Object(b.jsx)("img",{src:(null===(t=s.author)||void 0===t?void 0:t.profileImg)||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[(null===(c=s.author)||void 0===c?void 0:c.name)||"Deleted user",Object(b.jsx)("span",{className:"phone",children:null===(n=s.author)||void 0===n?void 0:n.phone})]})]}),Object(b.jsxs)("div",{className:"actions",children:[Object(b.jsx)("button",{className:"edit",onClick:function(){g(!0)},children:"Edit"}),Object(b.jsx)("button",{className:"delete",onClick:function(){return C({label:"Delete FAQ",question:"You sure want to delete this FAQ?",callback:function(){return e=s._id,void fetch("/api/deleteFaq",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:e})}).then((function(e){return e.json()})).then((function(t){"ok"===t.code?(x(!1),j(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){a((function(t){return t.filter((function(t){return t._id!==e}))}))},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(w,{}),Object(b.jsx)("h4",{children:"FAQ successfully deleted."})]})]}))):j(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return j(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"FAQ could not be deleted. Try again."})]})]}))})).catch((function(e){j(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return j(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"FAQ could not be deleted. Make sure you're online."})]})]}))}));var e}})},children:"Delete"})]})]})}),Object(b.jsx)(N,{open:o,className:"msg",children:o}),Object(b.jsx)(N,{open:p,head:!0,label:"Add FAQ",setOpen:g,className:"formModal faqForm",children:Object(b.jsx)(de,{edit:s,onSuccess:function(e){a((function(t){return t.map((function(t){return t._id===e._id?e:t}))})),g(!1),j(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return j(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(w,{}),Object(b.jsx)("h4",{children:"FAQ successfully updated."})]})]}))}})})]})},ue=function(e){var t=e.history,c=(e.location,e.pathname,Object(i.useRef)()),n=Object(i.useState)(!1),s=Object(d.a)(n,2),a=(s[0],s[1],Object(i.useState)(null)),r=Object(d.a)(a,2),l=r[0],o=r[1],j=Object(i.useState)(0),u=Object(d.a)(j,2),h=u[0],O=u[1],x=Object(i.useState)([]),m=Object(d.a)(x,2),f=m[0],p=m[1],g=Object(i.useState)({column:"createdAt",order:"dsc"}),v=Object(d.a)(g,2),C=v[0],w=v[1],D=Object(i.useState)({startDate:new Date,endDate:new Date}),M=Object(d.a)(D,2),Y=M[0],A=M[1],_=Object(i.useState)(!1),q=Object(d.a)(_,2),R=q[0],V=q[1],T=Object(i.useState)(1),H=Object(d.a)(T,2),B=H[0],I=H[1],L=Object(i.useState)(""),W=Object(d.a)(L,2),E=W[0],G=W[1],Q=Object(i.useState)(20),z=Object(d.a)(Q,2),$=z[0],K=z[1],X=Object(i.useState)({}),ee=Object(d.a)(X,2),te=ee[0],ce=ee[1],ne=Object(i.useState)(!1),se=Object(d.a)(ne,2),ae=se[0],re=se[1];return Object(i.useLayoutEffect)((function(){var e=c.current.getBoundingClientRect(),t=e.height,n=e.y,s=e.width,a=e.x;ce({position:"fixed",top:t+n+4,right:window.innerWidth-a-s})}),[]),Object(i.useEffect)((function(){var e=J()(Y.startDate).format("YYYY-MM-DD"),t=(J()(Y.endDate).format("YYYY-MM-DD"),J()(new Date(Y.endDate).setDate(Y.endDate.getDate()+1)).format("YYYY-MM-DD"));fetch("/api/tickets?page=".concat(B,"&perPage=").concat($,"&sort=").concat(C.column,"&order=").concat(C.order).concat(E&&"&q="+E).concat(ae?"&dateFrom="+e+"&dateTo="+t:"")).then((function(e){return e.json()})).then((function(e){var t;"ok"===e.code?(p(e.tickets.tickets),O((null===(t=e.tickets.pageInfo[0])||void 0===t?void 0:t.count)||0)):o(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return o(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not get Tickets."})]})]}))})).catch((function(e){console.log(e),o(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return o(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not get Tickets. Make sure you're online."})]})]}))}))}),[B,$,C.column,C.order,E,ae]),Object(b.jsxs)("div",{className:"table ticketContainer",children:[Object(b.jsx)("div",{style:{display:"none"},children:Object(b.jsx)(k,{})}),Object(b.jsxs)("div",{className:"filters",children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Total:"}),h]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Per Page:"}),Object(b.jsx)(P,{defaultValue:0,options:[{label:"20",value:20},{label:"30",value:30},{label:"50",value:50}],onChange:function(e){return K(e.value)}})]}),Object(b.jsxs)("section",{className:"search",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23",children:Object(b.jsx)("path",{id:"Icon_ionic-ios-search","data-name":"Icon ionic-ios-search",d:"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z",transform:"translate(-4.5 -4.493)",fill:"#707070",opacity:"0.74"})}),Object(b.jsx)("input",{value:E,onChange:function(e){return G(e.target.value)},placeholder:"Search Issue"}),E&&Object(b.jsx)("button",{onClick:function(){return G("")},children:Object(b.jsx)(k,{})})]}),Object(b.jsxs)("section",{className:"date ".concat(ae?"open":""),ref:c,onClick:function(){return V(!0)},children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30.971",height:"30.971",viewBox:"0 0 30.971 30.971",children:Object(b.jsx)("path",{id:"Path_299","data-name":"Path 299",d:"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z",fill:"#336cf9"})}),ae&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"dates",children:[Object(b.jsxs)("p",{children:["From:"," ",Object(b.jsx)(Z.a,{format:"DD MMM, YYYY",children:Y.startDate})]}),Object(b.jsxs)("p",{children:["To: ",Object(b.jsx)(Z.a,{format:"DD MMM, YYYY",children:Y.endDate})]})]}),Object(b.jsx)("button",{className:"clearDateFilter",onClick:function(){A({startDate:new Date,endDate:new Date}),re(!1)},children:Object(b.jsx)(k,{})})]})]})]}),Object(b.jsxs)("table",{cellSpacing:0,cellPadding:0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsxs)("th",{className:"createdAt"===C.column?"sort "+C.order:"",onClick:function(){w((function(e){return{column:"createdAt",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Date ",Object(b.jsx)(S,{})]}),Object(b.jsxs)("th",{className:"user.firstName"===C.column?"sort "+C.order:"",onClick:function(){w((function(e){return{column:"user.firstName",order:"dsc"===e.order?"asc":"dsc"}}))},children:["User ",Object(b.jsx)(S,{})]}),Object(b.jsxs)("th",{className:"issue"===C.column?"sort "+C.order:"",onClick:function(){w((function(e){return{column:"issue",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Issue ",Object(b.jsx)(S,{})]}),Object(b.jsxs)("th",{className:"status"===C.column?"sort "+C.order:"",onClick:function(){w((function(e){return{column:"status",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Status ",Object(b.jsx)(S,{})]})]})}),Object(b.jsxs)("tbody",{children:[f.map((function(e){var c,n;return Object(b.jsxs)("tr",{onClick:function(){return t.push("/dashboard/support/ticket/".concat(e._id))},children:[Object(b.jsx)("td",{children:Object(b.jsx)(Z.a,{format:"hh:mm a, DD MMM, YYYY",children:e.createdAt})}),Object(b.jsxs)("td",{className:"user",children:[Object(b.jsx)("img",{src:(null===(c=e.user)||void 0===c?void 0:c.profileImg)||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[e.user?e.user.firstName+" "+e.user.lastName:"Deleted user",Object(b.jsx)("span",{className:"phone",children:null===(n=e.user)||void 0===n?void 0:n.phone})]})]}),Object(b.jsx)("td",{children:e.issue}),Object(b.jsx)("td",{children:e.status})]},e._id)})),0===f.length&&Object(b.jsx)("tr",{className:"placeholder",children:Object(b.jsx)("td",{children:"Nothing yet."})})]}),Object(b.jsx)("tfoot",{children:Object(b.jsx)("tr",{children:Object(b.jsx)(F,{total:h,perPage:$,currentPage:B,btns:5,setPage:I})})})]}),Object(b.jsx)(N,{open:l,className:"msg",children:l}),Object(b.jsx)(N,{open:R,onBackdropClick:function(){return V(!1)},backdropClass:"datePicker",style:te,children:Object(b.jsx)(U.DateRange,{className:"dateRange",ranges:[Y],onChange:function(e){A(e.range1),e.range1.endDate!==e.range1.startDate&&(V(!1),re(!0))}})})]})},he=function(e){var t=e.history,c=e.match,n=Object(i.useState)(null),s=Object(d.a)(n,2),a=s[0],r=s[1],l=Object(i.useState)(null),o=Object(d.a)(l,2),j=o[0],u=o[1],h=Object(i.useState)(!1),O=Object(d.a)(h,2),m=O[0],f=O[1];return Object(i.useEffect)((function(){fetch("/api/singleTicket?_id=".concat(c.params._id)).then((function(e){return e.json()})).then((function(e){"ok"===e.code?(console.log(e.ticket),r(e.ticket)):u(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return t.push("/dashboard/support/tickets")},children:"Go Back"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Ticket could not be found."})]})]}))})).catch((function(e){console.log(e),u(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return t.push("/account/support/ticket")},children:"Go Back"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Ticket could not be found."})]})]}))}))}),[]),a?Object(b.jsxs)("div",{className:"ticket",children:[Object(b.jsxs)("div",{className:"detail",children:[Object(b.jsxs)(x.b,{to:"/dashboard/support/tickets",className:"back",children:[Object(b.jsx)(M,{}),"Go Back"]}),Object(b.jsxs)("ul",{className:"summery",children:[Object(b.jsx)("li",{className:"head",children:"Ticket Summery"}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Issue:"}),Object(b.jsx)("p",{children:a.issue})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Status:"}),Object(b.jsx)("p",{children:a.status})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Created at:"}),Object(b.jsx)("p",{children:Object(b.jsx)(Z.a,{format:"hh:mm a, DD MMM, YYYY",children:a.createdAt})})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Last Activity:"}),Object(b.jsx)("p",{children:Object(b.jsx)(Z.a,{format:"hh:mm a, DD MMM, YYYY",children:a.updatedAt})})]})]}),Object(b.jsxs)("ul",{className:"milestoneDetail",children:[Object(b.jsx)("li",{className:"head",children:"Milestone Detail"}),a.milestone?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Amount:"}),Object(b.jsx)("p",{children:a.milestone.amount})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Status:"}),Object(b.jsx)("p",{children:a.milestone.status})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Created at:"}),Object(b.jsx)("p",{children:Object(b.jsx)(Z.a,{format:"hh:mm a, DD MMM, YYYY",children:a.milestone.createdAt})})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Verification Method:"}),Object(b.jsx)("p",{children:a.milestone.verification})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Seller:"}),Object(b.jsx)("p",{children:a.milestone.seller.firstName+" "+a.milestone.seller.lastName})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Buyer:"}),Object(b.jsx)("p",{children:a.milestone.buyer.firstName+" "+a.milestone.buyer.lastName})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Description:"}),Object(b.jsx)("p",{children:a.milestone.dscr})]})]}):Object(b.jsx)("li",{className:"placeholder",children:"No Detail provided"})]}),Object(b.jsxs)("ul",{className:"transactionDetail",children:[Object(b.jsx)("li",{className:"head",children:"Transaction Detail"}),a.transaction?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Type:"}),Object(b.jsx)("p",{children:a.transaction.__t})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Amount:"}),Object(b.jsx)("p",{children:a.transaction.amount})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Note:"}),Object(b.jsx)("p",{children:a.transaction.note})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Created at:"}),Object(b.jsx)("p",{children:Object(b.jsx)(Z.a,{format:"hh:mm a, DD MMM, YYYY",children:a.transaction.createdAt})})]})]}):Object(b.jsx)("li",{className:"placeholder",children:"No Detail provided"})]}),Object(b.jsx)("div",{className:"pBtm"})]}),Object(b.jsxs)("div",{className:"messages",children:[Object(b.jsxs)("div",{className:"head",children:["Messages ",Object(b.jsx)("button",{onClick:function(){return f(!0)},children:"Reply"})]}),Object(b.jsx)("ul",{children:a.messages.map((function(e,t){return Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{className:"user",children:Object(b.jsxs)("p",{className:"name",children:[e.user.name,Object(b.jsx)("span",{children:"\u2022"}),Object(b.jsx)("span",{className:"role",children:e.user.role}),Object(b.jsx)("span",{className:"date",children:Object(b.jsx)(Z.a,{format:"hh:mm a, DD MMM, YYYY",children:e.createdAt})})]})}),Object(b.jsx)("p",{className:"message",children:e.message.body}),e.message.files.length>0&&Object(b.jsx)("div",{className:"thumbs",children:Object(b.jsx)(V,{links:e.message.files})})]},t)}))})]}),Object(b.jsx)(N,{open:m,head:!0,lable:"Add reply to Ticket",setOpen:f,className:"formModal ticketReplyFormModal",children:Object(b.jsx)(Oe,{_id:a._id,onSuccess:function(e){f(!1),r((function(t){return Object(v.a)(Object(v.a)({},t),{},{messages:e.messages})})),u(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return u(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(w,{}),Object(b.jsx)("h4",{children:"Reply has been submitted."})]})]}))}})}),Object(b.jsx)(N,{open:j,className:"msg",children:j})]}):Object(b.jsxs)("div",{className:"ticket loading",children:[Object(b.jsxs)("div",{className:"detail",children:[Object(b.jsxs)(x.b,{to:"/account/support/ticket",className:"back",children:[Object(b.jsx)(M,{}),"Go Back"]}),Object(b.jsxs)("ul",{className:"summery",children:[Object(b.jsx)("li",{className:"head",children:"Ticket Summery"}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{}),Object(b.jsx)("p",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{}),Object(b.jsx)("p",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{}),Object(b.jsx)("p",{})]})]}),Object(b.jsxs)("ul",{className:"milestoneDetail",children:[Object(b.jsx)("li",{className:"head",children:"Milestone Detail"}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{}),Object(b.jsx)("p",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{}),Object(b.jsx)("p",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{}),Object(b.jsx)("p",{})]})]}),Object(b.jsxs)("ul",{className:"transactionDetail",children:[Object(b.jsx)("li",{className:"head",children:"Transaction Detail"}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{}),Object(b.jsx)("p",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{}),Object(b.jsx)("p",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{}),Object(b.jsx)("p",{})]})]})]}),Object(b.jsxs)("div",{className:"messages",children:[Object(b.jsx)("div",{className:"head",children:"Messages"}),Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:[Object(b.jsxs)("div",{className:"user",children:[Object(b.jsx)("div",{className:"img"}),Object(b.jsx)("p",{className:"name"})]}),Object(b.jsx)("p",{className:"message",children:Object(b.jsx)("span",{})}),Object(b.jsxs)("div",{className:"thumbs",children:[Object(b.jsx)("div",{className:"img"}),Object(b.jsx)("div",{className:"img"})]})]}),Object(b.jsxs)("li",{children:[Object(b.jsxs)("div",{className:"user",children:[Object(b.jsx)("div",{className:"img"}),Object(b.jsx)("p",{className:"name"})]}),Object(b.jsx)("p",{className:"message",children:Object(b.jsx)("span",{})}),Object(b.jsxs)("div",{className:"thumbs",children:[Object(b.jsx)("div",{className:"img"}),Object(b.jsx)("div",{className:"img"}),Object(b.jsx)("div",{className:"img"})]})]})]})]}),Object(b.jsx)(N,{open:j,className:"msg",children:j})]})},Oe=function(e){var t=e._id,c=e.onSuccess,n=Object(i.useState)(!1),s=Object(d.a)(n,2),a=s[0],r=s[1],l=Object(i.useState)(!1),o=Object(d.a)(l,2),j=o[0],u=o[1],h=Object(i.useState)(""),O=Object(d.a)(h,2),x=O[0],m=O[1],f=Object(i.useState)(""),p=Object(d.a)(f,2),g=p[0],v=p[1],C=function(){var e=Object(X.a)(K.a.mark((function e(n){var s;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r(!0),!x.length){e.next=8;break}return e.next=5,R({files:x,setMsg:u});case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=[];case 9:s=e.t0,fetch("/api/addTicketReply",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:t,message:{body:g,files:s}})}).then((function(e){return e.json()})).then((function(e){r(!1),"ok"===e.code?null===c||void 0===c||c(e.ticket):u(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return u(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Reply could not be submitted."})]})]}))})).catch((function(e){r(!1),console.log(e),u(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return u(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Reply could not be submitted. Make sure you're online."})]})]}))}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("form",{className:"ticketReplyForm",onSubmit:C,children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Message"}),Object(b.jsx)(oe.a,{required:!0,value:g,onChange:function(e){return v(e.target.value)}})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Upload relevant files (optional)"}),Object(b.jsx)(A,{accept:"audio/*,video/*,image/*",multiple:!0,onChange:function(e){return m(e)}})]}),Object(b.jsx)("button",{className:"submit",type:"submit",children:"Submit"}),Object(b.jsx)("div",{className:"pBtm"})]}),a&&Object(b.jsx)("div",{className:"spinnerContainer",children:Object(b.jsx)("div",{className:"spinner"})}),Object(b.jsx)(N,{open:j,className:"msg",children:j})]})},xe=function(e){e.history,e.location,e.pathname;var t=Object(i.useRef)(),c=Object(i.useState)(null),n=Object(d.a)(c,2),s=n[0],a=n[1],r=Object(i.useState)(0),l=Object(d.a)(r,2),o=l[0],j=l[1],u=Object(i.useState)([]),h=Object(d.a)(u,2),O=h[0],x=h[1],m=Object(i.useState)({column:"createdAt",order:"dsc"}),f=Object(d.a)(m,2),p=f[0],g=f[1],v=Object(i.useState)({startDate:new Date,endDate:new Date}),w=Object(d.a)(v,2),D=w[0],M=w[1],Y=Object(i.useState)(!1),A=Object(d.a)(Y,2),_=A[0],q=A[1],R=Object(i.useState)(1),V=Object(d.a)(R,2),T=V[0],H=V[1],B=Object(i.useState)(null),I=Object(d.a)(B,2),L=I[0],W=I[1],E=Object(i.useState)(""),G=Object(d.a)(E,2),Q=G[0],z=G[1],$=Object(i.useState)(20),K=Object(d.a)($,2),X=K[0],ee=K[1],te=Object(i.useState)({}),ce=Object(d.a)(te,2),ne=ce[0],se=ce[1],ae=Object(i.useState)(!1),re=Object(d.a)(ae,2),ie=re[0],le=re[1];return Object(i.useLayoutEffect)((function(){var e=t.current.getBoundingClientRect(),c=e.height,n=e.y,s=e.width,a=e.x;se({position:"fixed",top:c+n+4,right:window.innerWidth-a-s})}),[]),Object(i.useEffect)((function(){var e=J()(D.startDate).format("YYYY-MM-DD"),t=(J()(D.endDate).format("YYYY-MM-DD"),J()(new Date(D.endDate).setDate(D.endDate.getDate()+1)).format("YYYY-MM-DD"));fetch("/api/contactRequest?page=".concat(T,"&perPage=").concat(X,"&sort=").concat(p.column,"&order=").concat(p.order).concat(Q&&"&q="+Q).concat(ie?"&dateFrom="+e+"&dateTo="+t:"")).then((function(e){return e.json()})).then((function(e){var t;"ok"===e.code?(x(e.contactRequests.contactRequests),j((null===(t=e.contactRequests.pageInfo[0])||void 0===t?void 0:t.count)||0)):a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not get Contact Requests."})]})]}))})).catch((function(e){console.log(e),a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not get Contact Requests. Make sure you're online."})]})]}))}))}),[T,X,p.column,p.order,Q,ie]),Object(b.jsxs)("div",{className:"table contactContainer",children:[Object(b.jsx)("div",{style:{display:"none"},children:Object(b.jsx)(k,{})}),Object(b.jsxs)("div",{className:"filters",children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Total:"}),o]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Per Page:"}),Object(b.jsx)(P,{defaultValue:0,options:[{label:"20",value:20},{label:"30",value:30},{label:"50",value:50}],onChange:function(e){return ee(e.value)}})]}),Object(b.jsxs)("section",{className:"search",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23",children:Object(b.jsx)("path",{id:"Icon_ionic-ios-search","data-name":"Icon ionic-ios-search",d:"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z",transform:"translate(-4.5 -4.493)",fill:"#707070",opacity:"0.74"})}),Object(b.jsx)("input",{value:Q,onChange:function(e){return z(e.target.value)},placeholder:"Search for User or Message"}),Q&&Object(b.jsx)("button",{onClick:function(){return z("")},children:Object(b.jsx)(k,{})})]}),Object(b.jsxs)("section",{className:"date ".concat(ie?"open":""),ref:t,onClick:function(){return q(!0)},children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30.971",height:"30.971",viewBox:"0 0 30.971 30.971",children:Object(b.jsx)("path",{id:"Path_299","data-name":"Path 299",d:"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z",fill:"#336cf9"})}),ie&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"dates",children:[Object(b.jsxs)("p",{children:["From:"," ",Object(b.jsx)(Z.a,{format:"DD MMM, YYYY",children:D.startDate})]}),Object(b.jsxs)("p",{children:["To: ",Object(b.jsx)(Z.a,{format:"DD MMM, YYYY",children:D.endDate})]})]}),Object(b.jsx)("button",{className:"clearDateFilter",onClick:function(){M({startDate:new Date,endDate:new Date}),le(!1)},children:Object(b.jsx)(k,{})})]})]})]}),Object(b.jsxs)("table",{cellSpacing:0,cellPadding:0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsxs)("th",{className:"createdAt"===p.column?"sort "+p.order:"",onClick:function(){g((function(e){return{column:"createdAt",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Date ",Object(b.jsx)(S,{})]}),Object(b.jsxs)("th",{className:"user.firstName"===p.column?"sort "+p.order:"",onClick:function(){g((function(e){return{column:"user.firstName",order:"dsc"===e.order?"asc":"dsc"}}))},children:["User ",Object(b.jsx)(S,{})]}),Object(b.jsxs)("th",{children:["Message ",Object(b.jsx)(S,{})]})]})}),Object(b.jsxs)("tbody",{children:[O.map((function(e){var t;return Object(b.jsxs)("tr",{onClick:function(){return W(e)},children:[Object(b.jsx)("td",{children:Object(b.jsx)(Z.a,{format:"hh:mm a, DD MMM, YYYY",children:e.createdAt})}),Object(b.jsxs)("td",{className:"user",children:[Object(b.jsx)("img",{src:(null===(t=e.user)||void 0===t?void 0:t.profileImg)||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[e.name,Object(b.jsx)("span",{className:"phone",children:e.phone}),Object(b.jsx)("span",{className:"phone",children:e.email})]})]}),Object(b.jsx)("td",{className:"message",children:e.message})]},e._id)})),0===O.length&&Object(b.jsx)("tr",{className:"placeholder",children:Object(b.jsx)("td",{children:"Nothing yet."})})]}),Object(b.jsx)("tfoot",{children:Object(b.jsx)("tr",{children:Object(b.jsx)(F,{total:o,perPage:X,currentPage:T,btns:5,setPage:H})})})]}),Object(b.jsx)(N,{open:s,className:"msg",children:s}),Object(b.jsx)(N,{open:_,onBackdropClick:function(){return q(!1)},backdropClass:"datePicker",style:ne,children:Object(b.jsx)(U.DateRange,{className:"dateRange",ranges:[D],onChange:function(e){M(e.range1),e.range1.endDate!==e.range1.startDate&&(q(!1),le(!0))}})}),Object(b.jsx)(N,{open:L,head:!0,setOpen:W,label:"Contact Request",className:"formModal singleContact",children:Object(b.jsxs)("div",{className:"content",children:[Object(b.jsxs)("div",{className:"user",children:[null===L||void 0===L?void 0:L.name,Object(b.jsx)("span",{children:(null===L||void 0===L?void 0:L.email)||(null===L||void 0===L?void 0:L.phone)})]}),Object(b.jsx)("p",{className:"message",children:null===L||void 0===L?void 0:L.message}),Object(b.jsx)("div",{className:"actions",onClick:function(){return C({label:"Delete Contact Requets",question:"You sure want to delete this request?",callback:function(){fetch("/api/deleteContactRequest",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:L._id})}).then((function(e){return e.json()})).then((function(e){"ok"===e.code?(x((function(e){return e.filter((function(e){return e._id!==L._id}))})),W(null)):a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not delete Contact Request."})]})]}))})).catch((function(e){console.log(e),a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not delete Contact Request. Make sure you're online."})]})]}))}))}})},children:Object(b.jsx)("button",{className:"delete",children:"Delete"})})]})})]})},me=function(e){e.history,e.location,e.pathname;var t=Object(i.useRef)(),c=Object(i.useState)(null),n=Object(d.a)(c,2),s=n[0],a=n[1],r=Object(i.useState)(0),l=Object(d.a)(r,2),o=l[0],j=l[1],u=Object(i.useState)([]),h=Object(d.a)(u,2),O=h[0],x=h[1],m=Object(i.useState)({column:"createdAt",order:"dsc"}),f=Object(d.a)(m,2),p=f[0],g=f[1],v=Object(i.useState)({startDate:new Date,endDate:new Date}),w=Object(d.a)(v,2),D=w[0],M=w[1],Y=Object(i.useState)(!1),A=Object(d.a)(Y,2),_=A[0],q=A[1],R=Object(i.useState)(1),V=Object(d.a)(R,2),T=V[0],H=V[1],B=Object(i.useState)(null),I=Object(d.a)(B,2),L=I[0],W=I[1],E=Object(i.useState)(""),G=Object(d.a)(E,2),Q=G[0],z=G[1],$=Object(i.useState)(20),K=Object(d.a)($,2),X=K[0],ee=K[1],te=Object(i.useState)({}),ce=Object(d.a)(te,2),ne=ce[0],se=ce[1],ae=Object(i.useState)(!1),re=Object(d.a)(ae,2),ie=re[0],le=re[1];return Object(i.useLayoutEffect)((function(){var e=t.current.getBoundingClientRect(),c=e.height,n=e.y,s=e.width,a=e.x;se({position:"fixed",top:c+n+4,right:window.innerWidth-a-s})}),[]),Object(i.useEffect)((function(){var e=J()(D.startDate).format("YYYY-MM-DD"),t=(J()(D.endDate).format("YYYY-MM-DD"),J()(new Date(D.endDate).setDate(D.endDate.getDate()+1)).format("YYYY-MM-DD"));fetch("/api/viewAllWorkRequest?page=".concat(T,"&perPage=").concat(X,"&sort=").concat(p.column,"&order=").concat(p.order).concat(Q&&"&q="+Q).concat(ie?"&dateFrom="+e+"&dateTo="+t:"")).then((function(e){return e.json()})).then((function(e){var t;"ok"===e.code?(x(e.requests.requests),j((null===(t=e.requests.pageInfo[0])||void 0===t?void 0:t.count)||0)):a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not get Work Requests."})]})]}))})).catch((function(e){console.log(e),a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not get Work Requests. Make sure you're online."})]})]}))}))}),[T,X,p.column,p.order,Q,ie]),Object(b.jsxs)("div",{className:"table contactContainer",children:[Object(b.jsx)("div",{style:{display:"none"},children:Object(b.jsx)(k,{})}),Object(b.jsxs)("div",{className:"filters",children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Total:"}),o]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Per Page:"}),Object(b.jsx)(P,{defaultValue:0,options:[{label:"20",value:20},{label:"30",value:30},{label:"50",value:50}],onChange:function(e){return ee(e.value)}})]}),Object(b.jsxs)("section",{className:"search",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23",children:Object(b.jsx)("path",{id:"Icon_ionic-ios-search","data-name":"Icon ionic-ios-search",d:"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z",transform:"translate(-4.5 -4.493)",fill:"#707070",opacity:"0.74"})}),Object(b.jsx)("input",{value:Q,onChange:function(e){return z(e.target.value)},placeholder:"Search for Name, phone, email"}),Q&&Object(b.jsx)("button",{onClick:function(){return z("")},children:Object(b.jsx)(k,{})})]}),Object(b.jsxs)("section",{className:"date ".concat(ie?"open":""),ref:t,onClick:function(){return q(!0)},children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30.971",height:"30.971",viewBox:"0 0 30.971 30.971",children:Object(b.jsx)("path",{id:"Path_299","data-name":"Path 299",d:"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z",fill:"#336cf9"})}),ie&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"dates",children:[Object(b.jsxs)("p",{children:["From:"," ",Object(b.jsx)(Z.a,{format:"DD MMM, YYYY",children:D.startDate})]}),Object(b.jsxs)("p",{children:["To: ",Object(b.jsx)(Z.a,{format:"DD MMM, YYYY",children:D.endDate})]})]}),Object(b.jsx)("button",{className:"clearDateFilter",onClick:function(){M({startDate:new Date,endDate:new Date}),le(!1)},children:Object(b.jsx)(k,{})})]})]})]}),Object(b.jsxs)("table",{cellSpacing:0,cellPadding:0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsxs)("th",{className:"createdAt"===p.column?"sort "+p.order:"",onClick:function(){g((function(e){return{column:"createdAt",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Date ",Object(b.jsx)(S,{})]}),Object(b.jsxs)("th",{className:"user.firstName"===p.column?"sort "+p.order:"",onClick:function(){g((function(e){return{column:"user.firstName",order:"dsc"===e.order?"asc":"dsc"}}))},children:["User ",Object(b.jsx)(S,{})]}),Object(b.jsx)("th",{children:"Resume"})]})}),Object(b.jsxs)("tbody",{children:[O.map((function(e){var t;return Object(b.jsxs)("tr",{onClick:function(){return W(e)},children:[Object(b.jsx)("td",{children:Object(b.jsx)(Z.a,{format:"hh:mm a, DD MMM, YYYY",children:e.createdAt})}),Object(b.jsxs)("td",{className:"user",children:[Object(b.jsx)("img",{src:(null===(t=e.user)||void 0===t?void 0:t.profileImg)||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[e.firstName+" "+e.lastName,Object(b.jsx)("span",{className:"phone",children:e.phone}),Object(b.jsx)("span",{className:"phone",children:e.email})]})]}),Object(b.jsx)("td",{className:"message",children:Object(b.jsx)("a",{href:e.resume,target:"_blank",onClick:function(e){return e.stopPropagation()},children:e.resume})})]},e._id)})),0===O.length&&Object(b.jsx)("tr",{className:"placeholder",children:Object(b.jsx)("td",{children:"Nothing yet."})})]}),Object(b.jsx)("tfoot",{children:Object(b.jsx)("tr",{children:Object(b.jsx)(F,{total:o,perPage:X,currentPage:T,btns:5,setPage:H})})})]}),Object(b.jsx)(N,{open:s,className:"msg",children:s}),Object(b.jsx)(N,{open:_,onBackdropClick:function(){return q(!1)},backdropClass:"datePicker",style:ne,children:Object(b.jsx)(U.DateRange,{className:"dateRange",ranges:[D],onChange:function(e){M(e.range1),e.range1.endDate!==e.range1.startDate&&(q(!1),le(!0))}})}),Object(b.jsx)(N,{open:L,head:!0,label:"Work Request",setOpen:W,className:"formModal singleContact",children:Object(b.jsxs)("div",{className:"content",children:[Object(b.jsxs)("div",{className:"user",children:[(null===L||void 0===L?void 0:L.firstName)+" "+(null===L||void 0===L?void 0:L.lastName),Object(b.jsxs)("span",{children:[null===L||void 0===L?void 0:L.phone,", ",null===L||void 0===L?void 0:L.email]})]}),Object(b.jsxs)("div",{className:"message",children:[Object(b.jsx)("p",{children:"Resume:"}),Object(b.jsx)("p",{children:Object(b.jsx)("a",{target:"_blank",href:null===L||void 0===L?void 0:L.resume,children:null===L||void 0===L?void 0:L.resume})}),(null===L||void 0===L?void 0:L.dscr)&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{children:"Description"}),Object(b.jsx)("p",{children:null===L||void 0===L?void 0:L.dscr})]})]}),Object(b.jsx)("div",{className:"actions",onClick:function(){return C({label:"Delete Contact Requets",question:"You sure want to delete this request?",callback:function(){fetch("/api/deleteContactRequest",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:L._id})}).then((function(e){return e.json()})).then((function(e){"ok"===e.code?(x((function(e){return e.filter((function(e){return e._id!==L._id}))})),W(null)):a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not delete Contact Request."})]})]}))})).catch((function(e){console.log(e),a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not delete Contact Request. Make sure you're online."})]})]}))}))}})},children:Object(b.jsx)("button",{className:"delete",children:"Delete"})})]})})]})};c(111);var fe=function(){var e=Object(i.useContext)(u),t=e.user,c=e.setUser,n=Object(O.g)(),s=Object(i.useRef)(null),a=Object(i.useState)(!1),r=Object(d.a)(a,2),l=r[0],o=r[1],j=Object(i.useState)(!1),h=Object(d.a)(j,2),m=(h[0],h[1],Object(i.useState)(!1)),f=Object(d.a)(m,2),p=f[0],g=f[1],N=Object(i.useState)(!1),C=Object(d.a)(N,2),w=C[0],k=C[1],D=Object(i.useState)(null),M=Object(d.a)(D,2),S=(M[0],M[1]);return Object(i.useEffect)((function(){p&&fetch("/api/editAdminProfile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({notificationLastRead:new Date})}).then((function(e){return e.json()})).then((function(e){e.user&&c((function(t){return Object(v.a)(Object(v.a)({},t),{},{notificationLastRead:e.user.notificationLastRead})}))})).catch((function(e){console.log(e)}))}),[p]),Object(i.useEffect)((function(){t&&(t.notifications.find((function(e){return new Date(e.createdAt)>new Date(t.notificationLastRead)}))&&k(!0),p&&k(!1))}),[p,t]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"profile",children:[Object(b.jsx)("button",{className:"bell ".concat(w?"unread":""),onClick:function(){return g(!0)},children:Object(b.jsx)("img",{src:"/notification-bell.png"})}),Object(b.jsx)("img",{src:null===t||void 0===t?void 0:t.profileImg,className:"avatar",onClick:function(){return o(!l)}}),l&&Object(b.jsxs)("div",{className:"menu",ref:s,onClick:function(){return o(!1)},children:[Object(b.jsx)("p",{className:"name",children:t.name||t.phone}),Object(b.jsx)("div",{className:"links",children:Object(b.jsx)(x.b,{className:"link settings",to:"/dashboard/profile",children:"Settings"})}),Object(b.jsxs)("button",{className:"logout",onClick:function(){fetch("/api/logout").then((function(e){return e.json()})).then((function(e){c(null),n.push("/")})).catch((function(e){console.log(e),S(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return S(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not logout."})]})]}))}))},children:["Logout",Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31.702",height:"31.702",viewBox:"0 0 31.702 31.702",children:Object(b.jsx)("path",{id:"Path_1758","data-name":"Path 1758",d:"M15.487,25.174l2.483,2.483,8.806-8.806L17.97,10.045l-2.483,2.483,4.544,4.562H3v3.522H20.031ZM31.18,3H6.522A3.521,3.521,0,0,0,3,6.522v7.045H6.522V6.522H31.18V31.18H6.522V24.135H3V31.18A3.521,3.521,0,0,0,6.522,34.7H31.18A3.533,3.533,0,0,0,34.7,31.18V6.522A3.533,3.533,0,0,0,31.18,3Z",transform:"translate(-3 -3)",fill:"#fc0660"})})]})]}),p&&Object(b.jsxs)("ul",{className:"notiWrapper",children:[t.notifications.reverse().map((function(e,t){return Object(b.jsxs)("li",{children:[Object(b.jsx)(Z.a,{format:"hh:mm",children:e.createdAt}),Object(b.jsx)("p",{className:"title",children:e.title}),Object(b.jsx)("p",{className:"body",children:e.body})]},t)})),0===t.notifications.length&&Object(b.jsx)("li",{className:"placeholder",children:"Nothing for now."})]})]}),(l||p)&&Object(b.jsx)("div",{className:"backdrop",onClick:function(){o(!1),g(!1)}})]})},pe=function(){Object(O.g)();var e,t=Object(i.useState)({}),c=Object(d.a)(t,2),n=c[0],s=c[1],a=Object(i.useState)(null),r=Object(d.a)(a,2),l=r[0],o=r[1];return Object(i.useEffect)((function(){fetch("/api/getDashboardData").then((function(e){return e.json()})).then((function(e){"ok"===e.code?s(e):o(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return o(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not get data"})]})]}))})).catch((function(e){o(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return o(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{}),Object(b.jsx)("h4",{children:"Could not get data. Make sure you're online."})]})]})),console.log(e)}))}),[]),Object(b.jsxs)("div",{className:"homeContainer",children:[Object(b.jsxs)("div",{className:"totalBalance",children:[Object(b.jsx)("p",{children:"Total balance in wallet"}),Object(b.jsxs)("h1",{children:["\u20b9 ",n.totalBalance||0]})]}),Object(b.jsxs)("div",{className:"total",children:[Object(b.jsx)("p",{children:"Total milestone in progress."}),Object(b.jsx)("h3",{children:n.activeMilestones||0})]}),Object(b.jsxs)("div",{className:"total",children:[Object(b.jsx)("p",{children:"Total dispute pending verdict."}),Object(b.jsx)("h3",{children:n.activeDisputes||0})]}),Object(b.jsxs)("div",{className:"total",children:[Object(b.jsxs)("p",{children:["Total Transaction this month"," ",Object(b.jsx)("span",{children:Object(b.jsx)(Z.a,{format:"MMM, YYYY",children:new Date})})]}),Object(b.jsx)("h3",{children:n.transactionThisMonth||0})]}),Object(b.jsxs)("div",{className:"recentTrans",children:[Object(b.jsx)("p",{children:"Latest Transactions"}),Object(b.jsx)("ul",{children:(null===(e=n.recentTrans)||void 0===e?void 0:e.map((function(e){var t,c,n;return Object(b.jsxs)("li",{children:[Object(b.jsxs)("div",{className:"transDetail",children:[Object(b.jsx)("img",{src:null===(t=e.user)||void 0===t?void 0:t.profileImg}),Object(b.jsxs)("p",{className:"name",children:[(null===(c=e.user)||void 0===c?void 0:c.firstName)+" "+(null===(n=e.user)||void 0===n?void 0:n.lastName)||"Deleted user",Object(b.jsx)(Z.a,{className:"date",format:"MMM DD, YYYY",children:e.createdAt})]})]}),Object(b.jsx)("div",{className:"amount",children:Object(b.jsxs)("h4",{children:["\u20b9 ",e.amount]})})]},e._id)})))||Object(b.jsx)("li",{children:"Nothing for now"})}),Object(b.jsx)(x.b,{className:"viewAll",to:"/dashboard/transactions",children:"View All"})]}),Object(b.jsx)(N,{className:"msg",open:l,children:l})]})};var ge=function(e){var t=e.label,c=e.className,n=e.location,s=e.link,a=e.path,r=e.children;return Object(b.jsxs)("li",{className:"accordion ".concat(c||""," ").concat(n.pathname.startsWith(s)&&"open"),children:[Object(b.jsx)(x.b,{to:a,children:t}),n.pathname.startsWith(s)&&r]})},ve=function(e){var t=e.location,c=(Object(i.useContext)(u).user,Object(i.useState)(!1)),n=Object(d.a)(c,2),s=n[0],a=n[1];return Object(b.jsxs)("div",{className:"account ".concat(t.pathname.startsWith("/dashboard/deals/")?"chatSection":""),children:[Object(b.jsxs)("ul",{className:"sidebar ".concat(s?"open":""),onClick:function(e){return a(!1)},children:[Object(b.jsx)("li",{children:Object(b.jsx)("img",{className:"logo",src:"/logo_land.jpg",alt:"Delivery pay logo"})}),Object(b.jsx)("li",{className:"/dashboard"===t.pathname||t.pathname.startsWith("/dashboard/home")?"active":void 0,children:Object(b.jsxs)(x.b,{to:"/dashboard/home",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)("img",{src:"/dashboard.png"})}),Object(b.jsx)("p",{className:"label",children:"Home"})]})}),Object(b.jsx)("li",{className:t.pathname.startsWith("/dashboard/milestones")?"active":void 0,children:Object(b.jsxs)(x.b,{to:"/dashboard/milestones",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)("img",{src:"/buyer.png"})}),Object(b.jsx)("p",{className:"label",children:"Milestones"})]})}),Object(b.jsx)("li",{className:t.pathname.startsWith("/dashboard/transactions")?"active":void 0,children:Object(b.jsxs)(x.b,{to:"/dashboard/transactions",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)("img",{src:"/transaction.png"})}),Object(b.jsx)("p",{className:"label",children:"Transactions"})]})}),Object(b.jsx)("li",{className:t.pathname.startsWith("/dashboard/disputes")?"active":void 0,children:Object(b.jsxs)(x.b,{to:"/dashboard/disputes",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)("img",{src:"/deal.png"})}),Object(b.jsx)("p",{className:"label",children:"Disputes"})]})}),Object(b.jsx)("li",{className:"settings ".concat(t.pathname.startsWith("/dashboard/settings")?"active":void 0),children:Object(b.jsxs)(x.b,{to:"/dashboard/settings",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)("img",{src:"/setting.png"})}),Object(b.jsx)("p",{className:"label",children:"Settings"})]})}),Object(b.jsx)(ge,{className:"support ".concat(t.pathname.startsWith("/dashboard/support")?"active":""),location:t,label:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)("img",{src:"/customer-support.png"})}),Object(b.jsx)("p",{className:"label",children:"Customer Support"})]}),link:"/dashboard/support",path:"/dashboard/support/faq",children:Object(b.jsxs)("ul",{className:"",children:[Object(b.jsx)("li",{children:Object(b.jsxs)(x.b,{to:"/dashboard/support/faq",className:"".concat(t.pathname.startsWith("/dashboard/support/faq")?"active":""),children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)("img",{src:"/message.png"})}),Object(b.jsx)("p",{className:"label",children:"FAQ Blogs"})]})}),Object(b.jsx)("li",{children:Object(b.jsxs)(x.b,{to:"/dashboard/support/tickets",className:"".concat(t.pathname.startsWith("/dashboard/support/ticket")?"active":""),children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)("img",{src:"/tickets.png"})}),Object(b.jsx)("p",{className:"label",children:"Tickets"})]})}),Object(b.jsx)("li",{children:Object(b.jsxs)(x.b,{to:"/dashboard/support/workRequest",className:"".concat(t.pathname.startsWith("/dashboard/support/workRequest")?"active":""),children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)("img",{src:"/cargo.png"})}),Object(b.jsx)("p",{className:"label",children:"Job Application"})]})}),Object(b.jsx)("li",{children:Object(b.jsxs)(x.b,{to:"/dashboard/support/contactRequest",className:"".concat(t.pathname.startsWith("/dashboard/support/contactRequest")?"active":""),children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)("img",{src:"/cargo.png"})}),Object(b.jsx)("p",{className:"label",children:"Contact Request"})]})})]})})]}),s&&Object(b.jsx)("div",{className:"sidebarBackdrop",onClick:function(){return a(!1)}}),Object(b.jsxs)("main",{children:[Object(b.jsxs)("header",{children:[Object(b.jsx)("button",{className:"menuBtn",onClick:function(){return a(!0)},children:Object(b.jsx)("img",{src:"/menu.svg"})}),Object(b.jsx)("h3",{children:"Now Pay after Delivery with Delivery Pay"}),Object(b.jsx)(fe,{})]}),Object(b.jsxs)(O.d,{children:[Object(b.jsx)(O.b,{path:"/dashboard/milestones",component:z}),Object(b.jsx)(O.b,{path:"/dashboard/transactions",component:Q}),Object(b.jsx)(O.b,{path:"/dashboard/support/faq",component:je}),Object(b.jsx)(O.b,{path:"/dashboard/support/ticket/:_id",component:he}),Object(b.jsx)(O.b,{path:"/dashboard/support/tickets",component:ue}),Object(b.jsx)(O.b,{path:"/dashboard/support/workRequest",component:me}),Object(b.jsx)(O.b,{path:"/dashboard/settings",component:ne}),Object(b.jsx)(O.b,{path:"/dashboard/support/contactRequest",component:xe}),Object(b.jsx)(O.b,{exact:!0,path:"/dashboard/disputes/:_id",component:se}),Object(b.jsx)(O.b,{exact:!0,path:"/dashboard/disputes",component:le}),Object(b.jsx)(O.b,{path:"/",component:pe})]})]}),Object(b.jsxs)("ul",{className:"mobileMenu",children:[Object(b.jsx)("li",{className:"/dashboard"===t.pathname||t.pathname.startsWith("/dashboard/home")?"active":void 0,children:Object(b.jsxs)(x.b,{to:"/dashboard/home",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21.648",height:"21.513",viewBox:"0 0 21.648 21.513",children:Object(b.jsx)("path",{id:"Path_287","data-name":"Path 287",d:"M21.387,10.488A1.079,1.079,0,0,0,21.3,8.979L11.626.289a1.185,1.185,0,0,0-1.576,0L.342,9.44A1.073,1.073,0,0,0,.3,10.95l.245.258A1.043,1.043,0,0,0,2,11.321l.724-.665v9.762A1.071,1.071,0,0,0,3.78,21.5H7.563A1.071,1.071,0,0,0,8.62,20.418V13.591h4.81v6.828a1.04,1.04,0,0,0,.269.761.987.987,0,0,0,.723.323H18.45a1.071,1.071,0,0,0,1.057-1.084V10.776l.449.4c.245.222.765.042,1.168-.4Z",transform:"translate(-0.008 0.011)",fill:"#fff"})})}),"Home"]})}),Object(b.jsx)("li",{className:"deals ".concat(t.pathname.startsWith("/dashboard/deals")?"active":void 0),children:Object(b.jsxs)(x.b,{to:"/dashboard/deals",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26.55",height:"25.219",viewBox:"0 0 26.55 25.219",children:Object(b.jsx)("path",{id:"Path_1","data-name":"Path 1",d:"M-242.2-184.285h-13l26.55-10.786-4.252,25.219-5.531-10.637-2.127,4.68v-6.382l7.659-9.148h2.34",transform:"translate(255.198 195.071)",fill:"#fff"})})}),"Deals"]})}),Object(b.jsx)("li",{className:t.pathname.startsWith("/dashboard/wallet")?"active":void 0,children:Object(b.jsxs)(x.b,{to:"/dashboard/wallet",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20.886",height:"22.948",viewBox:"0 0 20.886 22.948",children:[Object(b.jsxs)("g",{id:"Rectangle_2","data-name":"Rectangle 2",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(b.jsx)("rect",{width:"20.886",height:"16.244",rx:"2",stroke:"none"}),Object(b.jsx)("rect",{x:"1",y:"1",width:"18.886",height:"14.244",rx:"1",fill:"none"})]}),Object(b.jsxs)("g",{id:"Rectangle_3","data-name":"Rectangle 3",transform:"translate(0 9.283)",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(b.jsx)("rect",{width:"20.886",height:"6.962",rx:"2",stroke:"none"}),Object(b.jsx)("rect",{x:"1",y:"1",width:"18.886",height:"4.962",rx:"1",fill:"none"})]}),Object(b.jsx)("path",{id:"Path_2","data-name":"Path 2",d:"M-180.174-182v7.923l4.1-4.653,3.932,4.653V-182Z",transform:"translate(186.6 197.025)",fill:"#fff"})]})}),"Wallet"]})}),Object(b.jsx)("li",{className:"hold ".concat(t.pathname.startsWith("/dashboard/hold")?"active":void 0),children:Object(b.jsxs)(x.b,{to:"/dashboard/hold",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"27",viewBox:"0 0 22 27",children:[Object(b.jsx)("text",{id:"_3","data-name":"3",transform:"translate(14 14) rotate(180)",fill:"#fff",fontSize:"10",fontFamily:"Ebrima-Bold, Ebrima",fontWeight:"700",children:Object(b.jsx)("tspan",{x:"0",y:"0",children:"3"})}),Object(b.jsxs)("g",{id:"Group_166","data-name":"Group 166",transform:"translate(-534.967 -611.816)",children:[Object(b.jsxs)("g",{id:"Rectangle_1132","data-name":"Rectangle 1132",transform:"translate(534.967 620.816)",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(b.jsx)("rect",{width:"22",height:"18",rx:"4",stroke:"none"}),Object(b.jsx)("rect",{x:"1",y:"1",width:"20",height:"16",rx:"3",fill:"none"})]}),Object(b.jsxs)("g",{id:"Rectangle_1133","data-name":"Rectangle 1133",transform:"translate(539.967 611.816)",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(b.jsx)("path",{d:"M6.5,0h0A6.5,6.5,0,0,1,13,6.5V11a0,0,0,0,1,0,0H0a0,0,0,0,1,0,0V6.5A6.5,6.5,0,0,1,6.5,0Z",stroke:"none"}),Object(b.jsx)("path",{d:"M6.5,1h0A5.5,5.5,0,0,1,12,6.5V9.214a.786.786,0,0,1-.786.786H1.786A.786.786,0,0,1,1,9.214V6.5A5.5,5.5,0,0,1,6.5,1Z",fill:"none"})]})]})]})}),"Hold"]})}),Object(b.jsx)("li",{className:"trans ".concat(t.pathname.startsWith("/dashboard/transactions")?"active":void 0),children:Object(b.jsxs)(x.b,{to:"/dashboard/transactions",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsxs)("svg",{id:"Group_283","data-name":"Group 283",xmlns:"http://www.w3.org/2000/svg",width:"28.407",height:"25.407",viewBox:"0 0 28.407 25.407",children:[Object(b.jsxs)("g",{id:"Path_4","data-name":"Path 4",transform:"translate(3)",fill:"none",children:[Object(b.jsx)("path",{d:"M12.7,0A12.7,12.7,0,1,1,0,12.7,12.7,12.7,0,0,1,12.7,0Z",stroke:"none"}),Object(b.jsx)("path",{d:"M 12.70325660705566 1.999996185302734 C 9.844316482543945 1.999996185302734 7.156496047973633 3.113327026367188 5.134906768798828 5.134906768798828 C 3.113327026367188 7.156496047973633 1.999996185302734 9.844316482543945 1.999996185302734 12.70325660705566 C 1.999996185302734 15.56219673156738 3.113327026367188 18.2500171661377 5.134906768798828 20.2716064453125 C 7.156496047973633 22.29318618774414 9.844316482543945 23.40651702880859 12.70325660705566 23.40651702880859 C 15.56219673156738 23.40651702880859 18.2500171661377 22.29318618774414 20.2716064453125 20.2716064453125 C 22.29318618774414 18.2500171661377 23.40651702880859 15.56219673156738 23.40651702880859 12.70325660705566 C 23.40651702880859 9.844316482543945 22.29318618774414 7.156496047973633 20.2716064453125 5.134906768798828 C 18.2500171661377 3.113327026367188 15.56219673156738 1.999996185302734 12.70325660705566 1.999996185302734 M 12.70325660705566 -3.814697265625e-06 C 19.71906661987305 -3.814697265625e-06 25.40651702880859 5.687446594238281 25.40651702880859 12.70325660705566 C 25.40651702880859 19.71906661987305 19.71906661987305 25.40651702880859 12.70325660705566 25.40651702880859 C 5.687446594238281 25.40651702880859 -3.814697265625e-06 19.71906661987305 -3.814697265625e-06 12.70325660705566 C -3.814697265625e-06 5.687446594238281 5.687446594238281 -3.814697265625e-06 12.70325660705566 -3.814697265625e-06 Z",stroke:"none",fill:"#fff"})]}),Object(b.jsxs)("g",{id:"Polygon_1","data-name":"Polygon 1",transform:"translate(6.001 12.353) rotate(-150)",fill:"#fff",children:[Object(b.jsx)("path",{d:"M 4.929044723510742 3.619362831115723 L 2.000004529953003 3.619362831115723 L 3.464524507522583 1.666669487953186 L 4.929044723510742 3.619362831115723 Z",stroke:"none"}),Object(b.jsx)("path",{d:"M 3.464524507522583 2.86102294921875e-06 L 6.929044723510742 4.619362831115723 L 4.291534423828125e-06 4.619362831115723 L 3.464524507522583 2.86102294921875e-06 Z",stroke:"none",fill:"#fff"})]}),Object(b.jsxs)("g",{id:"Rectangle_4","data-name":"Rectangle 4",transform:"translate(0 11.86) rotate(-22)",fill:"#336cf9",stroke:"#336cf9",strokeWidth:"1",children:[Object(b.jsx)("rect",{width:"6.929",height:"4.619",stroke:"none"}),Object(b.jsx)("rect",{x:"0.5",y:"0.5",width:"5.929",height:"3.619",fill:"none"})]}),Object(b.jsxs)("g",{id:"Group_5","data-name":"Group 5",transform:"translate(15.704 4.888)",children:[Object(b.jsx)("line",{id:"Line_3","data-name":"Line 3",y2:"9.239",transform:"translate(0 0)",fill:"none",stroke:"#fff",strokeWidth:"2"}),Object(b.jsx)("line",{id:"Line_4","data-name":"Line 4",x2:"6.929",y2:"2.31",transform:"translate(0 9.239)",fill:"none",stroke:"#fff",strokeWidth:"2"})]})]})}),"Transactions"]})})]})]})};function Ne(){var e=.01*window.innerHeight;document.body.style.setProperty("--vh","".concat(e,"px"))}function Ce(e){var t=e.children,c=e.path,n=e.component,s=Object(i.useContext)(u).user,a=Object(O.g)();return s?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(O.b,{path:c,component:n,children:t})}):Object(b.jsx)(O.a,{to:{pathname:"/login",state:{from:a.location.pathname}}})}var ye=function(){var e=Object(i.useState)(window.innerWidth<=480),t=Object(d.a)(e,2);return t[0],t[1],Object(i.useEffect)((function(){window.addEventListener("resize",(function(){return Ne()})),Ne()}),[]),Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(x.a,{children:Object(b.jsxs)(O.d,{children:[Object(b.jsx)(Ce,{path:"/dashboard",component:ve}),Object(b.jsx)(O.b,{exact:!0,path:"/",component:W}),Object(b.jsx)(O.b,{exact:!0,path:"/login",component:W}),Object(b.jsx)(O.b,{exact:!0,path:"/join",component:W}),Object(b.jsx)(O.b,{exact:!0,path:"/resetPassword",component:W}),Object(b.jsx)(O.b,{path:"/",children:Object(b.jsxs)("div",{className:"generic",children:[Object(b.jsx)(_,{}),Object(b.jsx)("div",{className:"fourFour",children:Object(b.jsx)("h1",{children:"404"})}),Object(b.jsx)(q,{})]})})]})})})},we=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,115)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))},ke=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function De(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),c=window.atob(t),n=new Uint8Array(c.length),s=0;s<c.length;++s)n[s]=c.charCodeAt(s);return n}function Me(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var c=e.installing;null!=c&&(c.onstatechange=function(){"installed"===c.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)),navigator.serviceWorker.ready.then(function(){var e=Object(X.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:De("BOAary6p08dAK6T2GSg0zRGrWKk5qs-sz_-f62My0JXMPG52fqQfzzJlePyF0snUvrdeEg4RSWOVGhrtVc1v3Lo")}).then((function(e){fetch("/api/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Se,Ye=function(e){Object(a.a)(c,e);var t=Object(r.a)(c);function c(e){var s;return Object(n.a)(this,c),(s=t.call(this,e)).state={hasError:!1,reported:!1},s}return Object(s.a)(c,[{key:"componentDidCatch",value:function(e,t){var c=this,n={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({err:e.name,message:e.message,dscr:t})};fetch("/api/bugReportAuto",n).then((function(e){return e.json()})).then((function(e){"ok"===e.code&&(c.reported=!0)}))}},{key:"render",value:function(){return this.state.hasError?Object(b.jsx)("div",{className:"deathPage",children:Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)("ion-icon",{name:"skull-outline"}),Object(b.jsx)("h2",{children:"Oops."}),Object(b.jsx)("a",{href:"/",children:Object(b.jsx)("ion-icon",{name:"refresh-outline"})}),this.reported&&Object(b.jsx)("p",{children:"successfully reported"})]})}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),c}(l.a.Component);j.a.render(Object(b.jsx)(l.a.StrictMode,{children:Object(b.jsx)(Ye,{children:Object(b.jsx)(h,{children:Object(b.jsx)(ye,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&window.addEventListener("load",(function(){var e="/service-worker.js";ke?(function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(c){var n=c.headers.get("content-type");404===c.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Me(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,Se),navigator.serviceWorker.ready.then(function(){var e=Object(X.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:De("BOAary6p08dAK6T2GSg0zRGrWKk5qs-sz_-f62My0JXMPG52fqQfzzJlePyF0snUvrdeEg4RSWOVGhrtVc1v3Lo")}).then((function(e){fetch("/api/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):Me(e,Se)})),we()},58:function(e,t,c){},81:function(e,t,c){},83:function(e,t,c){},92:function(e,t,c){}},[[112,1,2]]]);
//# sourceMappingURL=main.6eabb57f.chunk.js.map