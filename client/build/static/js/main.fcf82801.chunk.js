(this["webpackJsonpDelivery Pay - admin"]=this["webpackJsonpDelivery Pay - admin"]||[]).push([[0],{102:function(e,t,c){},109:function(e,t,c){},114:function(e,t,c){},115:function(e,t,c){},116:function(e,t,c){},117:function(e,t,c){},118:function(e,t,c){"use strict";c.r(t);var n=c(74),s=c(75),a=c(79),i=c(78),r=c(1),l=c.n(r),o=c(25),j=c.n(o),d=(c(84),c(2)),b=c(0),u=Object(r.createContext)(),h=function(e){var t=e.children,c=Object(r.useState)(null),n=Object(d.a)(c,2),s=n[0],a=n[1],i=Object(r.useState)(!1),l=Object(d.a)(i,2),o=l[0],j=l[1],h=Object(r.useState)({}),O=Object(d.a)(h,2),x=O[0],m=O[1];return Object(r.useEffect)((function(){fetch("/api/siteConfig").then((function(e){return e.json()})).then((function(e){"ok"===e.code&&m(e.config||{})}))}),[]),Object(b.jsx)(u.Provider,{value:{user:s,setUser:a,isAuthenticated:o,setIsAuthenticated:j,config:x,setConfig:m},children:t})},O=c(10),x=c(8),m=c(31),f=c(12),p=(c.p,c.p,c(9)),g=function(e){var t=e.containerClass,c=e.open,n=e.setOpen,s=e.children,a=e.className,i=e.onBackdropClick,l=e.backdropClass,j=e.style,d=e.head,u=e.label;return Object(r.useEffect)((function(){if(t){var e=document.querySelector("#portal");return e.classList.add(t),function(){return e.classList.remove(t)}}})),c?Object(o.createPortal)(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"modalBackdrop ".concat(l),onClick:function(){null===i||void 0===i||i()}}),Object(b.jsxs)("div",{style:Object(p.a)({},j),className:"modal ".concat(a||""),children:[d&&Object(b.jsxs)("div",{className:"head",children:[Object(b.jsx)("p",{className:"modalName",children:u}),Object(b.jsx)("button",{onClick:function(){return null===n||void 0===n?void 0:n(!1)},children:Object(b.jsx)(D,{})})]}),s]})]}),document.querySelector("#portal")):null},v=function(e){var t=e.className,c=e.label,n=e.question,s=e.callback,a=function(){return j.a.render(Object(b.jsx)(b.Fragment,{}),document.querySelector("#confirm"))},i=function(){return a()};j.a.render(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"modalBackdrop"}),Object(b.jsxs)("div",{className:"modal confirm ".concat(t||""),children:[Object(b.jsxs)("div",{className:"head",children:[Object(b.jsx)("p",{className:"modalName",children:c}),Object(b.jsx)("button",{onClick:i,children:Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(b.jsx)("defs",{children:Object(b.jsx)("clipPath",{id:"clip-path",children:Object(b.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(b.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(b.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})})]}),Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)("p",{className:"question",children:n}),Object(b.jsxs)("div",{className:"actions",children:[Object(b.jsx)("button",{className:"yes",onClick:function(){s(),a()},children:"Confirm"}),Object(b.jsx)("button",{className:"no",onClick:i,children:"Decline"})]})]})]})]}),document.querySelector("#confirm"))},N=c(6),y=c.n(N),C=c(15);c(102);var k=function(){return Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"158",height:"158",viewBox:"0 0 158 158",children:[Object(b.jsx)("defs",{children:Object(b.jsxs)("linearGradient",{id:"linear-gradient-red",x1:"-0.298",y1:"-0.669",x2:"1.224",y2:"1.588",gradientUnits:"objectBoundingBox",children:[Object(b.jsx)("stop",{offset:"0",stopColor:"#f93389"}),Object(b.jsx)("stop",{offset:"1",stopColor:"#e3003e"})]})}),Object(b.jsx)("rect",{id:"Rectangle_1104","data-name":"Rectangle 1104",width:"158",height:"158",rx:"79",fill:"url(#linear-gradient-red)"}),Object(b.jsx)("g",{id:"Component_85_8","data-name":"Component 85 \u2013 8",transform:"translate(49.472 49.472)",children:Object(b.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M29.527,34.9,5.368,59.057,0,53.686,24.158,29.527,0,5.368,5.368,0l24.16,24.158L53.686,0l5.371,5.368L34.9,29.527l24.16,24.158-5.371,5.371Z",fill:"#fff"})})]})},w=function(){return Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"158",height:"158",viewBox:"0 0 158 158",children:[Object(b.jsxs)("defs",{children:[Object(b.jsxs)("linearGradient",{id:"linear-gradient",x1:"-0.298",y1:"-0.669",x2:"1.224",y2:"1.588",gradientUnits:"objectBoundingBox",children:[Object(b.jsx)("stop",{offset:"0",stopColor:"#336cf9"}),Object(b.jsx)("stop",{offset:"1",stopColor:"#1be6d6"})]}),Object(b.jsx)("clipPath",{id:"clip-path",children:Object(b.jsx)("rect",{width:"64",height:"64",fill:"none"})})]}),Object(b.jsxs)("g",{id:"Group_163","data-name":"Group 163",transform:"translate(-0.426 -0.384)",children:[Object(b.jsx)("g",{id:"Group_103","data-name":"Group 103",transform:"translate(0 0)",children:Object(b.jsx)("rect",{id:"Rectangle_1104","data-name":"Rectangle 1104",width:"158",height:"158",rx:"79",transform:"translate(0.426 0.384)",fill:"url(#linear-gradient)"})}),Object(b.jsxs)("g",{id:"Component_148_2","data-name":"Component 148 \u2013 2",transform:"translate(47.426 58.384)",clipPath:"url(#clip-path)",children:[Object(b.jsx)("rect",{id:"Rectangle_460","data-name":"Rectangle 460",width:"64",height:"64",transform:"translate(0 0)",fill:"none"}),Object(b.jsx)("path",{id:"Checkbox",d:"M25.35,44.087,0,18.737l5.143-5.143L25.35,33.432,58.782,0l5.143,5.143Z",transform:"translate(0 1.728)",fill:"#fff"})]})]})]})},D=function(){return Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(b.jsx)("defs",{children:Object(b.jsx)("clipPath",{id:"clip-path",children:Object(b.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(b.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(b.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})},S=function(){return Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:[Object(b.jsx)("line",{id:"Line_29","data-name":"Line 29",y2:"20",transform:"translate(10)",fill:"none",stroke:"#006dff",strokeWidth:"2"}),Object(b.jsx)("line",{id:"Line_30","data-name":"Line 30",x2:"20",transform:"translate(0 10)",fill:"none",stroke:"#006dff",strokeWidth:"2"})]})},M=function(){return Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",children:Object(b.jsx)("g",{id:"_1","data-name":" 1",transform:"translate(525 -1254) rotate(90)",children:Object(b.jsx)("path",{id:"Path_10","data-name":"Path 10",d:"M9,0,7.364,1.636l6.195,6.195H0v2.338H13.558L7.364,16.364,9,18l9-9Z",transform:"translate(1254 507)",fill:"#ff0080"})})})},Y=function(){return Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",children:Object(b.jsx)("path",{id:"Path_10","data-name":"Path 10",d:"M8,0,6.545,1.455l5.506,5.506H0V9.039H12.052L6.545,14.545,8,16l8-8Z",transform:"translate(16 16) rotate(180)",fill:"#2699fb"})})},P=function(){return Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23.616",height:"13.503",viewBox:"0 0 23.616 13.503",children:Object(b.jsx)("path",{id:"Icon_ionic-ios-arrow-down","data-name":"Icon ionic-ios-arrow-down",d:"M18,20.679l8.93-8.937a1.681,1.681,0,0,1,2.384,0,1.7,1.7,0,0,1,0,2.391L19.2,24.258a1.685,1.685,0,0,1-2.327.049L6.68,14.14a1.688,1.688,0,0,1,2.384-2.391Z",transform:"translate(-6.188 -11.246)",fill:"#53aefc"})})},A=function(e){var t=e.options,c=e.defaultValue,n=e.onChange,s=e.maxHeight,a=e.required,i=(e.disabled,e.dataId,e.validationMessage,e.className,e.placeholder),l=Object(r.useState)((function(){return c>-1&&t[c]?t[c].label:t.find((function(e){return e.value===c}))?t.find((function(e){return e.value===c})).label:"object"===typeof c?c:""})),o=Object(d.a)(l,2),j=o[0],u=o[1],h=Object(r.useState)(!1),O=Object(d.a)(h,2),x=O[0],m=O[1],f=Object(r.useState)(""),p=Object(d.a)(f,2),v=(p[0],p[1]),N=Object(r.useState)({}),y=Object(d.a)(N,2),C=y[0],k=y[1],w=Object(r.useRef)(),D=Object(r.useRef)();return Object(r.useLayoutEffect)((function(){var e=D.current.getBoundingClientRect(),c=e.width,n=e.height,s=e.x,a=e.y;k({position:"absolute",left:s,top:a+n,width:c,height:37*t.length,maxHeight:window.innerHeight-(a+n)-16})}),[x]),Object(b.jsxs)("section",{className:"combobox ".concat(x?"open":""),ref:D,onClick:function(){return m(!x)},children:[i&&!j&&Object(b.jsx)("label",{children:i}),Object(b.jsx)("input",{ref:w,required:a,value:j||"",onFocus:function(e){return e.target.blur()},onChange:function(){}}),Object(b.jsx)("button",{type:"button",children:Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"8.872",viewBox:"0 0 13 8.872",children:[Object(b.jsx)("defs",{children:Object(b.jsx)("clipPath",{id:"clip-path",children:Object(b.jsx)("rect",{width:"8.872",height:"13",fill:"none"})})}),Object(b.jsx)("g",{id:"Component_47_7","data-name":"Component 47 \u2013 7",transform:"translate(0 8.872) rotate(-90)",clipPath:"url(#clip-path)",children:Object(b.jsx)("path",{id:"Path_36","data-name":"Path 36",d:"M6.5,8.872,0,2.036,1.936,0,6.5,4.8,11.064,0,13,2.036Z",transform:"translate(8.872) rotate(90)",fill:"#336cf9"})})]})}),Object(b.jsx)(g,{className:"sectionOptions",open:x,setOpen:m,backdropClass:"selectionOptionBack",onBackdropClick:function(){return m(!1)},style:C,children:Object(b.jsx)("ul",{style:{width:"100%",maxHeight:x?s:0,zIndex:100},className:"options",children:t.map((function(e){return Object(b.jsx)("li",{onClick:function(t){v(e.value),u(e.label),n&&n(e),m(!1),w.current.setCustomValidity("")},className:"option".concat(" ",j===e.label?"selected":""),children:e.label},e.label)}))})})]})},F=function(e){var t=e.defaultValue,c=e.min,n=e.max,s=e.required,a=e.onChange,i=Object(r.useState)(t||0),l=Object(d.a)(i,2),o=l[0],j=l[1];return Object(b.jsxs)("section",{className:"number",children:[Object(b.jsx)("input",{type:"number",step:"0.01",required:s,value:o,onChange:function(e){j((+e.target.value).toString()),null===a||void 0===a||a(e)},placeholder:"0.00",min:c,max:n}),Object(b.jsxs)("div",{className:"ticker",children:[Object(b.jsx)("button",{type:"button",onClick:function(){return j(+o+1)},children:Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"8.872",viewBox:"0 0 13 8.872",children:[Object(b.jsx)("defs",{children:Object(b.jsx)("clipPath",{id:"clip-path",children:Object(b.jsx)("rect",{width:"8.872",height:"13",fill:"none"})})}),Object(b.jsx)("g",{id:"Component_47_8","data-name":"Component 47 \u2013 8",transform:"translate(13) rotate(90)",clipPath:"url(#clip-path)",children:Object(b.jsx)("path",{id:"Path_36","data-name":"Path 36",d:"M6.5,8.872,0,2.036,1.936,0,6.5,4.8,11.064,0,13,2.036Z",transform:"translate(8.872) rotate(90)",fill:"#336cf9"})})]})}),Object(b.jsx)("button",{type:"button",onClick:function(){return j(+o-1)},children:Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"8.872",viewBox:"0 0 13 8.872",children:[Object(b.jsx)("defs",{children:Object(b.jsx)("clipPath",{id:"clip-path",children:Object(b.jsx)("rect",{width:"8.872",height:"13",fill:"none"})})}),Object(b.jsx)("g",{id:"Component_47_7","data-name":"Component 47 \u2013 7",transform:"translate(0 8.872) rotate(-90)",clipPath:"url(#clip-path)",children:Object(b.jsx)("path",{id:"Path_36","data-name":"Path 36",d:"M6.5,8.872,0,2.036,1.936,0,6.5,4.8,11.064,0,13,2.036Z",transform:"translate(8.872) rotate(90)",fill:"#336cf9"})})]})})]})]})},_=function(e){var t=e.required,c=e.onChange,n=e.prefill,s=(e.label,e.multiple),a=e.accept,i=Object(r.useState)(n||[]),l=Object(d.a)(i,2),o=l[0],j=l[1];return Object(r.useEffect)((function(){c(o)}),[o]),Object(b.jsxs)("section",{className:"fileInput",children:[o.map((function(e,t){var c="string"===typeof e?{type:"url",url:e}:{type:e.type,name:e.name,url:URL.createObjectURL(e)},n=c.type.startsWith("image")||c.url.match(/(\.gif|\.png|\.jpg|\.jpeg|\.webp)$/);return Object(b.jsxs)("div",{className:"file ".concat(n?"thumb":"any"),children:[Object(b.jsx)("button",{className:"close",type:"button",onClick:function(){return j((function(e){return e.filter((function(e,c){return c!==t}))}))},children:Object(b.jsx)(D,{})}),Object(b.jsx)(V,{className:n?"thumb":"",src:n?c.url:"/file_icon.png"}),!n&&Object(b.jsx)("p",{className:"filename",children:e.name})]},t)})),(0===o.length||s)&&Object(b.jsxs)("div",{className:"uploadBtn",children:[Object(b.jsx)(S,{}),Object(b.jsx)("input",{type:"file",multiple:s,required:t,accept:a,onChange:function(e){j((function(t){return[].concat(Object(f.a)(t),Object(f.a)(Object(f.a)(e.target.files).filter((function(e){return!o.some((function(t){return t.name===e.name}))}))))}))}})]})]})},q=function(e){var t=e.onChange,c=Object(r.useRef)(),n=Object(r.useState)({startDate:new Date,endDate:new Date}),s=Object(d.a)(n,2),a=s[0],i=s[1],l=Object(r.useState)({}),o=Object(d.a)(l,2),j=o[0],u=o[1],h=Object(r.useState)(!1),O=Object(d.a)(h,2),x=O[0],m=O[1],f=Object(r.useState)(!1),p=Object(d.a)(f,2),v=p[0],N=p[1];return Object(r.useLayoutEffect)((function(){var e=c.current.getBoundingClientRect(),t=e.height,n=e.y,s=e.width,a=e.x;u({position:"fixed",top:t+n+4,right:window.innerWidth-a-s})}),[v]),Object(r.useEffect)((function(){x?null===t||void 0===t||t(a):null===t||void 0===t||t(null)}),[a]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("section",{className:"date ".concat(x?"open":""),ref:c,onClick:function(){return N(!0)},children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30.971",height:"30.971",viewBox:"0 0 30.971 30.971",children:Object(b.jsx)("path",{id:"Path_299","data-name":"Path 299",d:"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z",fill:"#336cf9"})}),x&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"dates",children:[Object(b.jsxs)("p",{children:["From:"," ",Object(b.jsx)(y.a,{format:"DD MMM, YYYY",children:a.startDate})]}),Object(b.jsxs)("p",{children:["To: ",Object(b.jsx)(y.a,{format:"DD MMM, YYYY",children:a.endDate})]})]}),Object(b.jsx)("button",{className:"clearDateFilter",onClick:function(){i({startDate:new Date,endDate:new Date}),m(!1)},children:Object(b.jsx)(D,{})})]})]}),Object(b.jsx)(g,{open:v,onBackdropClick:function(){return N(!1)},backdropClass:"datePicker",className:"datePicker",style:j,children:Object(b.jsx)(C.DateRange,{className:"dateRange",ranges:[a],onChange:function(e){i(e.range1),e.range1.endDate!==e.range1.startDate&&(N(!1),m(!0))}})})]})},V=function(e){var t=e.src,c=e.onClick,n=e.alt,s=e.className,a=Object(r.useState)(t),i=Object(d.a)(a,2),l=i[0],o=i[1];return Object(b.jsx)("img",{src:l,onClick:c,onError:function(){return o("/img_err.png")},alt:n,className:s||""})},T=function(e){var t=e.total,c=e.btns,n=e.perPage,s=e.currentPage,a=(e.setCurrentPage,e.setPage),i=Object(r.useState)([]),l=Object(d.a)(i,2),o=l[0],j=l[1],u=Object(r.useState)([]),h=Object(d.a)(u,2),O=h[0],x=h[1];return Object(r.useEffect)((function(){j(Object(f.a)(Array(Math.ceil(t/n)).keys()).map((function(e){return e+1}))),x(Object(f.a)(Array(c).keys()).map((function(e){return e+1})))}),[t,n]),t<=n?Object(b.jsx)(b.Fragment,{}):Object(b.jsxs)("div",{className:"paginaiton",children:[Object(b.jsx)("button",{disabled:s<=1,onClick:function(){return a((function(e){return e-1}))},children:"<"}),Object(b.jsxs)("ul",{className:"pages",children:[o.length<=c&&o.map((function(e){return Object(b.jsx)("li",{className:e===s?"active":"",children:Object(b.jsx)("button",{onClick:function(){return a(e)},children:e})},e)})),o.length>c&&O.map((function(e){var t=o.length-c,n=Math.ceil(c/2),i=0;s>n&&(i=s-n+c<=o.length?s-n:t);var r=e+i;return Object(b.jsx)("li",{className:r===s?"active":"",children:Object(b.jsx)("button",{onClick:function(){return a(e)},children:r})},r)}))]}),Object(b.jsx)("button",{disabled:s>=o.length,onClick:function(){return a((function(e){return e+1}))},children:">"})]})},R=function(){var e=Object(r.useContext)(u);e.user,e.setUser,Object(O.g)();return Object(b.jsxs)("header",{children:[Object(b.jsx)(x.b,{className:"logoLink",to:"/",children:Object(b.jsx)(V,{className:"logo",src:"/logo_land.jpg",alt:"Delivery pay logo"})}),Object(b.jsx)("div",{className:"clas"})]})},I=function(){return Object(b.jsx)("footer",{children:Object(b.jsxs)("div",{className:"links",children:[Object(b.jsx)("a",{href:"https://deliverypay.in/aboutUs",children:"About us"}),Object(b.jsx)("a",{href:"https://deliverypay.in/privacyPolicy",children:"Privacy Policy"}),Object(b.jsx)("a",{href:"https://deliverypay.in/codeOfConduct",children:"Code of Conduct"}),Object(b.jsx)("a",{href:"https://deliverypay.in/copyrightPolicy",children:"Copyright Policy"}),Object(b.jsx)("a",{href:"https://deliverypay.in/fees&Charges",children:"Fees & Charges"}),Object(b.jsx)("a",{href:"https://deliverypay.in/terms",children:"User Agreement"}),Object(b.jsx)("a",{href:"https://deliverypay.in/howItWorks",children:"How it works"}),Object(b.jsx)("a",{href:"https://deliverypay.in/contactUs",children:"Contact us"}),Object(b.jsx)("a",{href:"https://deliverypay.in/refundCancellationPolicy",children:"Refund & Cancellation Policy"}),Object(b.jsx)("a",{href:"https://deliverypay.in/shippingDeliveryPolicy",children:"Shipping & Delivery Policy"})]})})},H=function(e){var t,c=e.files,n=e.setMsg,s="https://cdn.deliverypay.in",a=new FormData,i=[],r=Object(m.a)(c);try{for(r.s();!(t=r.n()).done;){var l=t.value;"string"===typeof l?i.push(l):a.append("file",l)}}catch(o){r.e(o)}finally{r.f()}return fetch("".concat(s,"/upload"),{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){if("ok"===e.code)return[].concat(i,Object(f.a)(e.files.map((function(e){return s+"/"+e}))));n(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return n(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"File upload failed"})]})]}))})).catch((function(e){console.log(e),n(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return n(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"File upload failed. Make sure you're online."})]})]}))}))},B=function(e){var t=e.links,c=Object(r.useState)(!1),n=Object(d.a)(c,2),s=n[0],a=n[1],i=Object(r.useState)(null),l=Object(d.a)(i,2),o=l[0],j=l[1],u=Object(r.useState)(0),h=Object(d.a)(u,2),O=h[0],x=h[1],m=t.map((function(e,t){var c=null,n=null,s=function(e){a(!0),j(n),x(t)};return e.match(/(\.gif|\.png|\.jpg|\.jpeg|\.webp)$/)?(c=Object(b.jsx)(V,{className:O===t?"active":"",src:e,onClick:s},t),n=Object(b.jsx)(V,{src:e},t)):e.match(/(\.mp3|\.ogg|\.amr|\.m4a|\.flac|\.wav|\.aac)$/)?(c=Object(b.jsx)("div",{className:"audioThumb ".concat(O===t?"active":""),onClick:s,children:Object(b.jsx)(V,{src:"/play_btn.png"})},t),n=Object(b.jsx)("audio",{src:e,controls:"on",autoPlay:"on"},t)):e.match(/(\.mp4|\.mov|\.avi|\.flv|\.wmv|\.webm)$/)?(c=Object(b.jsxs)("div",{className:"videoThumb ".concat(O===t?"active":""),children:[Object(b.jsx)("video",{src:e,onClick:s}),Object(b.jsx)(V,{src:"/play_btn.png"})]},t),n=Object(b.jsx)("video",{src:e,controls:"on",autoPlay:"on"},t)):c=Object(b.jsx)("a",{href:t,children:e},t),c}));return Object(b.jsxs)(b.Fragment,{children:[m,Object(b.jsxs)(g,{className:"mediaModal",open:s,backdropClass:"disputeMediaViewBack",children:[Object(b.jsx)("button",{className:"close",onClick:function(){return a(!1)},children:Object(b.jsx)(D,{})}),Object(b.jsx)("div",{className:"view",children:o}),Object(b.jsx)("div",{className:"thumbs",children:m})]})]})},L=function(e){var t=e.icon,c=e.children,n=e.className,s=e.wrapperClassName,a=e.clickable,i=e.onClick,l=Object(r.useState)(!1),o=Object(d.a)(l,2),j=o[0],u=o[1],h=Object(r.useState)({}),O=Object(d.a)(h,2),x=O[0],m=O[1],f=Object(r.useRef)();return Object(r.useLayoutEffect)((function(){var e,t=null===(e=f.current)||void 0===e?void 0:e.getBoundingClientRect(),c=t.height,n=t.y,s=t.width,a=t.x;m({position:"fixed",top:c+n+4,right:window.innerWidth-a-s})}),[j]),Object(b.jsxs)("div",{className:"actions ".concat(n||""),children:[Object(b.jsx)("button",{type:"button",className:"btn",ref:f,onClick:function(e){e.stopPropagation(),u(!0),null===i||void 0===i||i()},children:t||Object(b.jsx)(V,{src:"/menu_dot.png"})}),Object(b.jsx)(g,{className:"actions",backdropClass:"actionsBackdrop",open:j,style:x,onBackdropClick:function(){return u(!1)},children:Object(b.jsx)("ul",{className:s,onClick:function(e){e.stopPropagation(),!a&&u(!1)},children:c})})]})},E=c(30),W=c.n(E);c(109);var Z=function(){var e=Object(r.useContext)(u),t=e.user,c=e.setUser,n=Object(O.g)(),s=Object(r.useState)(""),a=Object(d.a)(s,2),i=a[0],l=a[1],o=Object(r.useState)(""),j=Object(d.a)(o,2),h=j[0],m=j[1],f=Object(r.useState)(!1),p=Object(d.a)(f,2),g=p[0],v=p[1],N=function(e){e.tokenId&&fetch("/api/adminLoginUsingSocial",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({googleToken:e.tokenId})}).then((function(e){return e.json()})).then((function(e){e.user?(c(t),n.push("/dashboard/home")):401===e.code&&(v("No account is associated with this Google account."),setTimeout((function(){return v(null)}),2e3))}))};return Object(b.jsxs)("div",{className:"formWrapper login",children:[Object(b.jsx)(V,{className:"logo",onClick:function(){return n.push("")},src:"/logo_benner.jpg",alt:"Delivery pay logo"}),Object(b.jsx)("p",{className:"title",children:"Login as Admin"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g||fetch("/api/adminLogin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i,password:h})}).then((function(e){return e.json()})).then((function(e){e.user?(c(e.user),console.log(t),n.push("/dashboard/home")):401===e.code&&v("Invalid credential!")}))},children:[Object(b.jsx)("input",{type:"text",name:"username",required:!0,placeholder:"Email",value:i,onChange:function(e){v(!1),l(e.target.value)}}),Object(b.jsxs)("section",{className:"pass",children:[Object(b.jsx)("input",{type:"password",name:"password",required:!0,placeholder:"Password",value:h,onChange:function(e){v(!1),m(e.target.value)}}),Object(b.jsx)(x.b,{className:"passReset",to:"/resetPassword",children:"Forgot password?"})]}),Object(b.jsx)("button",{disabled:g,type:"submit",children:"Login"})]}),Object(b.jsx)("section",{className:"socials",children:Object(b.jsx)(E.GoogleLogin,{className:"google",clientId:"978249749020-kjq65au1n373ur5oap7n4ebo2fq1jdhq.apps.googleusercontent.com",buttonText:"Continue with Google",onSuccess:N,onFailure:N,cookiePolicy:"single_host_origin"})}),g&&Object(b.jsx)("p",{className:"errMsg",children:g})]})},U=function(){var e=Object(r.useContext)(u),t=e.user,c=e.setUser,n=Object(r.useState)(!1),s=Object(d.a)(n,2),a=s[0],i=s[1],l=Object(O.g)(),o=Object(r.useState)(1),j=Object(d.a)(o,2),h=j[0],m=j[1],p=Object(r.useState)(""),g=Object(d.a)(p,2),v=g[0],N=g[1],y=Object(r.useState)(!1),C=Object(d.a)(y,2),k=(C[0],C[1],Object(r.useState)(["","","","","",""])),w=Object(d.a)(k,2),D=w[0],S=w[1],M=Object(r.useState)(""),Y=Object(d.a)(M,2),P=Y[0],A=Y[1],F=Object(r.useState)(""),_=Object(d.a)(F,2),q=_[0],T=_[1],R=Object(r.useState)(!1),I=Object(d.a)(R,2),H=I[0],B=I[1],L=Object(r.useRef)(null),E=Object(r.useRef)(null),W=Object(r.useRef)(null),Z=Object(r.useRef)(null),U=Object(r.useRef)(null),G=Object(r.useRef)(null),J=function(e){var n=null,s=null;e.preventDefault();var a=new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),r=new RegExp(/((\+*)((0[ -]+)*|(91 )*)(\d{12}|\d{10}))|\d{5}([- ]*)\d{6}/);if(a.test(v.toLowerCase())?s=v.toLowerCase():r.test(v.toLowerCase())&&(n="+91"+v.replace(/^\+?9?1?/,"")),1===h){if(H)return;n||s?(i(!0),fetch("/api/sendAdminForgotPassOTP",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:n,email:s})}).then((function(e){i(!1),200===e.status?m(2):B("User does does not exists.")}))):B("Enter a valid phone number or email.")}else if(2===h)i(!0),fetch("/api/submitAdminForgotPassOTP",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:n,code:D.join("")})}).then((function(e){i(!1),200===e.status?m(3):400===e.status?(S(["","","","","",""]),B("Wrong code!")):429===e.status?(m(1),N(""),S(["","","","","",""]),B("Too many attempts. Start again.")):404===e.status&&(m(1),N(""),S(["","","","","",""]),B("Timeout. Start again"))}));else if(3===h){if(P!==q)return void B("Password did not match");i(!0),fetch("/api/adminResetPass",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:n,code:D.join(""),newPass:P})}).then((function(e){return e.json()})).then((function(e){i(!1),e.user&&(c(t),l.push("/account/home"))})).catch((function(e){console.log(e),i(!1)}))}};return Object(r.useEffect)((function(){D.join("")&&B(null)}),[D]),Object(b.jsxs)("div",{className:"formWrapper resetPass",children:[Object(b.jsx)(V,{className:"logo",src:"/logo_benner.jpg",alt:"Delivery pay logo"}),Object(b.jsx)("p",{className:"title",children:"Password reset"}),Object(b.jsxs)("p",{className:"links",children:["Already have an account?",Object(b.jsx)(x.b,{to:"/login",children:"Login"})]}),1===h&&Object(b.jsxs)("form",{onSubmit:J,children:[Object(b.jsx)("input",{type:"text",name:"phone",required:!0,placeholder:"Phone Number or email",value:v,onChange:function(e){B(null),N(e.target.value)}}),Object(b.jsx)("button",{disabled:H||a,type:"submit",children:"Next"})]}),2===h&&Object(b.jsxs)("form",{onSubmit:J,children:[Object(b.jsx)("label",{children:"A 6 digit code has been sent to your phone. Enter the code below."}),Object(b.jsxs)("section",{className:"code",children:[Object(b.jsx)("input",{ref:L,type:"number",value:D[0],required:!0,onChange:function(e){S((function(t){var c=Object(f.a)(t);return c[0]=e.target.value[0]||"",c})),1===e.target.value.length&&E.current.focus()}}),Object(b.jsx)("input",{ref:E,type:"number",value:D[1],required:!0,onChange:function(e){S((function(t){var c=Object(f.a)(t);return c[1]=e.target.value[0]||"",c})),1===e.target.value.length&&W.current.focus()}}),Object(b.jsx)("input",{ref:W,type:"number",value:D[2],required:!0,onChange:function(e){S((function(t){var c=Object(f.a)(t);return c[2]=e.target.value[0]||"",c})),1===e.target.value.length&&Z.current.focus()}}),Object(b.jsx)("input",{ref:Z,type:"number",value:D[3],required:!0,onChange:function(e){S((function(t){var c=Object(f.a)(t);return c[3]=e.target.value[0]||"",c})),1===e.target.value.length&&U.current.focus()}}),Object(b.jsx)("input",{ref:U,type:"number",value:D[4],required:!0,onChange:function(e){S((function(t){var c=Object(f.a)(t);return c[4]=e.target.value[0]||"",c})),1===e.target.value.length&&G.current.focus()}}),Object(b.jsx)("input",{ref:G,type:"number",value:D[5],required:!0,onChange:function(e){S((function(t){var c=Object(f.a)(t);return c[5]=e.target.value[0]||"",c}))}})]}),Object(b.jsx)("button",{disabled:H||a,type:"submit",children:"Next"})]}),3===h&&Object(b.jsxs)("form",{onSubmit:J,children:[Object(b.jsx)("input",{type:"password",name:"password",required:!0,placeholder:"Password","aria-autocomplete":"list",autoComplete:"new-password",onChange:function(e){B(null),A(e.target.value)}}),Object(b.jsx)("section",{className:"pass",children:Object(b.jsx)("input",{type:"password",name:"confirm_password",id:"confirm_password",required:!0,placeholder:"Confirm Password","aria-autocomplete":"list",autoComplete:"new-password",onChange:function(e){B(null),T(e.target.value)}})}),Object(b.jsx)("button",{disabled:H||a,type:"submit",children:3===h?"Submit":"Next"})]}),H&&Object(b.jsx)("p",{className:"errMsg",children:H})]})};var G=function(){var e=Object(r.useContext)(u).setUser,t=Object(O.g)();return Object(r.useEffect)((function(){fetch("/api/authAdmin").then((function(e){return e.json()})).then((function(c){var n;c.user&&(e(c.user),t.push((null===(n=t.location.state)||void 0===n?void 0:n.from)||"/dashboard/home"))}))}),[]),Object(b.jsxs)("div",{className:"generic",children:[Object(b.jsx)(R,{}),Object(b.jsxs)("div",{className:"userStart",children:[Object(b.jsxs)("div",{className:"banner",children:[Object(b.jsxs)("div",{className:"header",children:[Object(b.jsx)("h3",{children:"This section is only for Admins"}),Object(b.jsx)("p",{children:"Make sure you know what you're doing."})]}),Object(b.jsx)(V,{className:"illustration",src:"/landingPage_illustration.png",alt:"illustration"})]}),Object(b.jsx)("div",{className:"forms",children:Object(b.jsxs)(O.d,{children:[Object(b.jsx)(O.b,{path:"/resetPassword",children:Object(b.jsx)(U,{})}),Object(b.jsx)(O.b,{path:"/",children:Object(b.jsx)(Z,{})})]})})]}),Object(b.jsx)(I,{})]})},J=(c(43),c(44),c(7)),z=c.n(J);c(45);var Q=function(e){e.history,e.location,e.pathname;var t=Object(r.useRef)(),c=Object(r.useState)(null),n=Object(d.a)(c,2),s=n[0],a=n[1],i=Object(r.useState)(0),l=Object(d.a)(i,2),o=l[0],j=l[1],u=Object(r.useState)([]),h=Object(d.a)(u,2),O=h[0],x=h[1],m=Object(r.useState)({column:"createdAt",order:"dsc"}),f=Object(d.a)(m,2),p=f[0],v=f[1],N=Object(r.useState)({startDate:new Date,endDate:new Date}),w=Object(d.a)(N,2),S=w[0],M=w[1],Y=Object(r.useState)(!1),F=Object(d.a)(Y,2),_=F[0],q=F[1],R=Object(r.useState)(1),I=Object(d.a)(R,2),H=I[0],B=I[1],L=Object(r.useState)(""),E=Object(d.a)(L,2),W=E[0],Z=E[1],U=Object(r.useState)(20),G=Object(d.a)(U,2),J=G[0],Q=G[1],$=Object(r.useState)({}),K=Object(d.a)($,2),X=K[0],ee=K[1],te=Object(r.useState)(!1),ce=Object(d.a)(te,2),ne=ce[0],se=ce[1];return Object(r.useLayoutEffect)((function(){var e=t.current.getBoundingClientRect(),c=e.height,n=e.y,s=e.width,a=e.x;ee({position:"fixed",top:c+n+4,right:window.innerWidth-a-s})}),[]),Object(r.useEffect)((function(){var e=z()(S.startDate).format("YYYY-MM-DD"),t=(z()(S.endDate).format("YYYY-MM-DD"),z()(new Date(S.endDate).setDate(S.endDate.getDate()+1)).format("YYYY-MM-DD"));fetch("/api/transactions?page=".concat(H,"&perPage=").concat(J,"&sort=").concat(p.column,"&order=").concat(p.order).concat(W&&"&q="+W).concat(ne?"&dateFrom="+e+"&dateTo="+t:"")).then((function(e){return e.json()})).then((function(e){var t;"ok"===e.code?(x(e.transactions.transactions),j((null===(t=e.transactions.pageInfo[0])||void 0===t?void 0:t.count)||0)):a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get transactions."})]})]}))})).catch((function(e){console.log(e),a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get transactions. Make sure you're online."})]})]}))}))}),[H,J,p.column,p.order,W,ne]),Object(b.jsxs)("div",{className:"table transContainer",children:[Object(b.jsx)("div",{style:{display:"none"},children:Object(b.jsx)(D,{})}),Object(b.jsxs)("div",{className:"filters",children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Total:"}),o]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Per Page:"}),Object(b.jsx)(A,{defaultValue:0,options:[{label:"20",value:20},{label:"30",value:30},{label:"50",value:50}],onChange:function(e){return Q(e.value)}})]}),Object(b.jsxs)("section",{className:"search",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23",children:Object(b.jsx)("path",{id:"Icon_ionic-ios-search","data-name":"Icon ionic-ios-search",d:"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z",transform:"translate(-4.5 -4.493)",fill:"#707070",opacity:"0.74"})}),Object(b.jsx)("input",{value:W,onChange:function(e){return Z(e.target.value)},placeholder:"Search User's name, phone, Transaction ID, note"}),W&&Object(b.jsx)("button",{onClick:function(){return Z("")},children:Object(b.jsx)(D,{})})]}),Object(b.jsxs)("section",{className:"date ".concat(ne?"open":""),ref:t,onClick:function(){return q(!0)},children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30.971",height:"30.971",viewBox:"0 0 30.971 30.971",children:Object(b.jsx)("path",{id:"Path_299","data-name":"Path 299",d:"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z",fill:"#336cf9"})}),ne&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"dates",children:[Object(b.jsxs)("p",{children:["From:"," ",Object(b.jsx)(y.a,{format:"DD MMM, YYYY",children:S.startDate})]}),Object(b.jsxs)("p",{children:["To: ",Object(b.jsx)(y.a,{format:"DD MMM, YYYY",children:S.endDate})]})]}),Object(b.jsx)("button",{className:"clearDateFilter",onClick:function(){M({startDate:new Date,endDate:new Date}),se(!1)},children:Object(b.jsx)(D,{})})]})]})]}),Object(b.jsxs)("table",{cellSpacing:0,cellPadding:0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsxs)("th",{className:"createdAt"===p.column?"sort "+p.order:"",onClick:function(){v((function(e){return{column:"createdAt",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Date ",Object(b.jsx)(P,{})]}),Object(b.jsxs)("th",{className:"user.firstName"===p.column?"sort "+p.order:"",onClick:function(){v((function(e){return{column:"user.firstName",order:"dsc"===e.order?"asc":"dsc"}}))},children:["User ",Object(b.jsx)(P,{})]}),Object(b.jsx)("th",{children:"Transaction ID"}),Object(b.jsxs)("th",{className:"note"===p.column?"sort "+p.order:"",onClick:function(){v((function(e){return{column:"note",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Note ",Object(b.jsx)(P,{})]}),Object(b.jsxs)("th",{className:"amount"===p.column?"sort "+p.order:"",onClick:function(){v((function(e){return{column:"amount",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Amount ",Object(b.jsx)(P,{})]})]})}),Object(b.jsxs)("tbody",{children:[O.map((function(e){var t,c,n,s;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)(y.a,{format:"DD MMM, YYYY. hh:mm a",children:e.createdAt})}),Object(b.jsxs)("td",{className:"user",children:[Object(b.jsx)(V,{src:(null===(t=e.user)||void 0===t?void 0:t.profileImg)||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[e.user?(null===(c=e.user)||void 0===c?void 0:c.firstName)+" "+(null===(n=e.user)||void 0===n?void 0:n.lastName):"Deleted user",Object(b.jsx)("span",{className:"phone",children:null===(s=e.user)||void 0===s?void 0:s.phone})]})]}),Object(b.jsx)("td",{children:e._id}),Object(b.jsx)("td",{children:e.note}),Object(b.jsxs)("td",{children:["\u20b9 ",e.amount.fix()]})]},e._id)})),0===O.length&&Object(b.jsx)("tr",{className:"placeholder",children:Object(b.jsx)("td",{children:"Nothing yet."})})]}),Object(b.jsx)("tfoot",{children:Object(b.jsx)("tr",{children:Object(b.jsx)("td",{children:Object(b.jsx)(T,{total:o,perPage:J,currentPage:H,btns:5,setPage:B})})})})]}),Object(b.jsx)(g,{open:s,className:"msg",children:s}),Object(b.jsx)(g,{open:_,onBackdropClick:function(){return q(!1)},backdropClass:"datePicker",style:X,children:Object(b.jsx)(C.DateRange,{className:"dateRange",ranges:[S],onChange:function(e){M(e.range1),e.range1.endDate!==e.range1.startDate&&(q(!1),se(!0))}})})]})},$=c(77);c(45);var K=function(e){e.onSuccess;var t=Object(r.useState)(null),c=Object(d.a)(t,2),n=c[0],s=c[1],a=Object(r.useState)(null),i=Object(d.a)(a,2),l=i[0],o=i[1],j=Object(r.useState)(null),u=Object(d.a)(j,2),h=u[0],O=u[1],x=Object(r.useRef)();return Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)("p",{children:"Select dates below"}),Object(b.jsx)(q,{onChange:function(e){s(e)}}),Object(b.jsxs)("div",{className:"actions",children:[!h&&Object(b.jsx)("button",{disabled:!n,onClick:function(){var e=z()(null===n||void 0===n?void 0:n.startDate).format("YYYY-MM-DD"),t=z()(null===n||void 0===n?void 0:n.endDate).format("YYYY-MM-DD"),c=z()(new Date(null===n||void 0===n?void 0:n.endDate).setDate((null===n||void 0===n?void 0:n.endDate.getDate())+1)).format("YYYY-MM-DD");v({label:"Download Payout Sheet",question:Object(b.jsxs)(b.Fragment,{children:["You sure want to download all milestones released"," ",(null===n||void 0===n?void 0:n.startDate.toString())!==(null===n||void 0===n?void 0:n.endDate.toString())?Object(b.jsxs)(b.Fragment,{children:["between"," ",Object(b.jsx)(y.a,{format:"DD MMM YYYY",children:n.startDate})," ","to"," ",Object(b.jsx)(y.a,{format:"DD MMM YYYY",children:n.endDate})]}):Object(b.jsxs)(b.Fragment,{children:["on"," ",Object(b.jsx)(y.a,{format:"DD MMM YYYY",children:n.startDate})]}),"?"]}),callback:function(){fetch("/api/downloadPayout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startDate:e,endDate:c})}).then((function(e){return e.json()})).then((function(c){if("ok"===c.code){if(0===c.users.length)return void o(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return o(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"No milestones found in selected dates"})]})]}));var n=Object.keys(c.users[0]).map((function(e){return{label:e,key:e}}));O({headers:n,data:c.users,filename:"Delivery Pay payout sheet, ".concat(e,"-").concat(t,".csv")})}else o(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return o(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get milestones. Try again."})]})]}))})).catch((function(e){console.log(e),o(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return o(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get milestones. Make sure you're online."})]})]}))}))}})},children:"Generate report"}),h&&Object(b.jsx)($.CSVLink,Object(p.a)(Object(p.a)({ref:x},h),{},{onClick:function(){O(null)},children:"Download Report"}))]}),Object(b.jsx)(g,{open:l,className:"msg",children:l})]})},X=function(e){e.history,e.location,e.pathname;var t=Object(r.useState)(null),c=Object(d.a)(t,2),n=c[0],s=c[1],a=Object(r.useState)(0),i=Object(d.a)(a,2),l=i[0],o=i[1],j=Object(r.useState)([]),u=Object(d.a)(j,2),h=u[0],O=u[1],x=Object(r.useState)({column:"createdAt",order:"dsc"}),m=Object(d.a)(x,2),f=m[0],v=m[1],N=Object(r.useState)(null),C=Object(d.a)(N,2),w=C[0],S=C[1],Y=Object(r.useState)(""),F=Object(d.a)(Y,2),_=F[0],R=F[1],I=Object(r.useState)(!1),H=Object(d.a)(I,2),B=(H[0],H[1],Object(r.useState)(1)),L=Object(d.a)(B,2),E=L[0],W=L[1],Z=Object(r.useState)(""),U=Object(d.a)(Z,2),G=U[0],J=U[1],Q=Object(r.useState)(20),$=Object(d.a)(Q,2),X=$[0],ee=$[1],te=Object(r.useState)(!1),ce=Object(d.a)(te,2),ne=ce[0],se=ce[1];return Object(r.useEffect)((function(){var e=z()(null===w||void 0===w?void 0:w.startDate).format("YYYY-MM-DD"),t=(z()(null===w||void 0===w?void 0:w.endDate).format("YYYY-MM-DD"),z()(new Date(null===w||void 0===w?void 0:w.endDate).setDate((null===w||void 0===w?void 0:w.endDate.getDate())+1)).format("YYYY-MM-DD"));fetch("/api/milestones?".concat(new URLSearchParams(Object(p.a)(Object(p.a)(Object(p.a)({page:E,perPage:X,sort:f.column,order:f.order},G&&{q:G}),w&&{dateFrom:e,dateTo:t}),_&&{status:_})).toString())).then((function(e){return e.json()})).then((function(e){var t;"ok"===e.code?(O(e.milestones.milestones),o((null===(t=e.milestones.pageInfo[0])||void 0===t?void 0:t.count)||0)):s(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return s(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get transactions."})]})]}))})).catch((function(e){console.log(e),s(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return s(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get transactions. Make sure you're online."})]})]}))}))}),[E,X,f.column,f.order,G,w,_]),Object(b.jsxs)("div",{className:"table milestoneContainer",children:[Object(b.jsx)("div",{style:{display:"none"},children:Object(b.jsx)(D,{})}),Object(b.jsxs)("div",{className:"filters",children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Total:"}),l]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Per Page:"}),Object(b.jsx)(A,{defaultValue:0,options:[{label:"20",value:20},{label:"30",value:30},{label:"50",value:50}],onChange:function(e){return ee(e.value)}})]}),Object(b.jsxs)("section",{className:"search",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23",children:Object(b.jsx)("path",{id:"Icon_ionic-ios-search","data-name":"Icon ionic-ios-search",d:"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z",transform:"translate(-4.5 -4.493)",fill:"#707070",opacity:"0.74"})}),Object(b.jsx)("input",{value:G,onChange:function(e){return J(e.target.value)},placeholder:"Search Buyer or Seller's name, phone, Milestone ID"}),G&&Object(b.jsx)("button",{onClick:function(){return J("")},children:Object(b.jsx)(D,{})})]}),Object(b.jsxs)("section",{className:"status",children:[Object(b.jsx)("label",{children:"Status:"}),Object(b.jsx)(A,{defaultValue:0,options:[{label:"All",value:""},{label:"In Progress",value:"inProgress"},{label:"Pending",value:"pending"},{label:"Released",value:"released"},{label:"Dispute",value:"dispute"}],onChange:function(e){return R(e.value)}})]}),Object(b.jsx)(q,{onChange:function(e){S(e)}}),Object(b.jsx)("section",{className:"add",children:Object(b.jsxs)("button",{onClick:function(){se(!0)},children:[Object(b.jsx)(M,{})," Download Payout Sheet"]})})]}),Object(b.jsxs)("table",{cellSpacing:0,cellPadding:0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsxs)("th",{className:"createdAt"===f.column?"sort "+f.order:"",onClick:function(){v((function(e){return{column:"createdAt",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Created At ",Object(b.jsx)(P,{})]}),Object(b.jsxs)("th",{className:"seller.firstName"===f.column?"sort "+f.order:"",onClick:function(){v((function(e){return{column:"seller.firstName",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Seller ",Object(b.jsx)(P,{})]}),Object(b.jsxs)("th",{className:"buyer.firstName"===f.column?"sort "+f.order:"",onClick:function(){v((function(e){return{column:"buyer.firstName",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Buyer ",Object(b.jsx)(P,{})]}),Object(b.jsx)("th",{children:"Description"}),Object(b.jsx)("th",{children:"Milestone ID"}),Object(b.jsxs)("th",{className:"status"===f.column?"sort "+f.order:"",onClick:function(){v((function(e){return{column:"status",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Status ",Object(b.jsx)(P,{})]}),Object(b.jsxs)("th",{className:"amount"===f.column?"sort "+f.order:"",onClick:function(){v((function(e){return{column:"amount",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Amount ",Object(b.jsx)(P,{})]})]})}),Object(b.jsxs)("tbody",{children:[h.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)(y.a,{format:"DD-MM-YYYY hh:mm a",children:e.createdAt})}),Object(b.jsxs)("td",{className:"user",children:[Object(b.jsx)(V,{src:e.seller.profileImg||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[e.seller.firstName+" "+e.seller.lastName,Object(b.jsx)("span",{className:"phone",children:e.seller.phone})]})]}),Object(b.jsxs)("td",{className:"user",children:[Object(b.jsx)(V,{src:e.buyer.profileImg||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[e.buyer.firstName+" "+e.buyer.lastName,Object(b.jsx)("span",{className:"phone",children:e.buyer.phone})]})]}),Object(b.jsx)("td",{children:e.dscr}),Object(b.jsx)("td",{children:e._id}),Object(b.jsx)("td",{children:e.status}),Object(b.jsxs)("td",{children:["\u20b9 ",e.amount]})]},e._id)})),0===h.length&&Object(b.jsx)("tr",{className:"placeholder",children:Object(b.jsx)("td",{children:"Nothing yet."})})]}),Object(b.jsx)("tfoot",{children:Object(b.jsx)("tr",{children:Object(b.jsx)("td",{children:Object(b.jsx)(T,{total:l,perPage:X,currentPage:E,btns:5,setPage:W})})})})]}),Object(b.jsx)(g,{open:n,className:"msg",children:n}),Object(b.jsx)(g,{head:!0,label:"Download Payout",open:ne,setOpen:se,className:"payoutSheet",children:Object(b.jsx)(K,{onSuccess:function(){se(!1)}})})]})},ee=c(13),te=c.n(ee),ce=c(19);function ne(e){return se.apply(this,arguments)}function se(){return(se=Object(ce.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/editAdminProfile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c(114);var ae=function(e){e.history,e.match,e.location;var t=Object(r.useContext)(u).config,c=Object(r.useState)(null),n=Object(d.a)(c,2),s=n[0];n[1];return Object(b.jsxs)("div",{className:"settingsContainer",children:[Object(b.jsxs)("div",{className:"settings",children:[Object(b.jsx)("div",{className:"head",children:"Site Settings"}),Object(b.jsx)("ul",{children:Object(b.jsx)(re,{label:"Delivery Pay Fee",fields:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{children:Object(b.jsx)("input",{type:"number",step:"0.10",placeholder:"Delivery Pay fee",defaultValue:t.fee,name:"fee",required:!0})})}),value:(t.fee||0)+"%"})})]}),Object(b.jsx)(g,{className:"msg",open:s,children:s})]})},ie=function(e){var t=e.label,c=e.fields,n=e.value,s=e.onError,a=Object(r.useContext)(u).setUser,i=Object(r.useState)(!1),l=Object(d.a)(i,2),o=l[0],j=l[1],h=Object(r.useState)(!1),O=Object(d.a)(h,2),x=O[0],f=O[1],p=Object(r.useRef)(null);return Object(b.jsxs)("li",{children:[Object(b.jsx)("p",{className:"label",children:t}),Object(b.jsxs)("form",{ref:p,onSubmit:function(e){e.preventDefault();var t,c={},n=Object(m.a)(new FormData(e.target).entries());try{for(n.s();!(t=n.n()).done;){var i=Object(d.a)(t.value,2),r=i[0],l=i[1];c[r]=l}}catch(o){n.e(o)}finally{n.f()}c.password&&c.password!==c.confirm_password?null===s||void 0===s||s():(c["address.city"]&&navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,n=e.coords.longitude;c["address.location"]={type:"Point",coordinates:[n,t]}})),c.phone&&(c.phone="+91"+c.phone.replace(/^\+?9?1?/,"")),j(!0),fetch("/api/editAdminProfile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){var t=e.user;j(!1),t?(a(t),f(!1)):alert("someting went wrong")})).catch((function(e){j(!1),console.log(e),alert("someting went wrong")})))},children:[x?Object(b.jsx)("div",{className:"inputs",children:c}):Object(b.jsx)("p",{className:"currentValue",children:n}),Object(b.jsx)("div",{className:"btns",children:x?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{type:"submit",disabled:o,children:"Save changes"},"submit"),Object(b.jsx)("button",{type:"button",onClick:function(){return f(!1)},children:"Cancel"},"cancel")]}):Object(b.jsx)("button",{type:"button",onClick:function(){return f(!0)},children:"Edit"},"edit")})]})]})},re=function(e){var t=e.label,c=e.fields,n=e.value,s=(e.onError,Object(r.useContext)(u).setConfig),a=Object(r.useState)(!1),i=Object(d.a)(a,2),l=i[0],o=i[1],j=Object(r.useState)(!1),h=Object(d.a)(j,2),O=h[0],x=h[1],f=Object(r.useRef)(null);return Object(b.jsxs)("li",{children:[Object(b.jsx)("p",{className:"label",children:t}),Object(b.jsxs)("form",{ref:f,onSubmit:function(e){e.preventDefault();var t,c={},n=Object(m.a)(new FormData(e.target).entries());try{for(n.s();!(t=n.n()).done;){var a=Object(d.a)(t.value,2),i=a[0],r=a[1];c[i]=r}}catch(l){n.e(l)}finally{n.f()}o(!0),fetch("/api/updateSiteConfig",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){var t=e.config;o(!1),t?(s(t),x(!1)):alert("someting went wrong")})).catch((function(e){o(!1),console.log(e),alert("someting went wrong")}))},children:[O?Object(b.jsx)("div",{className:"inputs",children:c}):Object(b.jsx)("p",{className:"currentValue",children:n}),Object(b.jsx)("div",{className:"btns",children:O?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{type:"submit",disabled:l,children:"Save changes"},"submit"),Object(b.jsx)("button",{type:"button",onClick:function(){return x(!1)},children:"Cancel"},"cancel")]}):Object(b.jsx)("button",{type:"button",onClick:function(){return x(!0)},children:"Edit"},"edit")})]})]})},le=function(e){e.history,e.match,e.location;var t,c,n,s,a=Object(r.useContext)(u),i=a.user,l=a.setUser,o=Object(r.useState)(!1),j=Object(d.a)(o,2),h=j[0],O=j[1],x=Object(r.useState)(null),f=Object(d.a)(x,2),v=f[0],N=f[1],y=function(e){e.googleId&&ne({googleId:e.googleId}).then((function(t){l((function(t){return Object(p.a)(Object(p.a)({},t),{},{googleId:e.googleId})})),N(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return N(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(w,{}),Object(b.jsx)("h4",{children:"Google account successfully connected."})]})]}))})).catch((function(e){console.log(e),N(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return N(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not connect Google account."})]})]}))}))},C=function(e){ne({googleId:null}).then((function(e){e.user?(l((function(e){return Object(p.a)(Object(p.a)({},e),{},{googleId:null})})),N(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return N(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(w,{}),Object(b.jsx)("h4",{children:"Successfully disconnected Google."})]})]}))):N(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return N(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not disconnect Google account. Please try again."})]})]}))})).catch((function(e){console.log(e),N(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return N(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not disconnect Google account."})]})]}))}))};return Object(b.jsxs)("div",{className:"settingsContainer",children:[Object(b.jsxs)("div",{className:"benner",children:[Object(b.jsxs)("div",{className:"profileImg",children:[Object(b.jsx)(V,{src:i.profileImg||"/profile-user.jpg"}),Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"91.832",height:"25.468",viewBox:"0 0 91.832 25.468",children:Object(b.jsxs)("g",{id:"Path_1937","data-name":"Path 1937",transform:"translate(15.429 -9.647)",fill:"#fff",children:[Object(b.jsx)("path",{d:"M 29.79687690734863 34.6146240234375 C 22.21588897705078 34.6146240234375 13.43720626831055 32.0111198425293 5.0779709815979 27.28368377685547 C -2.8753981590271 22.78578186035156 -9.78753662109375 16.7585563659668 -14.48426628112793 10.24203777313232 C -13.95890235900879 10.24473857879639 -13.30369663238525 10.25548648834229 -12.80753517150879 10.26361274719238 C -12.44524097442627 10.26955413818359 -12.15906429290771 10.27424812316895 -12.02891159057617 10.27424812316895 C -11.93940830230713 10.27424812316895 -11.86373233795166 10.26253128051758 -11.79978466033936 10.24241733551025 C -11.48864650726318 10.21196746826172 -10.04010391235352 10.17821311950684 -5.149840831756592 10.17821311950684 C -1.226676225662231 10.17821311950684 4.093100070953369 10.19837760925293 9.725229263305664 10.21973037719727 C 16.20444107055664 10.24428367614746 23.54814720153809 10.27211856842041 29.79687690734863 10.27211856842041 C 31.89767646789551 10.27211856842041 43.68988800048828 10.22107124328613 56.17448806762695 10.16702461242676 L 59.24650192260742 10.15374183654785 C 60.32665252685547 10.14907169342041 61.61424255371094 10.14680099487305 63.18285369873047 10.14680099487305 C 64.99295043945313 10.14680099487305 66.92156219482422 10.14978885650635 68.78666687011719 10.15269470214844 C 70.55825042724609 10.1554479598999 72.23158264160156 10.15804767608643 73.72422027587891 10.15804767608643 C 74.4501953125 10.15804767608643 75.08247375488281 10.1574182510376 75.63590240478516 10.15613842010498 C 74.24596405029297 13.15391826629639 71.95748138427734 16.1362361907959 68.82386779785156 19.03109550476074 C 65.67525482177734 21.9398250579834 61.6738166809082 24.71903610229492 57.25215911865234 27.06828308105469 C 52.91740798950195 29.37135314941406 48.15610122680664 31.27616500854492 43.48295974731445 32.57678985595703 C 38.69290161132813 33.90995407104492 33.96032333374023 34.6146240234375 29.79687690734863 34.6146240234375 Z",stroke:"none"}),Object(b.jsx)("path",{d:"M 63.18235397338867 10.64679336547852 C 61.61428070068359 10.64679336547852 60.32755279541016 10.64906692504883 59.24865341186523 10.65373229980469 L 56.18099212646484 10.6670036315918 C 43.69374084472656 10.72105407714844 31.89901733398438 10.77211761474609 29.79687881469727 10.77211761474609 C 23.54719161987305 10.77211761474609 16.2029914855957 10.74428176879883 9.723331451416016 10.71971893310547 C 4.091693878173828 10.69837951660156 -1.227619171142578 10.67821884155273 -5.149848937988281 10.67821884155273 C -9.844169616699219 10.67821884155273 -11.33226013183594 10.70873641967773 -11.7083740234375 10.73677062988281 C -11.80277252197266 10.76053237915039 -11.90915679931641 10.77424240112305 -12.0289306640625 10.77424240112305 C -12.16323089599609 10.77424240112305 -12.45131683349609 10.7695198059082 -12.81605529785156 10.76354217529297 C -13.01943206787109 10.76021194458008 -13.24966430664063 10.75643920898438 -13.48653411865234 10.75296401977539 C -8.851593017578125 16.903076171875 -2.239547729492188 22.57095718383789 5.324104309082031 26.84845542907715 C 13.60947799682617 31.53411865234375 22.30074310302734 34.11461639404297 29.79687881469727 34.11461639404297 C 33.91565704345703 34.11461639404297 38.60186767578125 33.41628265380859 43.34890747070313 32.0950927734375 C 47.98773193359375 30.80401802062988 52.71426773071289 28.91309356689453 57.0175666809082 26.62672996520996 C 61.40182876586914 24.29735565185547 65.3670654296875 21.5438175201416 68.48458099365234 18.6638298034668 C 71.32099151611328 16.04351997375488 73.45128631591797 13.35661125183105 74.83492279052734 10.65748596191406 C 74.4908447265625 10.65786743164063 74.12125396728516 10.65805435180664 73.72370147705078 10.65805435180664 C 72.23068237304688 10.65805435180664 70.55716705322266 10.65545654296875 68.78539276123047 10.65269470214844 C 66.92047119140625 10.6497917175293 64.9920654296875 10.64679336547852 63.18235397338867 10.64679336547852 M 63.18235778808594 9.646797180175781 C 66.69034576416016 9.646797180175781 70.639892578125 9.658050537109375 73.72370910644531 9.658050537109375 C 74.72272491455078 9.658050537109375 75.63052368164063 9.656867980957031 76.4033203125 9.653743743896484 C 70.7041015625 23.3221435546875 47.19384002685547 35.11461639404297 29.79687881469727 35.11461639404297 C 13.80905532836914 35.11461639404297 -5.7138671875 23.84020614624023 -15.427734375 9.772117614746094 C -15.45098876953125 9.749141693115234 -15.14891815185547 9.741405487060547 -14.71451568603516 9.741401672363281 C -13.8193359375 9.741401672363281 -12.36181640625 9.774246215820313 -12.02893829345703 9.774246215820313 C -11.98212432861328 9.774246215820313 -11.95759582519531 9.773597717285156 -11.9599609375 9.772117614746094 C -12.07225799560547 9.701694488525391 -9.402595520019531 9.678211212158203 -5.14984130859375 9.678211212158203 C 3.356430053710938 9.678211212158203 18.19854354858398 9.772117614746094 29.79687881469727 9.772117614746094 C 32.07231903076172 9.772117614746094 46.01445388793945 9.710941314697266 59.24433135986328 9.653743743896484 C 60.42824935913086 9.648624420166016 61.76977157592773 9.646797180175781 63.18235778808594 9.646797180175781 Z",stroke:"none",fill:"#336cf9"})]})}),Object(b.jsx)("input",{type:"file",accept:".jpg, .png, .jpeg",onChange:function(e){var t=e.target.files[0],c="https://cdn.deliverypay.in";if(t){var n,s=new FormData,a=Object(m.a)(e.target.files);try{for(a.s();!(n=a.n()).done;){var i=n.value;s.append("file",i)}}catch(r){a.e(r)}finally{a.f()}fetch("".concat(c,"/upload"),{method:"POST",body:s}).then((function(e){return e.json()})).then((function(e){"ok"===e.code?ne({profileImg:c+"/"+e.files[0]}).then((function(e){e.user&&l((function(t){return Object(p.a)(Object(p.a)({},t),{},{profileImg:e.user.profileImg})}))})):N(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return N(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Image upload failed"})]})]}))})).catch((function(e){N(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return N(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Image upload failed. Make sure you're online."})]})]}))}))}}}),Object(b.jsx)("label",{children:"Edit"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"name",children:i.name}),Object(b.jsx)("p",{className:"id",children:i.phone})]})]}),Object(b.jsxs)("div",{className:"settings",children:[Object(b.jsx)("div",{className:"head",children:"Account Settings"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)(ie,{label:"Name",fields:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{children:Object(b.jsx)("input",{placeholder:"First name",defaultValue:i.name,name:"name",required:!0})})}),value:i.name}),Object(b.jsx)(ie,{label:"Phone Number",fields:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{children:Object(b.jsx)("input",{placeholder:"Phone Number",defaultValue:i.phone,name:"phone",required:!0,pattern:"((\\+*)((0[ -]+)*|(91 )*)(\\d{12}|\\d{10}))|\\d{5}([- ]*)\\d{6}"})})}),value:i.phone}),Object(b.jsx)(ie,{label:"Email",fields:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{children:Object(b.jsx)("input",{placeholder:"Phone Number",defaultValue:i.email,name:"email",required:!0,pattern:'^(([^<>()[]\\.,;:s@"]+(.[^<>()[]\\.,;:s@"]+)*)|(".+"))@(([[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}])|(([a-zA-Z-0-9]+.)+[a-zA-Z]{2,}))$'})})}),value:i.email}),Object(b.jsx)(ie,{label:"Password",onError:function(){return O(!0)},fields:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("section",{children:Object(b.jsx)("input",{placeholder:"Password",name:"password",required:!0,type:"password",onChange:function(e){return O(!1)}})}),Object(b.jsx)("section",{children:Object(b.jsx)("input",{placeholder:"Confirm password",name:"confirm_password",required:!0,type:"password",onChange:function(e){return O(!1)}})}),h&&Object(b.jsx)("p",{className:"errMsg",children:"Password did not match."})]}),value:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),Object(b.jsx)(ie,{label:"Gender",fields:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{children:Object(b.jsx)("input",{placeholder:"Gender",defaultValue:i.gender,name:"gender",required:!0})})}),value:i.gender}),Object(b.jsx)(ie,{label:"Age",fields:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{children:Object(b.jsx)("input",{type:"number",placeholder:"Age",defaultValue:i.age,name:"age",required:!0})})}),value:i.age}),Object(b.jsx)(ie,{label:"Address",fields:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("section",{children:Object(b.jsx)("input",{type:"text",placeholder:"Address",defaultValue:i.address.street,name:"address.street",required:!0})}),Object(b.jsx)("section",{children:Object(b.jsx)("input",{type:"text",placeholder:"City",defaultValue:i.address.city,name:"address.city",required:!0})}),Object(b.jsx)("section",{children:Object(b.jsx)("input",{type:"text",placeholder:"State",defaultValue:i.address.state,name:"address.state",required:!0})}),Object(b.jsx)("section",{children:Object(b.jsx)("input",{type:"number",placeholder:"PIN Code",defaultValue:i.address.zip,name:"address.zip",required:!0})})]}),value:"".concat((null===(t=i.address)||void 0===t?void 0:t.street)||""," ").concat((null===(c=i.address)||void 0===c?void 0:c.city)||""," ").concat((null===(n=i.address)||void 0===n?void 0:n.state)||""," ").concat((null===(s=i.address)||void 0===s?void 0:s.zip)||"")})]})]}),Object(b.jsxs)("div",{className:"socials",children:[Object(b.jsx)("div",{className:"head",children:"Connect Social Accounts"}),Object(b.jsx)("ul",{className:"providers",children:i.googleId?Object(b.jsx)(W.a,{className:"google",clientId:"978249749020-kjq65au1n373ur5oap7n4ebo2fq1jdhq.apps.googleusercontent.com",buttonText:"Disconnect from Google",onSuccess:C,onFailure:C,cookiePolicy:"single_host_origin"}):Object(b.jsx)(W.a,{className:"google",clientId:"978249749020-kjq65au1n373ur5oap7n4ebo2fq1jdhq.apps.googleusercontent.com",buttonText:"Connect with Google",onSuccess:y,onFailure:y,cookiePolicy:"single_host_origin"})})]}),Object(b.jsx)(g,{className:"msg",open:v,children:v})]})},oe=c(32);var je=function(e){var t=e.edit,c=e.onSuccess,n=Object(r.useState)(null),s=Object(d.a)(n,2),a=s[0],i=s[1],l=Object(r.useState)(!1),o=Object(d.a)(l,2),j=o[0],u=o[1],h=Object(r.useState)((null===t||void 0===t?void 0:t.image)?[t.image]:[]),O=Object(d.a)(h,2),x=O[0],m=O[1],f=Object(r.useState)((null===t||void 0===t?void 0:t.title)||""),v=Object(d.a)(f,2),N=v[0],y=v[1],C=Object(r.useState)((null===t||void 0===t?void 0:t.body)||""),k=Object(d.a)(C,2),w=k[0],D=k[1],S=Object(r.useState)((null===t||void 0===t?void 0:t.url)||""),M=Object(d.a)(S,2),Y=M[0],P=M[1],A=function(){var e=Object(ce.a)(te.a.mark((function e(n){var s,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),u(!0),e.next=4,H({files:x,setMsg:i});case 4:if(e.t2=s=e.sent,e.t1=null===e.t2,e.t1){e.next=8;break}e.t1=void 0===s;case 8:if(!e.t1){e.next=12;break}e.t3=void 0,e.next=13;break;case 12:e.t3=s[0];case 13:if(e.t0=e.t3,e.t0){e.next=16;break}e.t0=null;case 16:a=e.t0,fetch(t?"/api/editNotification":"/api/addNotification",{method:t?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(p.a)(Object(p.a)({},t&&{_id:t._id}),{},{title:N,body:w,image:a,url:Y}))}).then((function(e){return e.json()})).then((function(e){u(!1),"ok"===e.code&&(null===c||void 0===c||c(e.notification))})).catch((function(e){u(!1),console.log(e)}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("form",{onSubmit:A,children:[Object(b.jsxs)("section",{className:"files",children:[Object(b.jsx)("label",{children:"Image"}),Object(b.jsx)(_,{prefill:x,onChange:function(e){return m(e)}})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Title"}),Object(b.jsx)("input",{type:"text",required:!0,value:N,onChange:function(e){return y(e.target.value)}})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Body"}),Object(b.jsx)(oe.a,{type:"text",required:!0,value:w,onChange:function(e){return D(e.target.value)}})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"URL"}),Object(b.jsx)("input",{type:"text",required:!0,value:Y,placeholder:"https://deliverypay.in",onChange:function(e){return P(e.target.value)}})]}),Object(b.jsx)("section",{className:"btns",children:Object(b.jsx)("button",{className:"submit",children:"Add"})})]}),j&&Object(b.jsx)("div",{className:"spinnerContainer",children:Object(b.jsx)("div",{className:"spinner"})}),Object(b.jsx)(g,{open:a,className:"msg",children:a})]})},de=function(e){e.history,e.location,e.pathname;var t=Object(r.useState)(null),c=Object(d.a)(t,2),n=c[0],s=c[1],a=Object(r.useState)(0),i=Object(d.a)(a,2),l=i[0],o=i[1],j=Object(r.useState)([]),u=Object(d.a)(j,2),h=u[0],O=u[1],x=Object(r.useState)({column:"createdAt",order:"dsc"}),m=Object(d.a)(x,2),N=m[0],C=m[1],M=Object(r.useState)(!1),Y=Object(d.a)(M,2),F=(Y[0],Y[1],Object(r.useState)(1)),_=Object(d.a)(F,2),q=_[0],V=_[1],R=Object(r.useState)(""),I=Object(d.a)(R,2),H=I[0],E=I[1],W=Object(r.useState)(20),Z=Object(d.a)(W,2),U=Z[0],G=Z[1],J=Object(r.useState)(null),z=Object(d.a)(J,2),Q=z[0],$=z[1],K=Object(r.useState)(!1),X=Object(d.a)(K,2),ee=X[0],te=X[1];return Object(r.useEffect)((function(){fetch("/api/notifications?".concat(new URLSearchParams(Object(p.a)({page:q,perPage:U,sort:N.column,order:N.order},H&&{q:H})).toString())).then((function(e){return e.json()})).then((function(e){"ok"===e.code?(O(e.notifications),o(e.total||0)):s(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return s(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get notifications."})]})]}))})).catch((function(e){console.log(e),s(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return s(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get notifications. Make sure you're online."})]})]}))}))}),[q,U,N.column,N.order,H]),Object(r.useEffect)((function(){ee||$(null)}),[ee]),Object(b.jsxs)("div",{className:"table notiContainer",children:[Object(b.jsx)("div",{style:{display:"none"},children:Object(b.jsx)(D,{})}),Object(b.jsxs)("div",{className:"filters",children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Total:"}),l]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Per Page:"}),Object(b.jsx)(A,{defaultValue:0,options:[{label:"20",value:20},{label:"30",value:30},{label:"50",value:50}],onChange:function(e){return G(e.value)}})]}),Object(b.jsxs)("section",{className:"search",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23",children:Object(b.jsx)("path",{id:"Icon_ionic-ios-search","data-name":"Icon ionic-ios-search",d:"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z",transform:"translate(-4.5 -4.493)",fill:"#707070",opacity:"0.74"})}),Object(b.jsx)("input",{value:H,onChange:function(e){return E(e.target.value)},placeholder:"Search Title, body"}),H&&Object(b.jsx)("button",{onClick:function(){return E("")},children:Object(b.jsx)(D,{})})]}),Object(b.jsx)("section",{className:"add",children:Object(b.jsxs)("button",{onClick:function(){return te(!0)},children:[Object(b.jsx)(S,{}),"Add Notification"]})})]}),Object(b.jsxs)("table",{cellSpacing:0,cellPadding:0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsxs)("th",{className:"createdAt"===N.column?"sort "+N.order:"",onClick:function(){C((function(e){return{column:"createdAt",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Created at ",Object(b.jsx)(P,{})]}),Object(b.jsx)("th",{children:"Image"}),Object(b.jsx)("th",{children:"title"}),Object(b.jsx)("th",{children:"Body"}),Object(b.jsxs)("th",{className:"pushed"===N.column?"sort "+N.order:"",onClick:function(){C((function(e){return{column:"pushed",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Pushed ",Object(b.jsx)(P,{})]}),Object(b.jsx)("th",{children:"Actions"})]})}),Object(b.jsxs)("tbody",{children:[h.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)(y.a,{format:"DD MMM, YYYY. hh:mm a",children:e.createdAt})}),Object(b.jsx)("td",{className:"thumbs",children:e.image&&Object(b.jsx)(B,{links:[e.image]})}),Object(b.jsx)("td",{children:e.title}),Object(b.jsx)("td",{children:e.body}),Object(b.jsx)("td",{children:e.pushed}),Object(b.jsx)("td",{children:Object(b.jsxs)(L,{children:[Object(b.jsx)("button",{onClick:function(){return v({label:"Push Notification",question:"You sure want to push this notificaion?",callback:function(){fetch("/api/pushNotificaiton",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:e._id})}).then((function(e){return e.json()})).then((function(e){"ok"===e.code?s(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return s(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(w,{}),Object(b.jsx)("h4",{children:"Notification has been pushed."})]})]})):s(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return s(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not Push notification. Try again."})]})]}))})).catch((function(e){console.log(e),s(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return s(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not Push notification. Make sure you're online."})]})]}))}))}})},children:"Push"}),Object(b.jsx)("button",{onClick:function(){$(e),te(!0)},children:"Edit"}),Object(b.jsx)("button",{onClick:function(){return v({label:"Delete Notification",question:"You sure want to delete this notificaion?",callback:function(){fetch("/api/deleteNotification",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:e._id})}).then((function(e){return e.json()})).then((function(t){"ok"===t.code?(O((function(t){return t.filter((function(t){return t._id!==e._id}))})),s(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return s(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(w,{}),Object(b.jsx)("h4",{children:"Notification has been deleted."})]})]}))):s(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return s(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not delete notification. Try again."})]})]}))})).catch((function(e){console.log(e),s(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return s(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not delete notification. Make sure you're online."})]})]}))}))}})},children:"Delete"})]})})]},e._id)})),0===h.length&&Object(b.jsx)("tr",{className:"placeholder",children:Object(b.jsx)("td",{children:"Nothing yet."})})]}),Object(b.jsx)("tfoot",{children:Object(b.jsx)("tr",{children:Object(b.jsx)("td",{children:Object(b.jsx)(T,{total:l,perPage:U,currentPage:q,btns:5,setPage:V})})})})]}),Object(b.jsx)(g,{open:n,className:"msg",children:n}),Object(b.jsx)(g,{head:!0,label:"Push Notification",open:ee,setOpen:te,className:"formModal pushNotificaiton",children:Object(b.jsx)(je,{edit:Q,onSuccess:function(e){te(!1),O((function(t){return[e].concat(Object(f.a)(t.filter((function(t){return t._id!==e._id}))))}))}})})]})};c(45);var be=function(e){e.history,e.location;var t,c,n=e.match,s=Object(r.useRef)(),a=Object(r.useState)(null),i=Object(d.a)(a,2),l=i[0],o=i[1],j=Object(r.useState)(null),u=Object(d.a)(j,2),h=u[0],O=u[1],x=Object(r.useState)(!1),m=Object(d.a)(x,2),f=m[0],p=m[1],v=Object(r.useState)([]),N=Object(d.a)(v,2),C=N[0],w=N[1];return Object(r.useEffect)((function(){fetch("/api/singleDispute?_id=".concat(n.params._id)).then((function(e){return e.json()})).then((function(e){var t;"ok"===e.code&&(o(e.dispute),w((null===(t=e.chat)||void 0===t?void 0:t.messages)||[]))})).catch((function(e){console.log(e),O(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return O(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get Dispute. Make sure you're online."})]})]}))}))}),[]),Object(r.useEffect)((function(){var e;f&&s.current&&(null===(e=s.current)||void 0===e||e.scrollBy(0,s.current.scrollHeight))}),[f]),l?Object(b.jsxs)("div",{className:"singleDispute ".concat(l.status),children:[Object(b.jsxs)("div",{className:"disputeSummery",children:[Object(b.jsxs)("div",{className:"benner",children:["Dispute Summery"," ",Object(b.jsx)("button",{onClick:function(e){return p(!0)},children:"View Chat"})]}),Object(b.jsxs)("ul",{className:"disputeDetail",children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Dispute ID:"}),Object(b.jsx)("div",{className:"data",children:l._id})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Status:"}),Object(b.jsx)("div",{className:"data",children:l.status})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Issue:"}),Object(b.jsx)("div",{className:"data",children:l.issue})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Issued by:"}),Object(b.jsx)("div",{className:"data",children:l.plaintiff.role})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Dispute filed:"}),Object(b.jsx)("div",{className:"data",children:Object(b.jsx)(y.a,{format:"hh:mm a, DD MMM, YYYY",children:l.createdAt})})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Milestone amount:"}),Object(b.jsxs)("div",{className:"data",children:["\u20b9 ",l.milestone.amount]})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Milestone description:"}),Object(b.jsx)("div",{className:"data",children:l.milestone.dscr})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Milestone products:"}),Object(b.jsxs)("div",{className:"data",children:[null===(t=l.milestone.products)||void 0===t?void 0:t.map((function(e,t){return Object(b.jsx)("li",{children:e.name},t)})),(null===(c=l.milestone.products)||void 0===c?void 0:c.length)?null:"No product selected"]})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Milestone created:"}),Object(b.jsx)("div",{className:"data",children:Object(b.jsx)(y.a,{format:"hh:mm a, DD MMM, YYYY",children:l.milestone.createdAt})})]})]})]}),Object(b.jsx)(Oe,{role:"plaintiff",dispute:l,setData:o}),Object(b.jsx)(Oe,{role:"defendant",dispute:l,setData:o}),Object(b.jsx)(g,{open:h,className:"msg",children:h}),Object(b.jsxs)(g,{open:f,className:"disputeChat",ref:s,children:[Object(b.jsx)(ue,{chat:C,user:l.defendant._id,client:l.plaintiff._id}),Object(b.jsxs)("div",{className:"chatHead",children:[Object(b.jsxs)("div",{className:"user",children:[Object(b.jsx)(V,{src:l.plaintiff.profileImg}),Object(b.jsxs)("p",{className:"name",children:[l.plaintiff.firstName+" "+l.plaintiff.lastName,Object(b.jsx)("span",{className:"role",children:"Plaintiff"})]})]}),Object(b.jsx)("button",{onClick:function(){return p(!1)},children:Object(b.jsx)(D,{})}),Object(b.jsxs)("div",{className:"user def",children:[Object(b.jsx)(V,{src:l.defendant.profileImg||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[l.defendant.firstName+" "+l.defendant.lastName,Object(b.jsx)("span",{className:"role",children:"Defendant"})]})]})]})]})]}):Object(b.jsxs)("div",{className:"singleDispute loading",children:[Object(b.jsxs)("div",{className:"disputeSummery",children:[Object(b.jsx)("div",{className:"benner",children:"Dispute Summery"}),Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]})]})]}),Object(b.jsxs)("div",{className:"plaintiff",children:[Object(b.jsx)("div",{className:"benner",children:"Plaintiff"}),Object(b.jsxs)("div",{className:"user",children:[Object(b.jsx)("div",{className:"img"}),Object(b.jsx)("div",{className:"name"})]}),Object(b.jsxs)("ul",{className:"detail",children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]})]})]}),Object(b.jsxs)("div",{className:"defendant",children:[Object(b.jsx)("div",{className:"benner",children:"Defendant"}),Object(b.jsxs)("div",{className:"user",children:[Object(b.jsx)("div",{className:"img"}),Object(b.jsx)("div",{className:"name"})]}),Object(b.jsxs)("ul",{className:"detail",children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]})]})]})]})},ue=function(e){var t=e.chat,c=e.user;e.client;return Object(b.jsx)("ul",{className:"chats",children:t.map((function(e,n){var s,a;if(!e)return null;var i=Math.abs(new Date(e.createdAt).getTime()-new Date(null===(s=t[n+1])||void 0===s?void 0:s.createdAt).getTime())>12e4,r=z()(e.createdAt).format("YYYY-MM-DD")!==z()(null===(a=t[n-1])||void 0===a?void 0:a.createdAt).format("YYYY-MM-DD")||0===n;return Object(b.jsxs)("li",{className:"bubble ".concat(e.from===c?"user":"client"),children:[r&&Object(b.jsx)(y.a,{className:"dateStamp",format:"MMM DD, YYYY",children:e.createdAt}),e.text&&Object(b.jsx)("p",{className:"text",children:e.text}),e.media&&Object(b.jsx)(he,{link:e.media}),(i||n===t.length-1)&&Object(b.jsx)(y.a,{className:"timestamp",format:"hh:mm a",children:e.createdAt})]},n)})).reverse()})},he=function(e){var t=e.link,c=null,n=null,s=Object(r.useState)(!1),a=Object(d.a)(s,2),i=a[0],l=a[1];return t.match(/(\.gif|\.png|\.jpg|\.jpeg|\.webp)$/)?c=Object(b.jsx)(V,{src:t,onClick:function(){return l(!0)}}):t.match(/(\.mp3|\.ogg|\.amr|\.m4a|\.flac|\.wav|\.aac)$/)?c=Object(b.jsx)("audio",{src:t,controls:"on"}):t.match(/(\.mp4|\.mov|\.avi|\.flv|\.wmv|\.webm)$/)?(c=Object(b.jsxs)("div",{className:"videoThumb",children:[Object(b.jsx)("video",{src:t,onClick:function(){return l(!0)}}),Object(b.jsx)(V,{src:"/play_btn.png"})]}),n=Object(b.jsx)("video",{src:t,controls:"on",autoPlay:"on"})):c=Object(b.jsxs)("a",{href:t,target:"_blank",className:"link",children:[Object(b.jsx)(V,{src:"/file_icon.png"}),t]}),Object(b.jsxs)("div",{className:"file",children:[c,Object(b.jsxs)(g,{open:i,className:"chatMediaView",children:[Object(b.jsx)("button",{className:"close",onClick:function(){return l(!1)},children:Object(b.jsx)(D,{})}),n||c]})]})},Oe=function(e){var t,c,n,s,a,i,l,o=e.role,j=e.dispute,u=e.setData,h=Object(r.useState)(null),O=Object(d.a)(h,2),x=O[0],m=O[1];return Object(b.jsxs)("div",{className:"".concat(o," ").concat(j[o].role," ").concat(j.winner===j[o]._id?"winner":""),children:[Object(b.jsxs)("div",{className:"benner",children:[o,"pendingVerdict"===j.status&&(null===(t=j.defendant.case)||void 0===t?void 0:t.dscr)&&Object(b.jsx)("button",{onClick:function(){return v({className:"disputeResolveConfirm",label:"Dispute resolve",question:Object(b.jsxs)(b.Fragment,{children:["Are you sure"," ",Object(b.jsx)("span",{className:"name",children:j[o].firstName+" "+j[o].lastName})," ",Object(b.jsxs)("span",{className:"role",children:["(",o,")"]})," is the winner of this dispute?"]}),callback:function(){return e=j[o]._id,void fetch("/api/resolveDispute",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:j._id,winner:e})}).then((function(e){return e.json()})).then((function(e){"ok"===e.code?(m(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return m(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(w,{}),Object(b.jsx)("h4",{children:"Dispute Successfully resolved."})]})]})),u((function(t){return Object(p.a)(Object(p.a)({},t),{},{winner:e.dispute.winner,status:e.dispute.status})}))):m(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return m(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:e.message})]})]}))})).catch((function(e){console.log(e),m(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return m(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Dispute Could not be resolved. Make sure you' a're online."})]})]}))}));var e}})},children:"Winner"}),j.winner===j[o]._id&&Object(b.jsx)("p",{className:"winnerTag",children:"Winner"})]}),Object(b.jsxs)("div",{className:"content",children:[Object(b.jsxs)("div",{className:"user",children:[Object(b.jsx)(V,{src:j[o].profileImg||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[j[o].firstName+" "+j[o].lastName,Object(b.jsx)("span",{className:"phone",children:j[o].phone})]})]}),(null===(c=j[o].case)||void 0===c?void 0:c.dscr)?Object(b.jsxs)("ul",{className:"detail",children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Role:"})," ",Object(b.jsx)("div",{children:j[o].role})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Current Balance:"})," ",Object(b.jsxs)("div",{children:["\u20b9 ",null===(n=j[o].balance)||void 0===n?void 0:n.fix()]})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Case:"})," ",Object(b.jsx)("div",{children:(null===(s=j[o].case)||void 0===s?void 0:s.dscr)||"N/A"})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Evidence:"})," ",Object(b.jsx)("div",{className:"thumbs",children:(null===(a=j[o].case)||void 0===a||null===(i=a.files)||void 0===i?void 0:i.length)?Object(b.jsx)(B,{links:null===(l=j[o].case)||void 0===l?void 0:l.files}):"N/A"})]})]}):Object(b.jsx)("p",{className:"noRes",children:"Has not responded yet."})]}),Object(b.jsx)(g,{open:x,className:"msg",children:x})]})},xe=function(e){var t=e.history,c=(e.location,e.match,Object(r.useRef)()),n=Object(r.useState)(null),s=Object(d.a)(n,2),a=s[0],i=s[1],l=Object(r.useState)(0),o=Object(d.a)(l,2),j=o[0],u=o[1],h=Object(r.useState)([]),O=Object(d.a)(h,2),x=O[0],m=O[1],f=Object(r.useState)({column:"createdAt",order:"dsc"}),p=Object(d.a)(f,2),v=p[0],N=p[1],w=Object(r.useState)({startDate:new Date,endDate:new Date}),S=Object(d.a)(w,2),M=S[0],Y=S[1],F=Object(r.useState)(!1),_=Object(d.a)(F,2),q=_[0],R=_[1],I=Object(r.useState)(""),H=Object(d.a)(I,2),B=H[0],L=H[1],E=Object(r.useState)(1),W=Object(d.a)(E,2),Z=W[0],U=W[1],G=Object(r.useState)(""),J=Object(d.a)(G,2),Q=J[0],$=J[1],K=Object(r.useState)(20),X=Object(d.a)(K,2),ee=X[0],te=X[1],ce=Object(r.useState)({}),ne=Object(d.a)(ce,2),se=ne[0],ae=ne[1],ie=Object(r.useState)(!1),re=Object(d.a)(ie,2),le=re[0],oe=re[1];return Object(r.useLayoutEffect)((function(){var e=c.current.getBoundingClientRect(),t=e.height,n=e.y,s=e.width,a=e.x;ae({position:"fixed",top:t+n+4,right:window.innerWidth-a-s})}),[]),Object(r.useEffect)((function(){var e=z()(M.startDate).format("YYYY-MM-DD"),t=(z()(M.endDate).format("YYYY-MM-DD"),z()(new Date(M.endDate).setDate(M.endDate.getDate()+1)).format("YYYY-MM-DD"));fetch("/api/disputes?page=".concat(Z,"&perPage=").concat(ee,"&sort=").concat(v.column,"&order=").concat(v.order).concat(Q&&"&q="+Q).concat(le?"&dateFrom="+e+"&dateTo="+t:"").concat(B&&"&status="+B)).then((function(e){return e.json()})).then((function(e){var t;"ok"===e.code?(m(e.disputes.disputes),u((null===(t=e.disputes.pageInfo[0])||void 0===t?void 0:t.count)||0)):i(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return i(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get transactions."})]})]}))})).catch((function(e){console.log(e),i(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return i(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get transactions. Make sure you're online."})]})]}))}))}),[Z,ee,v.column,v.order,Q,le,B]),Object(b.jsxs)("div",{className:"table disputeContainer",children:[Object(b.jsx)("div",{style:{display:"none"},children:Object(b.jsx)(D,{})}),Object(b.jsxs)("div",{className:"filters",children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Total:"}),j]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Per Page:"}),Object(b.jsx)(A,{defaultValue:0,options:[{label:"20",value:20},{label:"30",value:30},{label:"50",value:50}],onChange:function(e){return te(e.value)}})]}),Object(b.jsxs)("section",{className:"search",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23",children:Object(b.jsx)("path",{id:"Icon_ionic-ios-search","data-name":"Icon ionic-ios-search",d:"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z",transform:"translate(-4.5 -4.493)",fill:"#707070",opacity:"0.74"})}),Object(b.jsx)("input",{value:Q,onChange:function(e){return $(e.target.value)},placeholder:"Search User's name, phone, Transaction ID, note"}),Q&&Object(b.jsx)("button",{onClick:function(){return $("")},children:Object(b.jsx)(D,{})})]}),Object(b.jsxs)("section",{className:"status",children:[Object(b.jsx)("label",{children:"Status"}),Object(b.jsx)(A,{defaultValue:0,options:[{label:"All",value:""},{label:"Pending",value:"pending"},{label:"In Progress",value:"pendingVerdict"},{label:"Resolved",value:"resolved"},{label:"Closed",value:"closed"}],onChange:function(e){return L(e.value)}})]}),Object(b.jsxs)("section",{className:"date ".concat(le?"open":""),ref:c,onClick:function(){return R(!0)},children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30.971",height:"30.971",viewBox:"0 0 30.971 30.971",children:Object(b.jsx)("path",{id:"Path_299","data-name":"Path 299",d:"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z",fill:"#336cf9"})}),le&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"dates",children:[Object(b.jsxs)("p",{children:["From:"," ",Object(b.jsx)(y.a,{format:"DD MMM, YYYY",children:M.startDate})]}),Object(b.jsxs)("p",{children:["To: ",Object(b.jsx)(y.a,{format:"DD MMM, YYYY",children:M.endDate})]})]}),Object(b.jsx)("button",{className:"clearDateFilter",onClick:function(){Y({startDate:new Date,endDate:new Date}),oe(!1)},children:Object(b.jsx)(D,{})})]})]})]}),Object(b.jsxs)("table",{cellSpacing:0,cellPadding:0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsxs)("th",{className:"createdAt"===v.column?"sort "+v.order:"",onClick:function(){N((function(e){return{column:"createdAt",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Date ",Object(b.jsx)(P,{})]}),Object(b.jsx)("th",{children:"Issue"}),Object(b.jsxs)("th",{className:"plaintiff.firstName"===v.column?"sort "+v.order:"",onClick:function(){N((function(e){return{column:"plaintiff.firstName",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Plaintiff ",Object(b.jsx)(P,{})]}),Object(b.jsxs)("th",{className:"defendant.firstName"===v.column?"sort "+v.order:"",onClick:function(){N((function(e){return{column:"defendant.firstName",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Defendant ",Object(b.jsx)(P,{})]}),Object(b.jsxs)("th",{className:"status"===v.column?"sort "+v.order:"",onClick:function(){N((function(e){return{column:"status",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Status ",Object(b.jsx)(P,{})]})]})}),Object(b.jsxs)("tbody",{children:[x.map((function(e){return Object(b.jsxs)("tr",{onClick:function(){t.push("/dashboard/disputes/".concat(e._id))},children:[Object(b.jsx)("td",{children:Object(b.jsx)(y.a,{format:"DD MMM, YYYY. hh:mm a",children:e.createdAt})}),Object(b.jsx)("td",{children:e.issue}),Object(b.jsxs)("td",{className:"user",children:[Object(b.jsx)(V,{src:e.plaintiff.profileImg||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[e.plaintiff.firstName+" "+e.plaintiff.lastName,Object(b.jsx)("span",{className:"phone",children:e.plaintiff.phone}),Object(b.jsxs)("span",{className:"pills",children:[Object(b.jsx)("span",{className:"pill role",children:e.plaintiff.role}),e.winner===e.plaintiff._id&&Object(b.jsx)("span",{className:"pill winner",children:"Winner"})]})]})]}),Object(b.jsxs)("td",{className:"user",children:[Object(b.jsx)(V,{src:e.defendant.profileImg||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[e.defendant.firstName+" "+e.defendant.lastName,Object(b.jsx)("span",{className:"phone",children:e.defendant.phone}),Object(b.jsxs)("span",{className:"pills",children:[Object(b.jsx)("span",{className:"pill role",children:e.defendant.role}),e.winner===e.defendant._id&&Object(b.jsx)("span",{className:"pill winner",children:"Winner"})]})]})]}),Object(b.jsx)("td",{children:e.status})]},e._id)})),0===x.length&&Object(b.jsx)("tr",{className:"placeholder",children:Object(b.jsx)("td",{children:"Nothing yet."})})]}),Object(b.jsx)("tfoot",{children:Object(b.jsx)("tr",{children:Object(b.jsx)("td",{children:Object(b.jsx)(T,{total:j,perPage:ee,currentPage:Z,btns:5,setPage:U})})})})]}),Object(b.jsx)(g,{open:a,className:"msg",children:a}),Object(b.jsx)(g,{open:q,onBackdropClick:function(){return R(!1)},backdropClass:"datePicker",style:se,children:Object(b.jsx)(C.DateRange,{className:"dateRange",ranges:[M],onChange:function(e){Y(e.range1),e.range1.endDate!==e.range1.startDate&&(R(!1),oe(!0))}})})]})};c(45);var me=function(e){var t,c,n,s,a,i,l,o,j,u,h,O,x,m,f,N,y,C,w,D,S,M,Y,P,q,V,T,R,I,B=e.edit,L=e.onSuccess,E=Object(r.useState)(null),W=Object(d.a)(E,2),Z=W[0],U=W[1],G=Object(r.useState)(!1),J=Object(d.a)(G,2),z=J[0],Q=J[1],$=Object(r.useState)((null===B||void 0===B?void 0:B.firstName)||""),K=Object(d.a)($,2),X=K[0],ee=K[1],ne=Object(r.useState)((null===B||void 0===B?void 0:B.lastName)||""),se=Object(d.a)(ne,2),ae=se[0],ie=se[1],re=Object(r.useState)((null===B||void 0===B?void 0:B.phone)||"+91"),le=Object(d.a)(re,2),oe=le[0],je=le[1],de=Object(r.useState)((null===B||void 0===B?void 0:B.email)||""),be=Object(d.a)(de,2),ue=be[0],he=be[1],Oe=Object(r.useState)((null===B||void 0===B?void 0:B.age)||""),xe=Object(d.a)(Oe,2),me=xe[0],fe=xe[1],pe=Object(r.useState)((null===B||void 0===B?void 0:B.gender)||""),ge=Object(d.a)(pe,2),ve=ge[0],Ne=ge[1],ye=Object(r.useState)(""),Ce=Object(d.a)(ye,2),ke=Ce[0],we=Ce[1],De=Object(r.useState)((null===B||void 0===B||null===(t=B.address)||void 0===t?void 0:t.street)||""),Se=Object(d.a)(De,2),Me=Se[0],Ye=Se[1],Pe=Object(r.useState)((null===B||void 0===B||null===(c=B.address)||void 0===c?void 0:c.city)||""),Ae=Object(d.a)(Pe,2),Fe=Ae[0],_e=Ae[1],qe=Object(r.useState)((null===B||void 0===B||null===(n=B.address)||void 0===n?void 0:n.state)||""),Ve=Object(d.a)(qe,2),Te=Ve[0],Re=Ve[1],Ie=Object(r.useState)((null===B||void 0===B||null===(s=B.address)||void 0===s?void 0:s.country)||""),He=Object(d.a)(Ie,2),Be=He[0],Le=He[1],Ee=Object(r.useState)((null===B||void 0===B||null===(a=B.address)||void 0===a?void 0:a.zip)||""),We=Object(d.a)(Ee,2),Ze=We[0],Ue=We[1],Ge=Object(r.useState)((null===B||void 0===B||null===(i=B.kyc)||void 0===i?void 0:i.files)||""),Je=Object(d.a)(Ge,2),ze=Je[0],Qe=Je[1],$e=Object(r.useState)((null===B||void 0===B||null===(l=B.kyc)||void 0===l?void 0:l.verified)||!1),Ke=Object(d.a)($e,2),Xe=Ke[0],et=Ke[1],tt=Object(r.useState)((null===B||void 0===B||null===(o=B.gst)||void 0===o?void 0:o.verified)||!1),ct=Object(d.a)(tt,2),nt=ct[0],st=ct[1],at=Object(r.useState)((null===B||void 0===B||null===(j=B.gst)||void 0===j||null===(u=j.detail)||void 0===u?void 0:u.files)||""),it=Object(d.a)(at,2),rt=it[0],lt=it[1],ot=Object(r.useState)((null===B||void 0===B||null===(h=B.gst)||void 0===h||null===(O=h.detail)||void 0===O?void 0:O.reg)||""),jt=Object(d.a)(ot,2),dt=jt[0],bt=jt[1],ut=Object(r.useState)((null===B||void 0===B||null===(x=B.gst)||void 0===x?void 0:x.amount)||""),ht=Object(d.a)(ut,2),Ot=ht[0],xt=ht[1],mt=Object(r.useState)((null===B||void 0===B||null===(m=B.shopInfo)||void 0===m?void 0:m.shippingCost)||0),ft=Object(d.a)(mt,2),pt=ft[0],gt=ft[1],vt=Object(r.useState)((null===B||void 0===B||null===(f=B.shopInfo)||void 0===f?void 0:f.deliveryWithin)||""),Nt=Object(d.a)(vt,2),yt=Nt[0],Ct=Nt[1],kt=Object(r.useState)((null===B||void 0===B||null===(N=B.shopInfo)||void 0===N?void 0:N.refundable)||null),wt=Object(d.a)(kt,2),Dt=wt[0],St=wt[1],Mt=Object(r.useState)((null===B||void 0===B||null===(y=B.shopInfo)||void 0===y?void 0:y.terms)||[]),Yt=Object(d.a)(Mt,2),Pt=Yt[0],At=(Yt[1],Object(r.useState)((null===B||void 0===B||null===(C=B.shopInfo)||void 0===C||null===(w=C.paymentMethod)||void 0===w?void 0:w.name)||"")),Ft=Object(d.a)(At,2),_t=Ft[0],qt=Ft[1],Vt=Object(r.useState)((null===B||void 0===B||null===(D=B.shopInfo)||void 0===D||null===(S=D.paymentMethod)||void 0===S?void 0:S.bank)||""),Tt=Object(d.a)(Vt,2),Rt=Tt[0],It=Tt[1],Ht=Object(r.useState)((null===B||void 0===B||null===(M=B.shopInfo)||void 0===M||null===(Y=M.paymentMethod)||void 0===Y?void 0:Y.city)||""),Bt=Object(d.a)(Ht,2),Lt=Bt[0],Et=Bt[1],Wt=Object(r.useState)((null===B||void 0===B||null===(P=B.shopInfo)||void 0===P||null===(q=P.paymentMethod)||void 0===q?void 0:q.accountType)||""),Zt=Object(d.a)(Wt,2),Ut=Zt[0],Gt=Zt[1],Jt=Object(r.useState)((null===B||void 0===B||null===(V=B.shopInfo)||void 0===V||null===(T=V.paymentMethod)||void 0===T?void 0:T.accountNumber)||""),zt=Object(d.a)(Jt,2),Qt=zt[0],$t=zt[1],Kt=Object(r.useState)((null===B||void 0===B||null===(R=B.shopInfo)||void 0===R||null===(I=R.paymentMethod)||void 0===I?void 0:I.ifsc)||""),Xt=Object(d.a)(Kt,2),ec=Xt[0],tc=Xt[1],cc=function(){var e=Object(ce.a)(te.a.mark((function e(){var t,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Q(!0),!ze.length){e.next=7;break}return e.next=4,H({files:ze,setMsg:U});case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=[];case 8:if(t=e.t0,!rt.length){e.next=15;break}return e.next=12,H({files:rt,setMsg:U});case 12:e.t1=e.sent,e.next=16;break;case 15:e.t1=[];case 16:c=e.t1,fetch(B?"/api/editUser":"/api/addUser",{method:B?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(p.a)(Object(p.a)(Object(p.a)({},B&&{_id:B._id}),{},{firstName:X,lastName:ae,phone:oe,email:ue},ke&&{password:ke}),{},{age:me,gender:ve,"address.street":Me,"address.city":Fe,"address.state":Te,"address.country":Be,"address.zip":Ze,"kyc.verified":Xe,"kyc.files":t,"gst.verified":nt,"gst.detail.files":c,"gst.detail.reg":dt,"gst.amount":Ot,"shopInfo.shippingCost":pt,"shopInfo.deliveryWithin":yt,"shopInfo.refundable":Dt,"shopInfo.terms":Pt,"shopInfo.paymentMethod.name":_t,"shopInfo.paymentMethod.bank":Rt,"shopInfo.paymentMethod.city":Fe,"shopInfo.paymentMethod.accountType":Ut,"shopInfo.paymentMethod.accountNumber":Qt,"shopInfo.paymentMethod.ifsc":ec}))}).then((function(e){return e.json()})).then((function(e){Q(!1),"ok"===e.code?L(e.user):409===e.code&&U(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return U(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Email or Phone already exists."})]})]}))})).catch((function(e){Q(!1),console.log(e),U(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return U(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get users."})]})]}))}));case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),v({label:B?"Edit User":"Add User",question:B?"You sure want to save these changes for this user?":"You sure want to add this user?",callback:cc})},children:[Object(b.jsxs)("section",{className:"break",children:[Object(b.jsx)("h3",{children:"User Information"}),Object(b.jsx)("hr",{})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"First Name"}),Object(b.jsx)("input",{type:"text",name:"firstName",value:X,required:!0,onChange:function(e){return ee(e.target.value)}})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Last Name"}),Object(b.jsx)("input",{type:"text",name:"lastName",value:ae,required:!0,onChange:function(e){return ie(e.target.value)}})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Phone"}),Object(b.jsx)("input",{type:"text",name:"phone",value:oe,required:!0,onChange:function(e){return je(e.target.value)}})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Email"}),Object(b.jsx)("input",{type:"email",name:"email",value:ue,onChange:function(e){return he(e.target.value)}})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Password"}),Object(b.jsx)("input",{type:"password",name:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:ke,autoComplete:"new-password",required:!B,onChange:function(e){return we(e.target.value)}})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Age"}),Object(b.jsx)("input",{type:"number",name:"age",value:me,onChange:function(e){return fe(e.target.value)}})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Gender"}),Object(b.jsx)("input",{type:"text",name:"gender",value:ve,onChange:function(e){return Ne(e.target.value)}})]}),Object(b.jsxs)("section",{className:"break",children:[Object(b.jsx)("h3",{children:"Address"}),Object(b.jsx)("hr",{})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Street"}),Object(b.jsx)("input",{type:"text",name:"street",value:Me,onChange:function(e){return Ye(e.target.value)}})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"City"}),Object(b.jsx)("input",{type:"text",name:"city",value:Fe,onChange:function(e){return _e(e.target.value)}})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"State"}),Object(b.jsx)("input",{type:"text",name:"state",value:Te,onChange:function(e){return Re(e.target.value)}})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Country"}),Object(b.jsx)("input",{type:"text",name:"country",value:Be,onChange:function(e){return Le(e.target.value)}})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Zip"}),Object(b.jsx)("input",{type:"text",name:"zip",value:Ze,onChange:function(e){return Ue(e.target.value)}})]}),Object(b.jsxs)("section",{className:"break",children:[Object(b.jsx)("h3",{children:"KYC"}),Object(b.jsx)("hr",{})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"KYC Files"}),Object(b.jsx)(_,{multiple:!0,prefill:ze,onChange:function(e){return Qe(e)}})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Status"}),Object(b.jsx)(A,{defaultValue:Xe,options:[{label:"Verified",value:!0},{label:"Unverified",value:!1}],onChange:function(e){return et(e.value)}})]}),Object(b.jsxs)("section",{className:"break",children:[Object(b.jsx)("h3",{children:"GST"}),Object(b.jsx)("hr",{})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"GST Files"}),Object(b.jsx)(_,{multiple:!0,prefill:rt,onChange:function(e){return lt(e)}})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"GST Registration no."}),Object(b.jsx)("input",{type:"text",name:"zip",value:dt,onChange:function(e){return bt(e.target.value)}})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Status"}),Object(b.jsx)(A,{defaultValue:nt,options:[{label:"Verified",value:!0},{label:"Unverified",value:!1}],onChange:function(e){return st(e.value)}})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"GST Amount (%)"}),Object(b.jsx)("input",{type:"number",name:"gst",value:Ot,onChange:function(e){return xt(e.target.value)}})]}),Object(b.jsxs)("section",{className:"break",children:[Object(b.jsx)("h3",{children:"Shop info"}),Object(b.jsx)("hr",{})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Shipping Cost \u20b9"}),Object(b.jsx)(F,{required:!0,defaultValue:pt,name:"shippingCost",onChange:function(e){return gt(e.target.value)}})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Delivery Within (days)"}),Object(b.jsx)(F,{required:!0,defaultValue:yt,name:"deliveryWithin",min:1,step:"0",placeholder:"ie. 4 Days",onChange:function(e){return Ct(e.target.value)}})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Refundable"}),Object(b.jsx)(A,{defaultValue:Dt,onChange:function(e){return St(e.value)},options:[{label:"No",value:null},{label:"Upto 24 Hours After Delivery",value:"Upto 24 Hours After Delivery"},{label:"Upto 7 Days After Delivery",value:"Upto 7 Days After Delivery"},{label:"Upto 15 Days After Delivery",value:"Upto 15 Days After Delivery"}]})]}),Object(b.jsxs)("section",{className:"break",children:[Object(b.jsx)("h3",{children:"Shop Payment Method"}),Object(b.jsx)("hr",{})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Full name"}),Object(b.jsx)("input",{type:"text",name:"name",value:_t,onChange:function(e){return qt(e.target.value)},required:!0})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Bank"}),Object(b.jsx)("input",{type:"text",name:"bank",value:Rt,onChange:function(e){return It(e.target.value)},required:!0})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"City"}),Object(b.jsx)("input",{type:"text",name:"city",value:Lt,onChange:function(e){return Et(e.target.value)},required:!0})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Account type ie. Savings / Current"}),Object(b.jsx)("input",{type:"text",name:"type",value:Ut,onChange:function(e){return Gt(e.target.value)},required:!0})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Account Number"}),Object(b.jsx)("input",{type:"text",name:"accountNumber",value:Qt,onChange:function(e){return $t(e.target.value)},required:!0})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"IFSC"}),Object(b.jsx)("input",{type:"text",name:"ifsc",value:ec,onChange:function(e){return tc(e.target.value)},required:!0})]}),Object(b.jsx)("section",{className:"btns",children:Object(b.jsx)("button",{className:"submit",children:"Sumit"})})]}),z&&Object(b.jsx)("div",{className:"spinnerContainer",children:Object(b.jsx)("div",{className:"spinner"})}),Object(b.jsx)(g,{open:Z,className:"msg",children:Z})]})},fe=function(e){var t=e.match,c=Object(r.useState)(null),n=Object(d.a)(c,2),s=n[0],a=n[1],i=Object(r.useState)(null),l=Object(d.a)(i,2),o=(l[0],l[1]);return Object(r.useEffect)((function(){console.log(t.params._id),fetch("/api/users?q=".concat(t.params._id)).then((function(e){return e.json()})).then((function(e){var t=e.users;t&&a(t[0])})).catch((function(e){console.log(e),o(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return o(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get user. Make sure you're online."})]})]}))}))}),[]),s?Object(b.jsxs)("div",{className:"fullUser",children:[Object(b.jsx)("div",{className:"profile",children:Object(b.jsx)(V,{src:s.profileImg})}),Object(b.jsx)(me,{edit:s})]}):Object(b.jsx)(b.Fragment,{children:"Loading"})},pe=function(e){e.history,e.location,e.match;var t=Object(r.useRef)(),c=Object(r.useState)(null),n=Object(d.a)(c,2),s=n[0],a=n[1],i=Object(r.useState)(0),l=Object(d.a)(i,2),o=l[0],j=l[1],u=Object(r.useState)([]),h=Object(d.a)(u,2),O=h[0],m=h[1],p=Object(r.useState)({column:"createdAt",order:"dsc"}),N=Object(d.a)(p,2),M=N[0],Y=N[1],F=Object(r.useState)({startDate:new Date,endDate:new Date}),_=Object(d.a)(F,2),q=_[0],R=_[1],I=Object(r.useState)(!1),H=Object(d.a)(I,2),B=H[0],E=H[1],W=Object(r.useState)(1),Z=Object(d.a)(W,2),U=Z[0],G=Z[1],J=Object(r.useState)(""),Q=Object(d.a)(J,2),$=Q[0],K=Q[1],X=Object(r.useState)(20),ee=Object(d.a)(X,2),te=ee[0],ce=ee[1],ne=Object(r.useState)({}),se=Object(d.a)(ne,2),ae=se[0],ie=se[1],re=Object(r.useState)(!1),le=Object(d.a)(re,2),oe=le[0],je=le[1],de=Object(r.useState)(!1),be=Object(d.a)(de,2),ue=be[0],he=be[1],Oe=Object(r.useState)(null),xe=Object(d.a)(Oe,2),fe=xe[0],pe=xe[1];return Object(r.useLayoutEffect)((function(){var e=t.current.getBoundingClientRect(),c=e.height,n=e.y,s=e.width,a=e.x;ie({position:"fixed",top:c+n+4,right:window.innerWidth-a-s})}),[]),Object(r.useEffect)((function(){var e=z()(q.startDate).format("YYYY-MM-DD"),t=(z()(q.endDate).format("YYYY-MM-DD"),z()(new Date(q.endDate).setDate(q.endDate.getDate()+1)).format("YYYY-MM-DD"));fetch("/api/users?page=".concat(U,"&perPage=").concat(te,"&sort=").concat(M.column,"&order=").concat(M.order).concat($&&"&q="+$).concat(ue?"&dateFrom="+e+"&dateTo="+t:"")).then((function(e){return e.json()})).then((function(e){"ok"===e.code?(m(e.users),j(e.total)):a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get users."})]})]}))})).catch((function(e){console.log(e),a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get users. Make sure you're online."})]})]}))}))}),[U,te,M.column,M.order,$,ue]),Object(r.useEffect)((function(){oe||pe(null)}),[oe]),Object(b.jsxs)("div",{className:"table users",children:[Object(b.jsx)("div",{style:{display:"none"},children:Object(b.jsx)(D,{})}),Object(b.jsxs)("div",{className:"filters",children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Total:"}),o]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Per Page:"}),Object(b.jsx)(A,{defaultValue:0,options:[{label:"20",value:20},{label:"30",value:30},{label:"50",value:50}],onChange:function(e){return ce(e.value)}})]}),Object(b.jsxs)("section",{className:"search",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23",children:Object(b.jsx)("path",{id:"Icon_ionic-ios-search","data-name":"Icon ionic-ios-search",d:"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z",transform:"translate(-4.5 -4.493)",fill:"#707070",opacity:"0.74"})}),Object(b.jsx)("input",{value:$,onChange:function(e){return K(e.target.value)},placeholder:"Search User's name, phone, id"}),$&&Object(b.jsx)("button",{onClick:function(){return K("")},children:Object(b.jsx)(D,{})})]}),Object(b.jsxs)("section",{className:"date ".concat(ue?"open":""),ref:t,onClick:function(){return E(!0)},children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30.971",height:"30.971",viewBox:"0 0 30.971 30.971",children:Object(b.jsx)("path",{id:"Path_299","data-name":"Path 299",d:"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z",fill:"#336cf9"})}),ue&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"dates",children:[Object(b.jsxs)("p",{children:["From:"," ",Object(b.jsx)(y.a,{format:"DD MMM, YYYY",children:q.startDate})]}),Object(b.jsxs)("p",{children:["To: ",Object(b.jsx)(y.a,{format:"DD MMM, YYYY",children:q.endDate})]})]}),Object(b.jsx)("button",{className:"clearDateFilter",onClick:function(){R({startDate:new Date,endDate:new Date}),he(!1)},children:Object(b.jsx)(D,{})})]})]}),Object(b.jsx)("section",{className:"add",children:Object(b.jsxs)("button",{onClick:function(){return je(!0)},children:[Object(b.jsx)(S,{}),"Add User"]})})]}),Object(b.jsxs)("table",{cellSpacing:0,cellPadding:0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsxs)("th",{className:"createdAt"===M.column?"sort "+M.order:"",onClick:function(){Y((function(e){return{column:"createdAt",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Date ",Object(b.jsx)(P,{})]}),Object(b.jsxs)("th",{className:"user.firstName"===M.column?"sort "+M.order:"",onClick:function(){Y((function(e){return{column:"user.firstName",order:"dsc"===e.order?"asc":"dsc"}}))},children:["User ",Object(b.jsx)(P,{})]}),Object(b.jsx)("th",{children:"User ID"}),Object(b.jsxs)("th",{className:"amount"===M.column?"sort "+M.order:"",onClick:function(){Y((function(e){return{column:"amount",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Balance ",Object(b.jsx)(P,{})]}),Object(b.jsx)("th",{children:"Actions"})]})}),Object(b.jsxs)("tbody",{children:[O.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)(y.a,{format:"DD MMM, YYYY. hh:mm a",children:e.createdAt})}),Object(b.jsxs)("td",{className:"user",children:[Object(b.jsx)(V,{src:(null===e||void 0===e?void 0:e.profileImg)||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[e?(null===e||void 0===e?void 0:e.firstName)+" "+(null===e||void 0===e?void 0:e.lastName):"Deleted user",Object(b.jsx)("span",{className:"phone",children:null===e||void 0===e?void 0:e.phone})]})]}),Object(b.jsx)("td",{children:e.userId}),Object(b.jsx)("td",{children:(e.balance||0).fix()}),Object(b.jsx)("td",{className:"action",children:Object(b.jsxs)(L,{children:[Object(b.jsx)("button",{onClick:function(){pe(e),je(!0)},children:"Edit"}),Object(b.jsx)(x.b,{to:"/dashboard/users/".concat(e._id),children:Object(b.jsx)("li",{children:"View"})}),Object(b.jsx)("button",{onClick:function(){return v({label:"Delete User",question:"You sure want to delete this user?",callback:function(){fetch("/api/deleteUser",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:e._id})}).then((function(e){return e.json()})).then((function(e){"ok"===e.code?(m((function(t){return t.filter((function(t){return t._id!==e.user._id}))})),a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(w,{}),Object(b.jsx)("h4",{children:"User successfully deleted."})]})]}))):a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not delete user. Try again."})]})]}))})).catch((function(e){console.log(e),a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not delete user. Make sure you're online."})]})]}))}))}})},children:"Delete"})]})})]},e._id)})),0===O.length&&Object(b.jsx)("tr",{className:"placeholder",children:Object(b.jsx)("td",{children:"Nothing yet."})})]}),Object(b.jsx)("tfoot",{children:Object(b.jsx)("tr",{children:Object(b.jsx)("td",{children:Object(b.jsx)(T,{total:o,perPage:te,currentPage:U,btns:5,setPage:G})})})})]}),Object(b.jsx)(g,{open:s,className:"msg",children:s}),Object(b.jsx)(g,{open:B,onBackdropClick:function(){return E(!1)},backdropClass:"datePicker",style:ae,children:Object(b.jsx)(C.DateRange,{className:"dateRange",ranges:[q],onChange:function(e){R(e.range1),e.range1.endDate!==e.range1.startDate&&(E(!1),he(!0))}})}),Object(b.jsx)(g,{open:oe,head:!0,label:"Add User",setOpen:je,className:"formModal userForm",children:Object(b.jsx)(me,{edit:fe,onSuccess:function(e){m((function(t){return[e].concat(Object(f.a)(t.filter((function(t){return t._id!==e._id}))))})),je(!1),a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(w,{}),Object(b.jsx)("h4",{children:"User successfully added."})]})]}))}})})]})};c(115),c(116);var ge=function(e){e.history,e.location,e.pathname;var t=Object(r.useRef)(),c=Object(r.useState)(!1),n=Object(d.a)(c,2),s=n[0],a=n[1],i=Object(r.useState)(null),l=Object(d.a)(i,2),o=l[0],j=l[1],u=Object(r.useState)(0),h=Object(d.a)(u,2),O=h[0],x=h[1],m=Object(r.useState)([]),p=Object(d.a)(m,2),v=p[0],N=p[1],M=Object(r.useState)({column:"createdAt",order:"dsc"}),Y=Object(d.a)(M,2),F=Y[0],_=Y[1],q=Object(r.useState)({startDate:new Date,endDate:new Date}),V=Object(d.a)(q,2),R=V[0],I=V[1],H=Object(r.useState)(!1),B=Object(d.a)(H,2),L=B[0],E=B[1],W=Object(r.useState)(1),Z=Object(d.a)(W,2),U=Z[0],G=Z[1],J=Object(r.useState)(""),Q=Object(d.a)(J,2),$=Q[0],K=Q[1],X=Object(r.useState)(20),ee=Object(d.a)(X,2),te=ee[0],ce=ee[1],ne=Object(r.useState)({}),se=Object(d.a)(ne,2),ae=se[0],ie=se[1],re=Object(r.useState)(!1),le=Object(d.a)(re,2),oe=le[0],je=le[1];return Object(r.useLayoutEffect)((function(){var e=t.current.getBoundingClientRect(),c=e.height,n=e.y,s=e.width,a=e.x;ie({position:"fixed",top:c+n+4,right:window.innerWidth-a-s})}),[]),Object(r.useEffect)((function(){var e=z()(R.startDate).format("YYYY-MM-DD"),t=(z()(R.endDate).format("YYYY-MM-DD"),z()(new Date(R.endDate).setDate(R.endDate.getDate()+1)).format("YYYY-MM-DD"));fetch("/api/faqs?page=".concat(U,"&perPage=").concat(te,"&sort=").concat(F.column,"&order=").concat(F.order).concat($&&"&q="+$).concat(oe?"&dateFrom="+e+"&dateTo="+t:"")).then((function(e){return e.json()})).then((function(e){var t;"ok"===e.code?(N(e.faqs.faqs),x((null===(t=e.faqs.pageInfo[0])||void 0===t?void 0:t.count)||0)):j(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return j(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get FAQs."})]})]}))})).catch((function(e){console.log(e),j(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return j(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get FAQs. Make sure you're online."})]})]}))}))}),[U,te,F.column,F.order,$,oe]),Object(b.jsxs)("div",{className:"table faqContainer",children:[Object(b.jsx)("div",{style:{display:"none"},children:Object(b.jsx)(D,{})}),Object(b.jsxs)("div",{className:"filters",children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Total:"}),O]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Per Page:"}),Object(b.jsx)(A,{defaultValue:0,options:[{label:"20",value:20},{label:"30",value:30},{label:"50",value:50}],onChange:function(e){return ce(e.value)}})]}),Object(b.jsxs)("section",{className:"search",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23",children:Object(b.jsx)("path",{id:"Icon_ionic-ios-search","data-name":"Icon ionic-ios-search",d:"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z",transform:"translate(-4.5 -4.493)",fill:"#707070",opacity:"0.74"})}),Object(b.jsx)("input",{value:$,onChange:function(e){return K(e.target.value)},placeholder:"Search Question or Answer"}),$&&Object(b.jsx)("button",{onClick:function(){return K("")},children:Object(b.jsx)(D,{})})]}),Object(b.jsxs)("section",{className:"date ".concat(oe?"open":""),ref:t,onClick:function(){return E(!0)},children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30.971",height:"30.971",viewBox:"0 0 30.971 30.971",children:Object(b.jsx)("path",{id:"Path_299","data-name":"Path 299",d:"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z",fill:"#336cf9"})}),oe&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"dates",children:[Object(b.jsxs)("p",{children:["From:"," ",Object(b.jsx)(y.a,{format:"DD MMM, YYYY",children:R.startDate})]}),Object(b.jsxs)("p",{children:["To: ",Object(b.jsx)(y.a,{format:"DD MMM, YYYY",children:R.endDate})]})]}),Object(b.jsx)("button",{className:"clearDateFilter",onClick:function(){I({startDate:new Date,endDate:new Date}),je(!1)},children:Object(b.jsx)(D,{})})]})]}),Object(b.jsx)("section",{className:"add",children:Object(b.jsxs)("button",{onClick:function(){return a(!0)},children:[Object(b.jsx)(S,{}),"Add FAQ"]})})]}),Object(b.jsxs)("table",{cellSpacing:0,cellPadding:0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsxs)("th",{className:"createdAt"===F.column?"sort "+F.order:"",onClick:function(){_((function(e){return{column:"createdAt",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Date ",Object(b.jsx)(P,{})]}),Object(b.jsxs)("th",{className:"author"===F.column?"sort "+F.order:"",onClick:function(){_((function(e){return{column:"author",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Author ",Object(b.jsx)(P,{})]}),Object(b.jsxs)("th",{className:"ques"===F.column?"sort "+F.order:"",onClick:function(){_((function(e){return{column:"ques",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Question ",Object(b.jsx)(P,{})]}),Object(b.jsxs)("th",{className:"ans"===F.column?"sort "+F.order:"",onClick:function(){_((function(e){return{column:"ans",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Answer ",Object(b.jsx)(P,{})]})]})}),Object(b.jsxs)("tbody",{children:[v.map((function(e){return Object(b.jsx)(Ne,{faq:e,setFaqs:N},e._id)})),0===v.length&&Object(b.jsx)("tr",{className:"placeholder",children:Object(b.jsx)("td",{children:"Nothing yet."})})]}),Object(b.jsx)("tfoot",{children:Object(b.jsx)("tr",{children:Object(b.jsx)(T,{total:O,perPage:te,currentPage:U,btns:5,setPage:G})})})]}),Object(b.jsx)(g,{open:o,className:"msg",children:o}),Object(b.jsx)(g,{open:L,onBackdropClick:function(){return E(!1)},backdropClass:"datePicker",style:ae,children:Object(b.jsx)(C.DateRange,{className:"dateRange",ranges:[R],onChange:function(e){I(e.range1),e.range1.endDate!==e.range1.startDate&&(E(!1),je(!0))}})}),Object(b.jsx)(g,{open:s,head:!0,label:"Add FAQ",setOpen:a,className:"formModal faqForm",children:Object(b.jsx)(ve,{onSuccess:function(e){N((function(t){return[e].concat(Object(f.a)(t))})),a(!1),j(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return j(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(w,{}),Object(b.jsx)("h4",{children:"FAQ successfully added."})]})]}))}})})]})},ve=function(e){var t=e.edit,c=e.onSuccess,n=(e.onCancel,Object(r.useState)(!1)),s=Object(d.a)(n,2),a=s[0],i=s[1],l=Object(r.useState)(null),o=Object(d.a)(l,2),j=o[0],u=o[1],h=Object(r.useState)((null===t||void 0===t?void 0:t.ques)||""),O=Object(d.a)(h,2),x=O[0],m=O[1],f=Object(r.useState)((null===t||void 0===t?void 0:t.ans)||""),v=Object(d.a)(f,2),N=v[0],y=v[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(!0),fetch("/api/faq",{method:t?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(p.a)({ques:x,ans:N},t&&{_id:t._id}))}).then((function(e){return e.json()})).then((function(e){i(!1),"ok"===e.code?null===c||void 0===c||c(e.faq):u(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return u(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"FAQ could not be added. Try again."})]})]}))})).catch((function(e){i(!1),console.log(e),u(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return u(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"FAQ could not be added. Make sure you're online."})]})]}))}))},children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{htmlFor:"name",children:"Question"}),Object(b.jsx)(oe.a,{value:x,onChange:function(e){return m(e.target.value)},type:"text",name:"question",required:!0})]}),Object(b.jsxs)("section",{className:"ans",children:[Object(b.jsx)("label",{htmlFor:"name",children:"Answer"}),Object(b.jsx)(oe.a,{value:N,onChange:function(e){return y(e.target.value)},type:"text",name:"answer",required:!0})]}),Object(b.jsx)("button",{className:"submit",children:"Save"}),Object(b.jsx)("section",{className:"pBtm"})]}),a&&Object(b.jsx)("div",{className:"spinnerContainer",children:Object(b.jsx)("div",{className:"spinner"})}),Object(b.jsx)(g,{open:j,className:"msg",children:j})]})},Ne=function(e){var t,c,n,s,a,i,l=e.faq,o=e.setFaqs,j=Object(r.useState)(null),u=Object(d.a)(j,2),h=u[0],O=u[1],x=Object(r.useState)(!1),m=Object(d.a)(x,2),f=m[0],p=m[1],N=Object(r.useState)(!1),C=Object(d.a)(N,2),D=C[0],S=C[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("tr",{onClick:function(){return p(!0)},children:[Object(b.jsx)("td",{children:Object(b.jsx)(y.a,{format:"DD MMM, YYYY. hh:mm a",children:l.createdAt})}),Object(b.jsxs)("td",{className:"user",children:[Object(b.jsx)(V,{src:(null===(t=l.author)||void 0===t?void 0:t.profileImg)||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[null===(c=l.author)||void 0===c?void 0:c.name,Object(b.jsx)("span",{className:"phone",children:null===(n=l.author)||void 0===n?void 0:n.phone})]})]}),Object(b.jsx)("td",{children:l.ques}),Object(b.jsx)("td",{children:l.ans})]}),Object(b.jsx)(g,{open:f,head:!0,label:"FAQ",setOpen:p,className:"faq formModal",children:Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)("h3",{children:l.ques}),Object(b.jsx)("p",{children:l.ans}),Object(b.jsxs)("div",{className:"author",children:[Object(b.jsx)(V,{src:(null===(s=l.author)||void 0===s?void 0:s.profileImg)||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[(null===(a=l.author)||void 0===a?void 0:a.name)||"Deleted user",Object(b.jsx)("span",{className:"phone",children:null===(i=l.author)||void 0===i?void 0:i.phone})]})]}),Object(b.jsxs)("div",{className:"actions",children:[Object(b.jsx)("button",{className:"edit",onClick:function(){S(!0)},children:"Edit"}),Object(b.jsx)("button",{className:"delete",onClick:function(){return v({label:"Delete FAQ",question:"You sure want to delete this FAQ?",callback:function(){return e=l._id,void fetch("/api/deleteFaq",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:e})}).then((function(e){return e.json()})).then((function(t){"ok"===t.code?(p(!1),O(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){o((function(t){return t.filter((function(t){return t._id!==e}))}))},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(w,{}),Object(b.jsx)("h4",{children:"FAQ successfully deleted."})]})]}))):O(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return O(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"FAQ could not be deleted. Try again."})]})]}))})).catch((function(e){O(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return O(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"FAQ could not be deleted. Make sure you're online."})]})]}))}));var e}})},children:"Delete"})]})]})}),Object(b.jsx)(g,{open:h,className:"msg",children:h}),Object(b.jsx)(g,{open:D,head:!0,label:"Add FAQ",setOpen:S,className:"formModal faqForm",children:Object(b.jsx)(ve,{edit:l,onSuccess:function(e){o((function(t){return t.map((function(t){return t._id===e._id?e:t}))})),S(!1),O(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return O(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(w,{}),Object(b.jsx)("h4",{children:"FAQ successfully updated."})]})]}))}})})]})},ye=function(e){var t=e.history,c=(e.location,e.pathname,Object(r.useRef)()),n=Object(r.useState)(!1),s=Object(d.a)(n,2),a=(s[0],s[1],Object(r.useState)(null)),i=Object(d.a)(a,2),l=i[0],o=i[1],j=Object(r.useState)(0),u=Object(d.a)(j,2),h=u[0],O=u[1],x=Object(r.useState)([]),m=Object(d.a)(x,2),f=m[0],p=m[1],v=Object(r.useState)({column:"createdAt",order:"dsc"}),N=Object(d.a)(v,2),w=N[0],S=N[1],M=Object(r.useState)({startDate:new Date,endDate:new Date}),Y=Object(d.a)(M,2),F=Y[0],_=Y[1],q=Object(r.useState)(!1),R=Object(d.a)(q,2),I=R[0],H=R[1],B=Object(r.useState)(1),L=Object(d.a)(B,2),E=L[0],W=L[1],Z=Object(r.useState)(""),U=Object(d.a)(Z,2),G=U[0],J=U[1],Q=Object(r.useState)(20),$=Object(d.a)(Q,2),K=$[0],X=$[1],ee=Object(r.useState)({}),te=Object(d.a)(ee,2),ce=te[0],ne=te[1],se=Object(r.useState)(!1),ae=Object(d.a)(se,2),ie=ae[0],re=ae[1];return Object(r.useLayoutEffect)((function(){var e=c.current.getBoundingClientRect(),t=e.height,n=e.y,s=e.width,a=e.x;ne({position:"fixed",top:t+n+4,right:window.innerWidth-a-s})}),[]),Object(r.useEffect)((function(){var e=z()(F.startDate).format("YYYY-MM-DD"),t=(z()(F.endDate).format("YYYY-MM-DD"),z()(new Date(F.endDate).setDate(F.endDate.getDate()+1)).format("YYYY-MM-DD"));fetch("/api/tickets?page=".concat(E,"&perPage=").concat(K,"&sort=").concat(w.column,"&order=").concat(w.order).concat(G&&"&q="+G).concat(ie?"&dateFrom="+e+"&dateTo="+t:"")).then((function(e){return e.json()})).then((function(e){var t;"ok"===e.code?(p(e.tickets.tickets),O((null===(t=e.tickets.pageInfo[0])||void 0===t?void 0:t.count)||0)):o(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return o(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get Tickets."})]})]}))})).catch((function(e){console.log(e),o(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return o(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get Tickets. Make sure you're online."})]})]}))}))}),[E,K,w.column,w.order,G,ie]),Object(b.jsxs)("div",{className:"table ticketContainer",children:[Object(b.jsx)("div",{style:{display:"none"},children:Object(b.jsx)(D,{})}),Object(b.jsxs)("div",{className:"filters",children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Total:"}),h]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Per Page:"}),Object(b.jsx)(A,{defaultValue:0,options:[{label:"20",value:20},{label:"30",value:30},{label:"50",value:50}],onChange:function(e){return X(e.value)}})]}),Object(b.jsxs)("section",{className:"search",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23",children:Object(b.jsx)("path",{id:"Icon_ionic-ios-search","data-name":"Icon ionic-ios-search",d:"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z",transform:"translate(-4.5 -4.493)",fill:"#707070",opacity:"0.74"})}),Object(b.jsx)("input",{value:G,onChange:function(e){return J(e.target.value)},placeholder:"Search Issue"}),G&&Object(b.jsx)("button",{onClick:function(){return J("")},children:Object(b.jsx)(D,{})})]}),Object(b.jsxs)("section",{className:"date ".concat(ie?"open":""),ref:c,onClick:function(){return H(!0)},children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30.971",height:"30.971",viewBox:"0 0 30.971 30.971",children:Object(b.jsx)("path",{id:"Path_299","data-name":"Path 299",d:"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z",fill:"#336cf9"})}),ie&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"dates",children:[Object(b.jsxs)("p",{children:["From:"," ",Object(b.jsx)(y.a,{format:"DD MMM, YYYY",children:F.startDate})]}),Object(b.jsxs)("p",{children:["To: ",Object(b.jsx)(y.a,{format:"DD MMM, YYYY",children:F.endDate})]})]}),Object(b.jsx)("button",{className:"clearDateFilter",onClick:function(){_({startDate:new Date,endDate:new Date}),re(!1)},children:Object(b.jsx)(D,{})})]})]})]}),Object(b.jsxs)("table",{cellSpacing:0,cellPadding:0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsxs)("th",{className:"createdAt"===w.column?"sort "+w.order:"",onClick:function(){S((function(e){return{column:"createdAt",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Date ",Object(b.jsx)(P,{})]}),Object(b.jsxs)("th",{className:"user.firstName"===w.column?"sort "+w.order:"",onClick:function(){S((function(e){return{column:"user.firstName",order:"dsc"===e.order?"asc":"dsc"}}))},children:["User ",Object(b.jsx)(P,{})]}),Object(b.jsxs)("th",{className:"issue"===w.column?"sort "+w.order:"",onClick:function(){S((function(e){return{column:"issue",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Issue ",Object(b.jsx)(P,{})]}),Object(b.jsxs)("th",{className:"status"===w.column?"sort "+w.order:"",onClick:function(){S((function(e){return{column:"status",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Status ",Object(b.jsx)(P,{})]})]})}),Object(b.jsxs)("tbody",{children:[f.map((function(e){var c,n;return Object(b.jsxs)("tr",{onClick:function(){return t.push("/dashboard/support/ticket/".concat(e._id))},children:[Object(b.jsx)("td",{children:Object(b.jsx)(y.a,{format:"hh:mm a, DD MMM, YYYY",children:e.createdAt})}),Object(b.jsxs)("td",{className:"user",children:[Object(b.jsx)(V,{src:(null===(c=e.user)||void 0===c?void 0:c.profileImg)||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[e.user?e.user.firstName+" "+e.user.lastName:"Deleted user",Object(b.jsx)("span",{className:"phone",children:null===(n=e.user)||void 0===n?void 0:n.phone})]})]}),Object(b.jsx)("td",{children:e.issue}),Object(b.jsx)("td",{children:e.status})]},e._id)})),0===f.length&&Object(b.jsx)("tr",{className:"placeholder",children:Object(b.jsx)("td",{children:"Nothing yet."})})]}),Object(b.jsx)("tfoot",{children:Object(b.jsx)("tr",{children:Object(b.jsx)(T,{total:h,perPage:K,currentPage:E,btns:5,setPage:W})})})]}),Object(b.jsx)(g,{open:l,className:"msg",children:l}),Object(b.jsx)(g,{open:I,onBackdropClick:function(){return H(!1)},backdropClass:"datePicker",style:ce,children:Object(b.jsx)(C.DateRange,{className:"dateRange",ranges:[F],onChange:function(e){_(e.range1),e.range1.endDate!==e.range1.startDate&&(H(!1),re(!0))}})})]})},Ce=function(e){var t=e.history,c=e.match,n=Object(r.useState)(null),s=Object(d.a)(n,2),a=s[0],i=s[1],l=Object(r.useState)(null),o=Object(d.a)(l,2),j=o[0],u=o[1],h=Object(r.useState)(!1),O=Object(d.a)(h,2),m=O[0],f=O[1];return Object(r.useEffect)((function(){fetch("/api/singleTicket?_id=".concat(c.params._id)).then((function(e){return e.json()})).then((function(e){"ok"===e.code?(console.log(e.ticket),i(e.ticket)):u(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return t.push("/dashboard/support/tickets")},children:"Go Back"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Ticket could not be found."})]})]}))})).catch((function(e){console.log(e),u(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return t.push("/account/support/ticket")},children:"Go Back"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Ticket could not be found."})]})]}))}))}),[]),a?Object(b.jsxs)("div",{className:"ticket",children:[Object(b.jsxs)("div",{className:"detail",children:[Object(b.jsxs)(x.b,{to:"/dashboard/support/tickets",className:"back",children:[Object(b.jsx)(Y,{}),"Go Back"]}),Object(b.jsxs)("ul",{className:"summery",children:[Object(b.jsx)("li",{className:"head",children:"Ticket Summery"}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Issue:"}),Object(b.jsx)("p",{children:a.issue})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Status:"}),Object(b.jsx)("p",{children:a.status})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Created at:"}),Object(b.jsx)("p",{children:Object(b.jsx)(y.a,{format:"hh:mm a, DD MMM, YYYY",children:a.createdAt})})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Last Activity:"}),Object(b.jsx)("p",{children:Object(b.jsx)(y.a,{format:"hh:mm a, DD MMM, YYYY",children:a.updatedAt})})]})]}),Object(b.jsxs)("ul",{className:"milestoneDetail",children:[Object(b.jsx)("li",{className:"head",children:"Milestone Detail"}),a.milestone?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Amount:"}),Object(b.jsx)("p",{children:a.milestone.amount})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Status:"}),Object(b.jsx)("p",{children:a.milestone.status})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Created at:"}),Object(b.jsx)("p",{children:Object(b.jsx)(y.a,{format:"hh:mm a, DD MMM, YYYY",children:a.milestone.createdAt})})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Verification Method:"}),Object(b.jsx)("p",{children:a.milestone.verification})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Seller:"}),Object(b.jsx)("p",{children:a.milestone.seller.firstName+" "+a.milestone.seller.lastName})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Buyer:"}),Object(b.jsx)("p",{children:a.milestone.buyer.firstName+" "+a.milestone.buyer.lastName})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Description:"}),Object(b.jsx)("p",{children:a.milestone.dscr})]})]}):Object(b.jsx)("li",{className:"placeholder",children:"No Detail provided"})]}),Object(b.jsxs)("ul",{className:"transactionDetail",children:[Object(b.jsx)("li",{className:"head",children:"Transaction Detail"}),a.transaction?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Type:"}),Object(b.jsx)("p",{children:a.transaction.__t})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Amount:"}),Object(b.jsx)("p",{children:a.transaction.amount})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Note:"}),Object(b.jsx)("p",{children:a.transaction.note})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Created at:"}),Object(b.jsx)("p",{children:Object(b.jsx)(y.a,{format:"hh:mm a, DD MMM, YYYY",children:a.transaction.createdAt})})]})]}):Object(b.jsx)("li",{className:"placeholder",children:"No Detail provided"})]}),Object(b.jsx)("div",{className:"pBtm"})]}),Object(b.jsxs)("div",{className:"messages",children:[Object(b.jsxs)("div",{className:"head",children:["Messages ",Object(b.jsx)("button",{onClick:function(){return f(!0)},children:"Reply"})]}),Object(b.jsx)("ul",{children:a.messages.map((function(e,t){return Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{className:"user",children:Object(b.jsxs)("p",{className:"name",children:[e.user.name,Object(b.jsx)("span",{children:"\u2022"}),Object(b.jsx)("span",{className:"role",children:e.user.role}),Object(b.jsx)("span",{className:"date",children:Object(b.jsx)(y.a,{format:"hh:mm a, DD MMM, YYYY",children:e.createdAt})})]})}),Object(b.jsx)("p",{className:"message",children:e.message.body}),e.message.files.length>0&&Object(b.jsx)("div",{className:"thumbs",children:Object(b.jsx)(B,{links:e.message.files})})]},t)}))})]}),Object(b.jsx)(g,{open:m,head:!0,lable:"Add reply to Ticket",setOpen:f,className:"formModal ticketReplyFormModal",children:Object(b.jsx)(ke,{_id:a._id,onSuccess:function(e){f(!1),i((function(t){return Object(p.a)(Object(p.a)({},t),{},{messages:e.messages})})),u(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return u(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(w,{}),Object(b.jsx)("h4",{children:"Reply has been submitted."})]})]}))}})}),Object(b.jsx)(g,{open:j,className:"msg",children:j})]}):Object(b.jsxs)("div",{className:"ticket loading",children:[Object(b.jsxs)("div",{className:"detail",children:[Object(b.jsxs)(x.b,{to:"/account/support/ticket",className:"back",children:[Object(b.jsx)(Y,{}),"Go Back"]}),Object(b.jsxs)("ul",{className:"summery",children:[Object(b.jsx)("li",{className:"head",children:"Ticket Summery"}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{}),Object(b.jsx)("p",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{}),Object(b.jsx)("p",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{}),Object(b.jsx)("p",{})]})]}),Object(b.jsxs)("ul",{className:"milestoneDetail",children:[Object(b.jsx)("li",{className:"head",children:"Milestone Detail"}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{}),Object(b.jsx)("p",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{}),Object(b.jsx)("p",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{}),Object(b.jsx)("p",{})]})]}),Object(b.jsxs)("ul",{className:"transactionDetail",children:[Object(b.jsx)("li",{className:"head",children:"Transaction Detail"}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{}),Object(b.jsx)("p",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{}),Object(b.jsx)("p",{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{}),Object(b.jsx)("p",{})]})]})]}),Object(b.jsxs)("div",{className:"messages",children:[Object(b.jsx)("div",{className:"head",children:"Messages"}),Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:[Object(b.jsxs)("div",{className:"user",children:[Object(b.jsx)("div",{className:"img"}),Object(b.jsx)("p",{className:"name"})]}),Object(b.jsx)("p",{className:"message",children:Object(b.jsx)("span",{})}),Object(b.jsxs)("div",{className:"thumbs",children:[Object(b.jsx)("div",{className:"img"}),Object(b.jsx)("div",{className:"img"})]})]}),Object(b.jsxs)("li",{children:[Object(b.jsxs)("div",{className:"user",children:[Object(b.jsx)("div",{className:"img"}),Object(b.jsx)("p",{className:"name"})]}),Object(b.jsx)("p",{className:"message",children:Object(b.jsx)("span",{})}),Object(b.jsxs)("div",{className:"thumbs",children:[Object(b.jsx)("div",{className:"img"}),Object(b.jsx)("div",{className:"img"}),Object(b.jsx)("div",{className:"img"})]})]})]})]}),Object(b.jsx)(g,{open:j,className:"msg",children:j})]})},ke=function(e){var t=e._id,c=e.onSuccess,n=Object(r.useState)(!1),s=Object(d.a)(n,2),a=s[0],i=s[1],l=Object(r.useState)(!1),o=Object(d.a)(l,2),j=o[0],u=o[1],h=Object(r.useState)(""),O=Object(d.a)(h,2),x=O[0],m=O[1],f=Object(r.useState)(""),p=Object(d.a)(f,2),v=p[0],N=p[1],y=function(){var e=Object(ce.a)(te.a.mark((function e(n){var s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),i(!0),!x.length){e.next=8;break}return e.next=5,H({files:x,setMsg:u});case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=[];case 9:s=e.t0,fetch("/api/addTicketReply",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:t,message:{body:v,files:s}})}).then((function(e){return e.json()})).then((function(e){i(!1),"ok"===e.code?null===c||void 0===c||c(e.ticket):u(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return u(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Reply could not be submitted."})]})]}))})).catch((function(e){i(!1),console.log(e),u(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return u(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Reply could not be submitted. Make sure you're online."})]})]}))}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("form",{className:"ticketReplyForm",onSubmit:y,children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Message"}),Object(b.jsx)(oe.a,{required:!0,value:v,onChange:function(e){return N(e.target.value)}})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Upload relevant files (optional)"}),Object(b.jsx)(_,{accept:"audio/*,video/*,image/*",multiple:!0,onChange:function(e){return m(e)}})]}),Object(b.jsx)("button",{className:"submit",type:"submit",children:"Submit"}),Object(b.jsx)("div",{className:"pBtm"})]}),a&&Object(b.jsx)("div",{className:"spinnerContainer",children:Object(b.jsx)("div",{className:"spinner"})}),Object(b.jsx)(g,{open:j,className:"msg",children:j})]})},we=function(e){e.history,e.location,e.pathname;var t=Object(r.useRef)(),c=Object(r.useState)(null),n=Object(d.a)(c,2),s=n[0],a=n[1],i=Object(r.useState)(0),l=Object(d.a)(i,2),o=l[0],j=l[1],u=Object(r.useState)([]),h=Object(d.a)(u,2),O=h[0],x=h[1],m=Object(r.useState)({column:"createdAt",order:"dsc"}),f=Object(d.a)(m,2),p=f[0],N=f[1],w=Object(r.useState)({startDate:new Date,endDate:new Date}),S=Object(d.a)(w,2),M=S[0],Y=S[1],F=Object(r.useState)(!1),_=Object(d.a)(F,2),q=_[0],R=_[1],I=Object(r.useState)(1),H=Object(d.a)(I,2),B=H[0],L=H[1],E=Object(r.useState)(null),W=Object(d.a)(E,2),Z=W[0],U=W[1],G=Object(r.useState)(""),J=Object(d.a)(G,2),Q=J[0],$=J[1],K=Object(r.useState)(20),X=Object(d.a)(K,2),ee=X[0],te=X[1],ce=Object(r.useState)({}),ne=Object(d.a)(ce,2),se=ne[0],ae=ne[1],ie=Object(r.useState)(!1),re=Object(d.a)(ie,2),le=re[0],oe=re[1];return Object(r.useLayoutEffect)((function(){var e=t.current.getBoundingClientRect(),c=e.height,n=e.y,s=e.width,a=e.x;ae({position:"fixed",top:c+n+4,right:window.innerWidth-a-s})}),[]),Object(r.useEffect)((function(){var e=z()(M.startDate).format("YYYY-MM-DD"),t=(z()(M.endDate).format("YYYY-MM-DD"),z()(new Date(M.endDate).setDate(M.endDate.getDate()+1)).format("YYYY-MM-DD"));fetch("/api/contactRequest?page=".concat(B,"&perPage=").concat(ee,"&sort=").concat(p.column,"&order=").concat(p.order).concat(Q&&"&q="+Q).concat(le?"&dateFrom="+e+"&dateTo="+t:"")).then((function(e){return e.json()})).then((function(e){var t;"ok"===e.code?(x(e.contactRequests.contactRequests),j((null===(t=e.contactRequests.pageInfo[0])||void 0===t?void 0:t.count)||0)):a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get Contact Requests."})]})]}))})).catch((function(e){console.log(e),a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get Contact Requests. Make sure you're online."})]})]}))}))}),[B,ee,p.column,p.order,Q,le]),Object(b.jsxs)("div",{className:"table contactContainer",children:[Object(b.jsx)("div",{style:{display:"none"},children:Object(b.jsx)(D,{})}),Object(b.jsxs)("div",{className:"filters",children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Total:"}),o]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Per Page:"}),Object(b.jsx)(A,{defaultValue:0,options:[{label:"20",value:20},{label:"30",value:30},{label:"50",value:50}],onChange:function(e){return te(e.value)}})]}),Object(b.jsxs)("section",{className:"search",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23",children:Object(b.jsx)("path",{id:"Icon_ionic-ios-search","data-name":"Icon ionic-ios-search",d:"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z",transform:"translate(-4.5 -4.493)",fill:"#707070",opacity:"0.74"})}),Object(b.jsx)("input",{value:Q,onChange:function(e){return $(e.target.value)},placeholder:"Search for User or Message"}),Q&&Object(b.jsx)("button",{onClick:function(){return $("")},children:Object(b.jsx)(D,{})})]}),Object(b.jsxs)("section",{className:"date ".concat(le?"open":""),ref:t,onClick:function(){return R(!0)},children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30.971",height:"30.971",viewBox:"0 0 30.971 30.971",children:Object(b.jsx)("path",{id:"Path_299","data-name":"Path 299",d:"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z",fill:"#336cf9"})}),le&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"dates",children:[Object(b.jsxs)("p",{children:["From:"," ",Object(b.jsx)(y.a,{format:"DD MMM, YYYY",children:M.startDate})]}),Object(b.jsxs)("p",{children:["To: ",Object(b.jsx)(y.a,{format:"DD MMM, YYYY",children:M.endDate})]})]}),Object(b.jsx)("button",{className:"clearDateFilter",onClick:function(){Y({startDate:new Date,endDate:new Date}),oe(!1)},children:Object(b.jsx)(D,{})})]})]})]}),Object(b.jsxs)("table",{cellSpacing:0,cellPadding:0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsxs)("th",{className:"createdAt"===p.column?"sort "+p.order:"",onClick:function(){N((function(e){return{column:"createdAt",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Date ",Object(b.jsx)(P,{})]}),Object(b.jsxs)("th",{className:"user.firstName"===p.column?"sort "+p.order:"",onClick:function(){N((function(e){return{column:"user.firstName",order:"dsc"===e.order?"asc":"dsc"}}))},children:["User ",Object(b.jsx)(P,{})]}),Object(b.jsxs)("th",{children:["Message ",Object(b.jsx)(P,{})]})]})}),Object(b.jsxs)("tbody",{children:[O.map((function(e){var t;return Object(b.jsxs)("tr",{onClick:function(){return U(e)},children:[Object(b.jsx)("td",{children:Object(b.jsx)(y.a,{format:"hh:mm a, DD MMM, YYYY",children:e.createdAt})}),Object(b.jsxs)("td",{className:"user",children:[Object(b.jsx)(V,{src:(null===(t=e.user)||void 0===t?void 0:t.profileImg)||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[e.name,Object(b.jsx)("span",{className:"phone",children:e.phone}),Object(b.jsx)("span",{className:"phone",children:e.email})]})]}),Object(b.jsx)("td",{className:"message",children:e.message})]},e._id)})),0===O.length&&Object(b.jsx)("tr",{className:"placeholder",children:Object(b.jsx)("td",{children:"Nothing yet."})})]}),Object(b.jsx)("tfoot",{children:Object(b.jsx)("tr",{children:Object(b.jsx)(T,{total:o,perPage:ee,currentPage:B,btns:5,setPage:L})})})]}),Object(b.jsx)(g,{open:s,className:"msg",children:s}),Object(b.jsx)(g,{open:q,onBackdropClick:function(){return R(!1)},backdropClass:"datePicker",style:se,children:Object(b.jsx)(C.DateRange,{className:"dateRange",ranges:[M],onChange:function(e){Y(e.range1),e.range1.endDate!==e.range1.startDate&&(R(!1),oe(!0))}})}),Object(b.jsx)(g,{open:Z,head:!0,setOpen:U,label:"Contact Request",className:"formModal singleContact",children:Object(b.jsxs)("div",{className:"content",children:[Object(b.jsxs)("div",{className:"user",children:[null===Z||void 0===Z?void 0:Z.name,Object(b.jsx)("span",{children:(null===Z||void 0===Z?void 0:Z.email)||(null===Z||void 0===Z?void 0:Z.phone)})]}),Object(b.jsx)("p",{className:"message",children:null===Z||void 0===Z?void 0:Z.message}),Object(b.jsx)("div",{className:"actions",onClick:function(){return v({label:"Delete Contact Requets",question:"You sure want to delete this request?",callback:function(){fetch("/api/deleteContactRequest",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:Z._id})}).then((function(e){return e.json()})).then((function(e){"ok"===e.code?(x((function(e){return e.filter((function(e){return e._id!==Z._id}))})),U(null)):a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not delete Contact Request."})]})]}))})).catch((function(e){console.log(e),a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not delete Contact Request. Make sure you're online."})]})]}))}))}})},children:Object(b.jsx)("button",{className:"delete",children:"Delete"})})]})})]})},De=function(e){e.history,e.location,e.pathname;var t=Object(r.useRef)(),c=Object(r.useState)(null),n=Object(d.a)(c,2),s=n[0],a=n[1],i=Object(r.useState)(0),l=Object(d.a)(i,2),o=l[0],j=l[1],u=Object(r.useState)([]),h=Object(d.a)(u,2),O=h[0],x=h[1],m=Object(r.useState)({column:"createdAt",order:"dsc"}),f=Object(d.a)(m,2),p=f[0],N=f[1],w=Object(r.useState)({startDate:new Date,endDate:new Date}),S=Object(d.a)(w,2),M=S[0],Y=S[1],F=Object(r.useState)(!1),_=Object(d.a)(F,2),q=_[0],R=_[1],I=Object(r.useState)(1),H=Object(d.a)(I,2),B=H[0],L=H[1],E=Object(r.useState)(null),W=Object(d.a)(E,2),Z=W[0],U=W[1],G=Object(r.useState)(""),J=Object(d.a)(G,2),Q=J[0],$=J[1],K=Object(r.useState)(20),X=Object(d.a)(K,2),ee=X[0],te=X[1],ce=Object(r.useState)({}),ne=Object(d.a)(ce,2),se=ne[0],ae=ne[1],ie=Object(r.useState)(!1),re=Object(d.a)(ie,2),le=re[0],oe=re[1];return Object(r.useLayoutEffect)((function(){var e=t.current.getBoundingClientRect(),c=e.height,n=e.y,s=e.width,a=e.x;ae({position:"fixed",top:c+n+4,right:window.innerWidth-a-s})}),[]),Object(r.useEffect)((function(){var e=z()(M.startDate).format("YYYY-MM-DD"),t=(z()(M.endDate).format("YYYY-MM-DD"),z()(new Date(M.endDate).setDate(M.endDate.getDate()+1)).format("YYYY-MM-DD"));fetch("/api/viewAllWorkRequest?page=".concat(B,"&perPage=").concat(ee,"&sort=").concat(p.column,"&order=").concat(p.order).concat(Q&&"&q="+Q).concat(le?"&dateFrom="+e+"&dateTo="+t:"")).then((function(e){return e.json()})).then((function(e){var t;"ok"===e.code?(x(e.requests.requests),j((null===(t=e.requests.pageInfo[0])||void 0===t?void 0:t.count)||0)):a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get Work Requests."})]})]}))})).catch((function(e){console.log(e),a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get Work Requests. Make sure you're online."})]})]}))}))}),[B,ee,p.column,p.order,Q,le]),Object(b.jsxs)("div",{className:"table contactContainer",children:[Object(b.jsx)("div",{style:{display:"none"},children:Object(b.jsx)(D,{})}),Object(b.jsxs)("div",{className:"filters",children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Total:"}),o]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"Per Page:"}),Object(b.jsx)(A,{defaultValue:0,options:[{label:"20",value:20},{label:"30",value:30},{label:"50",value:50}],onChange:function(e){return te(e.value)}})]}),Object(b.jsxs)("section",{className:"search",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23",children:Object(b.jsx)("path",{id:"Icon_ionic-ios-search","data-name":"Icon ionic-ios-search",d:"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z",transform:"translate(-4.5 -4.493)",fill:"#707070",opacity:"0.74"})}),Object(b.jsx)("input",{value:Q,onChange:function(e){return $(e.target.value)},placeholder:"Search for Name, phone, email"}),Q&&Object(b.jsx)("button",{onClick:function(){return $("")},children:Object(b.jsx)(D,{})})]}),Object(b.jsxs)("section",{className:"date ".concat(le?"open":""),ref:t,onClick:function(){return R(!0)},children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30.971",height:"30.971",viewBox:"0 0 30.971 30.971",children:Object(b.jsx)("path",{id:"Path_299","data-name":"Path 299",d:"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z",fill:"#336cf9"})}),le&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"dates",children:[Object(b.jsxs)("p",{children:["From:"," ",Object(b.jsx)(y.a,{format:"DD MMM, YYYY",children:M.startDate})]}),Object(b.jsxs)("p",{children:["To: ",Object(b.jsx)(y.a,{format:"DD MMM, YYYY",children:M.endDate})]})]}),Object(b.jsx)("button",{className:"clearDateFilter",onClick:function(){Y({startDate:new Date,endDate:new Date}),oe(!1)},children:Object(b.jsx)(D,{})})]})]})]}),Object(b.jsxs)("table",{cellSpacing:0,cellPadding:0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsxs)("th",{className:"createdAt"===p.column?"sort "+p.order:"",onClick:function(){N((function(e){return{column:"createdAt",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Date ",Object(b.jsx)(P,{})]}),Object(b.jsxs)("th",{className:"user.firstName"===p.column?"sort "+p.order:"",onClick:function(){N((function(e){return{column:"user.firstName",order:"dsc"===e.order?"asc":"dsc"}}))},children:["User ",Object(b.jsx)(P,{})]}),Object(b.jsx)("th",{children:"Resume"})]})}),Object(b.jsxs)("tbody",{children:[O.map((function(e){var t;return Object(b.jsxs)("tr",{onClick:function(){return U(e)},children:[Object(b.jsx)("td",{children:Object(b.jsx)(y.a,{format:"hh:mm a, DD MMM, YYYY",children:e.createdAt})}),Object(b.jsxs)("td",{className:"user",children:[Object(b.jsx)(V,{src:(null===(t=e.user)||void 0===t?void 0:t.profileImg)||"/profile-user.jpg"}),Object(b.jsxs)("p",{className:"name",children:[e.firstName+" "+e.lastName,Object(b.jsx)("span",{className:"phone",children:e.phone}),Object(b.jsx)("span",{className:"phone",children:e.email})]})]}),Object(b.jsx)("td",{className:"message",children:Object(b.jsx)("a",{href:e.resume,target:"_blank",onClick:function(e){return e.stopPropagation()},children:e.resume})})]},e._id)})),0===O.length&&Object(b.jsx)("tr",{className:"placeholder",children:Object(b.jsx)("td",{children:"Nothing yet."})})]}),Object(b.jsx)("tfoot",{children:Object(b.jsx)("tr",{children:Object(b.jsx)(T,{total:o,perPage:ee,currentPage:B,btns:5,setPage:L})})})]}),Object(b.jsx)(g,{open:s,className:"msg",children:s}),Object(b.jsx)(g,{open:q,onBackdropClick:function(){return R(!1)},backdropClass:"datePicker",style:se,children:Object(b.jsx)(C.DateRange,{className:"dateRange",ranges:[M],onChange:function(e){Y(e.range1),e.range1.endDate!==e.range1.startDate&&(R(!1),oe(!0))}})}),Object(b.jsx)(g,{open:Z,head:!0,label:"Work Request",setOpen:U,className:"formModal singleContact",children:Object(b.jsxs)("div",{className:"content",children:[Object(b.jsxs)("div",{className:"user",children:[(null===Z||void 0===Z?void 0:Z.firstName)+" "+(null===Z||void 0===Z?void 0:Z.lastName),Object(b.jsxs)("span",{children:[null===Z||void 0===Z?void 0:Z.phone,", ",null===Z||void 0===Z?void 0:Z.email]})]}),Object(b.jsxs)("div",{className:"message",children:[Object(b.jsx)("p",{children:"Resume:"}),Object(b.jsx)("p",{children:Object(b.jsx)("a",{target:"_blank",href:null===Z||void 0===Z?void 0:Z.resume,children:null===Z||void 0===Z?void 0:Z.resume})}),(null===Z||void 0===Z?void 0:Z.dscr)&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{children:"Description"}),Object(b.jsx)("p",{children:null===Z||void 0===Z?void 0:Z.dscr})]})]}),Object(b.jsx)("div",{className:"actions",onClick:function(){return v({label:"Delete Contact Requets",question:"You sure want to delete this request?",callback:function(){fetch("/api/deleteContactRequest",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:Z._id})}).then((function(e){return e.json()})).then((function(e){"ok"===e.code?(x((function(e){return e.filter((function(e){return e._id!==Z._id}))})),U(null)):a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not delete Contact Request."})]})]}))})).catch((function(e){console.log(e),a(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not delete Contact Request. Make sure you're online."})]})]}))}))}})},children:Object(b.jsx)("button",{className:"delete",children:"Delete"})})]})})]})};c(117);var Se=function(){var e=Object(r.useContext)(u),t=e.user,c=e.setUser,n=Object(O.g)(),s=Object(r.useRef)(null),a=Object(r.useState)(!1),i=Object(d.a)(a,2),l=i[0],o=i[1],j=Object(r.useState)(!1),h=Object(d.a)(j,2),m=(h[0],h[1],Object(r.useState)(!1)),f=Object(d.a)(m,2),g=f[0],v=f[1],N=Object(r.useState)(!1),C=Object(d.a)(N,2),w=C[0],D=C[1],S=Object(r.useState)(null),M=Object(d.a)(S,2),Y=(M[0],M[1]);return Object(r.useEffect)((function(){g&&fetch("/api/editAdminProfile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({notificationLastRead:new Date})}).then((function(e){return e.json()})).then((function(e){e.user&&c((function(t){return Object(p.a)(Object(p.a)({},t),{},{notificationLastRead:e.user.notificationLastRead})}))})).catch((function(e){console.log(e)}))}),[g]),Object(r.useEffect)((function(){t&&(t.notifications.find((function(e){return new Date(e.createdAt)>new Date(t.notificationLastRead)}))&&D(!0),g&&D(!1))}),[g,t]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"profile",children:[Object(b.jsx)("button",{className:"bell ".concat(w?"unread":""),onClick:function(){return v(!0)},children:Object(b.jsx)(V,{src:"/notification-bell.png"})}),Object(b.jsx)(V,{src:null===t||void 0===t?void 0:t.profileImg,className:"avatar",onClick:function(){return o(!l)}}),l&&Object(b.jsxs)("div",{className:"menu",ref:s,onClick:function(){return o(!1)},children:[Object(b.jsx)("p",{className:"name",children:t.name||t.phone}),Object(b.jsx)("div",{className:"links",children:Object(b.jsx)(x.b,{className:"link settings",to:"/dashboard/profile",children:"Settings"})}),Object(b.jsxs)("button",{className:"logout",onClick:function(){fetch("/api/logout").then((function(e){return e.json()})).then((function(e){c(null),n.push("/")})).catch((function(e){console.log(e),Y(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return Y(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not logout."})]})]}))}))},children:["Logout",Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31.702",height:"31.702",viewBox:"0 0 31.702 31.702",children:Object(b.jsx)("path",{id:"Path_1758","data-name":"Path 1758",d:"M15.487,25.174l2.483,2.483,8.806-8.806L17.97,10.045l-2.483,2.483,4.544,4.562H3v3.522H20.031ZM31.18,3H6.522A3.521,3.521,0,0,0,3,6.522v7.045H6.522V6.522H31.18V31.18H6.522V24.135H3V31.18A3.521,3.521,0,0,0,6.522,34.7H31.18A3.533,3.533,0,0,0,34.7,31.18V6.522A3.533,3.533,0,0,0,31.18,3Z",transform:"translate(-3 -3)",fill:"#fc0660"})})]})]}),g&&Object(b.jsxs)("ul",{className:"notiWrapper",children:[t.notifications.reverse().map((function(e,t){return Object(b.jsxs)("li",{children:[Object(b.jsx)(y.a,{format:"hh:mm",children:e.createdAt}),Object(b.jsx)("p",{className:"title",children:e.title}),Object(b.jsx)("p",{className:"body",children:e.body})]},t)})),0===t.notifications.length&&Object(b.jsx)("li",{className:"placeholder",children:"Nothing for now."})]})]}),(l||g)&&Object(b.jsx)("div",{className:"backdrop",onClick:function(){o(!1),v(!1)}})]})},Me=function(){Object(O.g)();var e,t,c=Object(r.useState)({}),n=Object(d.a)(c,2),s=n[0],a=n[1],i=Object(r.useState)(null),l=Object(d.a)(i,2),o=l[0],j=l[1];return Object(r.useEffect)((function(){fetch("/api/getDashboardData").then((function(e){return e.json()})).then((function(e){"ok"===e.code?a(e):j(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return j(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get data"})]})]}))})).catch((function(e){j(Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return j(null)},children:"Okay"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{}),Object(b.jsx)("h4",{children:"Could not get data. Make sure you're online."})]})]})),console.log(e)}))}),[]),Object(b.jsxs)("div",{className:"homeContainer",children:[Object(b.jsxs)("div",{className:"total",children:[Object(b.jsx)("p",{children:"Total milestone in progress."}),Object(b.jsx)("h3",{children:s.activeMilestones||0})]}),Object(b.jsxs)("div",{className:"total",children:[Object(b.jsx)("p",{children:"Total dispute pending verdict."}),Object(b.jsx)("h3",{children:s.activeDisputes||0})]}),Object(b.jsxs)("div",{className:"total",children:[Object(b.jsxs)("p",{children:["Total Transaction this month"," ",Object(b.jsx)("span",{children:Object(b.jsx)(y.a,{format:"MMM, YYYY",children:new Date})})]}),Object(b.jsx)("h3",{children:(null===(e=s.transactionThisMonth)||void 0===e?void 0:e.fix())||0})]}),Object(b.jsxs)("div",{className:"recentTrans",children:[Object(b.jsx)("p",{children:"Latest Transactions"}),Object(b.jsx)("ul",{children:(null===(t=s.recentTrans)||void 0===t?void 0:t.map((function(e){var t,c,n;return Object(b.jsxs)("li",{children:[Object(b.jsxs)("div",{className:"transDetail",children:[Object(b.jsx)(V,{src:null===(t=e.user)||void 0===t?void 0:t.profileImg}),Object(b.jsxs)("p",{className:"name",children:[(null===(c=e.user)||void 0===c?void 0:c.firstName)+" "+(null===(n=e.user)||void 0===n?void 0:n.lastName)||"Deleted user",Object(b.jsx)(y.a,{className:"date",format:"MMM DD, YYYY",children:e.createdAt})]})]}),Object(b.jsx)("div",{className:"amount",children:Object(b.jsxs)("h4",{children:["\u20b9 ",e.amount.fix()]})})]},e._id)})))||Object(b.jsx)("li",{children:"Nothing for now"})}),Object(b.jsx)(x.b,{className:"viewAll",to:"/dashboard/transactions",children:"View All"})]}),Object(b.jsx)(g,{className:"msg",open:o,children:o})]})};var Ye=function(e){var t=e.label,c=e.className,n=e.location,s=e.link,a=e.path,i=e.children;return Object(b.jsxs)("li",{className:"accordion ".concat(c||""," ").concat(n.pathname.startsWith(s)&&"open"),children:[Object(b.jsx)(x.b,{to:a,children:t}),n.pathname.startsWith(s)&&i]})},Pe=function(e){var t=e.location,c=(Object(r.useContext)(u).user,Object(r.useState)(!1)),n=Object(d.a)(c,2),s=n[0],a=n[1];return Object(b.jsxs)("div",{className:"account ".concat(t.pathname.startsWith("/dashboard/deals/")?"chatSection":""),children:[Object(b.jsxs)("ul",{className:"sidebar ".concat(s?"open":""),onClick:function(e){return a(!1)},children:[Object(b.jsx)("li",{children:Object(b.jsx)(V,{className:"logo",src:"/logo_land.jpg",alt:"Delivery pay logo"})}),Object(b.jsx)("li",{className:"/dashboard"===t.pathname||t.pathname.startsWith("/dashboard/home")?"active":void 0,children:Object(b.jsxs)(x.b,{to:"/dashboard/home",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)(V,{src:"/dashboard.png"})}),Object(b.jsx)("p",{className:"label",children:"Home"})]})}),Object(b.jsx)("li",{className:t.pathname.startsWith("/dashboard/milestones")?"active":void 0,children:Object(b.jsxs)(x.b,{to:"/dashboard/milestones",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)(V,{src:"/buyer.png"})}),Object(b.jsx)("p",{className:"label",children:"Milestones"})]})}),Object(b.jsx)("li",{className:t.pathname.startsWith("/dashboard/transactions")?"active":void 0,children:Object(b.jsxs)(x.b,{to:"/dashboard/transactions",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)(V,{src:"/transaction.png"})}),Object(b.jsx)("p",{className:"label",children:"Transactions"})]})}),Object(b.jsx)("li",{className:t.pathname.startsWith("/dashboard/users")?"active":void 0,children:Object(b.jsxs)(x.b,{to:"/dashboard/users",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)(V,{src:"/deal.png"})}),Object(b.jsx)("p",{className:"label",children:"Users"})]})}),Object(b.jsx)("li",{className:t.pathname.startsWith("/dashboard/disputes")?"active":void 0,children:Object(b.jsxs)(x.b,{to:"/dashboard/disputes",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)(V,{src:"/deal.png"})}),Object(b.jsx)("p",{className:"label",children:"Disputes"})]})}),Object(b.jsx)("li",{className:"notifications ".concat(t.pathname.startsWith("/dashboard/pushNotificaitons")?"active":void 0),children:Object(b.jsxs)(x.b,{to:"/dashboard/pushNotificaitons",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)(V,{src:"/setting.png"})}),Object(b.jsx)("p",{className:"label",children:"Push Notifications"})]})}),Object(b.jsx)("li",{className:"settings ".concat(t.pathname.startsWith("/dashboard/settings")?"active":void 0),children:Object(b.jsxs)(x.b,{to:"/dashboard/settings",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)(V,{src:"/setting.png"})}),Object(b.jsx)("p",{className:"label",children:"Settings"})]})}),Object(b.jsx)("li",{className:"settings ".concat(t.pathname.startsWith("/dashboard/siteSettings")?"active":void 0),children:Object(b.jsxs)(x.b,{to:"/dashboard/siteSettings",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)(V,{src:"/setting.png"})}),Object(b.jsx)("p",{className:"label",children:"Site Settings"})]})}),Object(b.jsx)(Ye,{className:"support ".concat(t.pathname.startsWith("/dashboard/support")?"active":""),location:t,label:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)(V,{src:"/customer-support.png"})}),Object(b.jsx)("p",{className:"label",children:"Customer Support"})]}),link:"/dashboard/support",path:"/dashboard/support/faq",children:Object(b.jsxs)("ul",{className:"",children:[Object(b.jsx)("li",{children:Object(b.jsxs)(x.b,{to:"/dashboard/support/faq",className:"".concat(t.pathname.startsWith("/dashboard/support/faq")?"active":""),children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)(V,{src:"/message.png"})}),Object(b.jsx)("p",{className:"label",children:"FAQ Blogs"})]})}),Object(b.jsx)("li",{children:Object(b.jsxs)(x.b,{to:"/dashboard/support/tickets",className:"".concat(t.pathname.startsWith("/dashboard/support/ticket")?"active":""),children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)(V,{src:"/tickets.png"})}),Object(b.jsx)("p",{className:"label",children:"Tickets"})]})}),Object(b.jsx)("li",{children:Object(b.jsxs)(x.b,{to:"/dashboard/support/workRequest",className:"".concat(t.pathname.startsWith("/dashboard/support/workRequest")?"active":""),children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)(V,{src:"/cargo.png"})}),Object(b.jsx)("p",{className:"label",children:"Job Application"})]})}),Object(b.jsx)("li",{children:Object(b.jsxs)(x.b,{to:"/dashboard/support/contactRequest",className:"".concat(t.pathname.startsWith("/dashboard/support/contactRequest")?"active":""),children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)(V,{src:"/cargo.png"})}),Object(b.jsx)("p",{className:"label",children:"Contact Request"})]})})]})})]}),s&&Object(b.jsx)("div",{className:"sidebarBackdrop",onClick:function(){return a(!1)}}),Object(b.jsxs)("main",{children:[Object(b.jsxs)("header",{children:[Object(b.jsx)("button",{className:"menuBtn",onClick:function(){return a(!0)},children:Object(b.jsx)(V,{src:"/menu.svg"})}),Object(b.jsx)("h3",{children:"Now Pay after Delivery with Delivery Pay"}),Object(b.jsx)(Se,{})]}),Object(b.jsxs)(O.d,{children:[Object(b.jsx)(O.b,{path:"/dashboard/milestones",component:X}),Object(b.jsx)(O.b,{path:"/dashboard/transactions",component:Q}),Object(b.jsx)(O.b,{path:"/dashboard/pushNotificaitons",component:de}),Object(b.jsx)(O.b,{path:"/dashboard/users/:_id",component:fe}),Object(b.jsx)(O.b,{path:"/dashboard/users",component:pe}),Object(b.jsx)(O.b,{exact:!0,path:"/dashboard/disputes",component:xe}),Object(b.jsx)(O.b,{path:"/dashboard/support/faq",component:ge}),Object(b.jsx)(O.b,{path:"/dashboard/support/ticket/:_id",component:Ce}),Object(b.jsx)(O.b,{path:"/dashboard/support/tickets",component:ye}),Object(b.jsx)(O.b,{path:"/dashboard/support/workRequest",component:De}),Object(b.jsx)(O.b,{path:"/dashboard/settings",component:le}),Object(b.jsx)(O.b,{path:"/dashboard/siteSettings",component:ae}),Object(b.jsx)(O.b,{path:"/dashboard/support/contactRequest",component:we}),Object(b.jsx)(O.b,{exact:!0,path:"/dashboard/disputes/:_id",component:be}),Object(b.jsx)(O.b,{path:"/",component:Me})]})]}),Object(b.jsxs)("ul",{className:"mobileMenu",children:[Object(b.jsx)("li",{className:"/dashboard"===t.pathname||t.pathname.startsWith("/dashboard/home")?"active":void 0,children:Object(b.jsxs)(x.b,{to:"/dashboard/home",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21.648",height:"21.513",viewBox:"0 0 21.648 21.513",children:Object(b.jsx)("path",{id:"Path_287","data-name":"Path 287",d:"M21.387,10.488A1.079,1.079,0,0,0,21.3,8.979L11.626.289a1.185,1.185,0,0,0-1.576,0L.342,9.44A1.073,1.073,0,0,0,.3,10.95l.245.258A1.043,1.043,0,0,0,2,11.321l.724-.665v9.762A1.071,1.071,0,0,0,3.78,21.5H7.563A1.071,1.071,0,0,0,8.62,20.418V13.591h4.81v6.828a1.04,1.04,0,0,0,.269.761.987.987,0,0,0,.723.323H18.45a1.071,1.071,0,0,0,1.057-1.084V10.776l.449.4c.245.222.765.042,1.168-.4Z",transform:"translate(-0.008 0.011)",fill:"#fff"})})}),"Home"]})}),Object(b.jsx)("li",{className:"deals ".concat(t.pathname.startsWith("/dashboard/deals")?"active":void 0),children:Object(b.jsxs)(x.b,{to:"/dashboard/deals",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26.55",height:"25.219",viewBox:"0 0 26.55 25.219",children:Object(b.jsx)("path",{id:"Path_1","data-name":"Path 1",d:"M-242.2-184.285h-13l26.55-10.786-4.252,25.219-5.531-10.637-2.127,4.68v-6.382l7.659-9.148h2.34",transform:"translate(255.198 195.071)",fill:"#fff"})})}),"Deals"]})}),Object(b.jsx)("li",{className:t.pathname.startsWith("/dashboard/wallet")?"active":void 0,children:Object(b.jsxs)(x.b,{to:"/dashboard/wallet",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20.886",height:"22.948",viewBox:"0 0 20.886 22.948",children:[Object(b.jsxs)("g",{id:"Rectangle_2","data-name":"Rectangle 2",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(b.jsx)("rect",{width:"20.886",height:"16.244",rx:"2",stroke:"none"}),Object(b.jsx)("rect",{x:"1",y:"1",width:"18.886",height:"14.244",rx:"1",fill:"none"})]}),Object(b.jsxs)("g",{id:"Rectangle_3","data-name":"Rectangle 3",transform:"translate(0 9.283)",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(b.jsx)("rect",{width:"20.886",height:"6.962",rx:"2",stroke:"none"}),Object(b.jsx)("rect",{x:"1",y:"1",width:"18.886",height:"4.962",rx:"1",fill:"none"})]}),Object(b.jsx)("path",{id:"Path_2","data-name":"Path 2",d:"M-180.174-182v7.923l4.1-4.653,3.932,4.653V-182Z",transform:"translate(186.6 197.025)",fill:"#fff"})]})}),"Wallet"]})}),Object(b.jsx)("li",{className:"hold ".concat(t.pathname.startsWith("/dashboard/hold")?"active":void 0),children:Object(b.jsxs)(x.b,{to:"/dashboard/hold",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"27",viewBox:"0 0 22 27",children:[Object(b.jsx)("text",{id:"_3","data-name":"3",transform:"translate(14 14) rotate(180)",fill:"#fff",fontSize:"10",fontFamily:"Ebrima-Bold, Ebrima",fontWeight:"700",children:Object(b.jsx)("tspan",{x:"0",y:"0",children:"3"})}),Object(b.jsxs)("g",{id:"Group_166","data-name":"Group 166",transform:"translate(-534.967 -611.816)",children:[Object(b.jsxs)("g",{id:"Rectangle_1132","data-name":"Rectangle 1132",transform:"translate(534.967 620.816)",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(b.jsx)("rect",{width:"22",height:"18",rx:"4",stroke:"none"}),Object(b.jsx)("rect",{x:"1",y:"1",width:"20",height:"16",rx:"3",fill:"none"})]}),Object(b.jsxs)("g",{id:"Rectangle_1133","data-name":"Rectangle 1133",transform:"translate(539.967 611.816)",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(b.jsx)("path",{d:"M6.5,0h0A6.5,6.5,0,0,1,13,6.5V11a0,0,0,0,1,0,0H0a0,0,0,0,1,0,0V6.5A6.5,6.5,0,0,1,6.5,0Z",stroke:"none"}),Object(b.jsx)("path",{d:"M6.5,1h0A5.5,5.5,0,0,1,12,6.5V9.214a.786.786,0,0,1-.786.786H1.786A.786.786,0,0,1,1,9.214V6.5A5.5,5.5,0,0,1,6.5,1Z",fill:"none"})]})]})]})}),"Hold"]})}),Object(b.jsx)("li",{className:"trans ".concat(t.pathname.startsWith("/dashboard/transactions")?"active":void 0),children:Object(b.jsxs)(x.b,{to:"/dashboard/transactions",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsxs)("svg",{id:"Group_283","data-name":"Group 283",xmlns:"http://www.w3.org/2000/svg",width:"28.407",height:"25.407",viewBox:"0 0 28.407 25.407",children:[Object(b.jsxs)("g",{id:"Path_4","data-name":"Path 4",transform:"translate(3)",fill:"none",children:[Object(b.jsx)("path",{d:"M12.7,0A12.7,12.7,0,1,1,0,12.7,12.7,12.7,0,0,1,12.7,0Z",stroke:"none"}),Object(b.jsx)("path",{d:"M 12.70325660705566 1.999996185302734 C 9.844316482543945 1.999996185302734 7.156496047973633 3.113327026367188 5.134906768798828 5.134906768798828 C 3.113327026367188 7.156496047973633 1.999996185302734 9.844316482543945 1.999996185302734 12.70325660705566 C 1.999996185302734 15.56219673156738 3.113327026367188 18.2500171661377 5.134906768798828 20.2716064453125 C 7.156496047973633 22.29318618774414 9.844316482543945 23.40651702880859 12.70325660705566 23.40651702880859 C 15.56219673156738 23.40651702880859 18.2500171661377 22.29318618774414 20.2716064453125 20.2716064453125 C 22.29318618774414 18.2500171661377 23.40651702880859 15.56219673156738 23.40651702880859 12.70325660705566 C 23.40651702880859 9.844316482543945 22.29318618774414 7.156496047973633 20.2716064453125 5.134906768798828 C 18.2500171661377 3.113327026367188 15.56219673156738 1.999996185302734 12.70325660705566 1.999996185302734 M 12.70325660705566 -3.814697265625e-06 C 19.71906661987305 -3.814697265625e-06 25.40651702880859 5.687446594238281 25.40651702880859 12.70325660705566 C 25.40651702880859 19.71906661987305 19.71906661987305 25.40651702880859 12.70325660705566 25.40651702880859 C 5.687446594238281 25.40651702880859 -3.814697265625e-06 19.71906661987305 -3.814697265625e-06 12.70325660705566 C -3.814697265625e-06 5.687446594238281 5.687446594238281 -3.814697265625e-06 12.70325660705566 -3.814697265625e-06 Z",stroke:"none",fill:"#fff"})]}),Object(b.jsxs)("g",{id:"Polygon_1","data-name":"Polygon 1",transform:"translate(6.001 12.353) rotate(-150)",fill:"#fff",children:[Object(b.jsx)("path",{d:"M 4.929044723510742 3.619362831115723 L 2.000004529953003 3.619362831115723 L 3.464524507522583 1.666669487953186 L 4.929044723510742 3.619362831115723 Z",stroke:"none"}),Object(b.jsx)("path",{d:"M 3.464524507522583 2.86102294921875e-06 L 6.929044723510742 4.619362831115723 L 4.291534423828125e-06 4.619362831115723 L 3.464524507522583 2.86102294921875e-06 Z",stroke:"none",fill:"#fff"})]}),Object(b.jsxs)("g",{id:"Rectangle_4","data-name":"Rectangle 4",transform:"translate(0 11.86) rotate(-22)",fill:"#336cf9",stroke:"#336cf9",strokeWidth:"1",children:[Object(b.jsx)("rect",{width:"6.929",height:"4.619",stroke:"none"}),Object(b.jsx)("rect",{x:"0.5",y:"0.5",width:"5.929",height:"3.619",fill:"none"})]}),Object(b.jsxs)("g",{id:"Group_5","data-name":"Group 5",transform:"translate(15.704 4.888)",children:[Object(b.jsx)("line",{id:"Line_3","data-name":"Line 3",y2:"9.239",transform:"translate(0 0)",fill:"none",stroke:"#fff",strokeWidth:"2"}),Object(b.jsx)("line",{id:"Line_4","data-name":"Line 4",x2:"6.929",y2:"2.31",transform:"translate(0 9.239)",fill:"none",stroke:"#fff",strokeWidth:"2"})]})]})}),"Transactions"]})})]})]})};function Ae(){var e=.01*window.innerHeight;document.body.style.setProperty("--vh","".concat(e,"px"))}function Fe(e){var t=e.children,c=e.path,n=e.component,s=Object(r.useContext)(u).user,a=Object(O.g)();return s?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(O.b,{path:c,component:n,children:t})}):Object(b.jsx)(O.a,{to:{pathname:"/login",state:{from:a.location.pathname}}})}Number.prototype.fix=function(e){return+this.toFixed(e||2)};var _e=function(){var e=Object(r.useState)(window.innerWidth<=480),t=Object(d.a)(e,2);return t[0],t[1],Object(r.useEffect)((function(){window.addEventListener("resize",(function(){return Ae()})),Ae()}),[]),Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(x.a,{children:Object(b.jsxs)(O.d,{children:[Object(b.jsx)(Fe,{path:"/dashboard",component:Pe}),Object(b.jsx)(O.b,{exact:!0,path:"/",component:G}),Object(b.jsx)(O.b,{exact:!0,path:"/login",component:G}),Object(b.jsx)(O.b,{exact:!0,path:"/join",component:G}),Object(b.jsx)(O.b,{exact:!0,path:"/resetPassword",component:G}),Object(b.jsx)(O.b,{path:"/",children:Object(b.jsxs)("div",{className:"generic",children:[Object(b.jsx)(R,{}),Object(b.jsx)("div",{className:"fourFour",children:Object(b.jsx)("h1",{children:"404"})}),Object(b.jsx)(I,{})]})})]})})})},qe=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,121)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))},Ve=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Te(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),c=window.atob(t),n=new Uint8Array(c.length),s=0;s<c.length;++s)n[s]=c.charCodeAt(s);return n}function Re(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var c=e.installing;null!=c&&(c.onstatechange=function(){"installed"===c.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)),navigator.serviceWorker.ready.then(function(){var e=Object(ce.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Te("BOAary6p08dAK6T2GSg0zRGrWKk5qs-sz_-f62My0JXMPG52fqQfzzJlePyF0snUvrdeEg4RSWOVGhrtVc1v3Lo")}).then((function(e){fetch("/api/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ie,He=function(e){Object(a.a)(c,e);var t=Object(i.a)(c);function c(e){var s;return Object(n.a)(this,c),(s=t.call(this,e)).state={hasError:!1,reported:!1},s}return Object(s.a)(c,[{key:"componentDidCatch",value:function(e,t){var c=this,n={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({err:e.name,message:e.message,dscr:t})};fetch("/api/bugReportAuto",n).then((function(e){return e.json()})).then((function(e){"ok"===e.code&&(c.reported=!0)}))}},{key:"render",value:function(){return this.state.hasError?Object(b.jsx)("div",{className:"deathPage",children:Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)("ion-icon",{name:"skull-outline"}),Object(b.jsx)("h2",{children:"Oops."}),Object(b.jsx)("a",{href:"/",children:Object(b.jsx)("ion-icon",{name:"refresh-outline"})}),this.reported&&Object(b.jsx)("p",{children:"successfully reported"})]})}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),c}(l.a.Component);j.a.render(Object(b.jsx)(l.a.StrictMode,{children:Object(b.jsx)(He,{children:Object(b.jsx)(h,{children:Object(b.jsx)(_e,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&window.addEventListener("load",(function(){var e="/service-worker.js";Ve?(function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(c){var n=c.headers.get("content-type");404===c.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Re(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,Ie),navigator.serviceWorker.ready.then(function(){var e=Object(ce.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Te("BOAary6p08dAK6T2GSg0zRGrWKk5qs-sz_-f62My0JXMPG52fqQfzzJlePyF0snUvrdeEg4RSWOVGhrtVc1v3Lo")}).then((function(e){fetch("/api/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):Re(e,Ie)})),qe()},45:function(e,t,c){},84:function(e,t,c){}},[[118,1,2]]]);
//# sourceMappingURL=main.fcf82801.chunk.js.map